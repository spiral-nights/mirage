var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function N(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,N(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),N(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=N(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=N(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return N(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function P(e,t,n){if(e==null)return e;var r=[],i=0;return N(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var I=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},L={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=L,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,I)}catch(e){I(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function P(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?P(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var F=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ee=[],te=-1;function ne(e){return{current:e}}function re(e){0>te||(e.current=ee[te],ee[te]=null,te--)}function z(e,t){te++,ee[te]=e.current,e.current=t}var ie=ne(null),ae=ne(null),oe=ne(null),se=ne(null);function ce(e,t){switch(z(oe,t),z(ae,e),z(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Gd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}re(ie),z(ie,e)}function le(){re(ie),re(ae),re(oe)}function ue(e){e.memoizedState!==null&&z(se,e);var t=ie.current,n=Gd(t,e.type);t!==n&&(z(ae,e),z(ie,n))}function de(e){ae.current===e&&(re(ie),re(ae)),se.current===e&&(re(se),tp._currentValue=R)}var fe,pe;function me(e){if(fe===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);fe=t&&t[1]||``,pe=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+fe+e+pe}var he=!1;function ge(e,t){if(!e||he)return``;he=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{he=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?me(n):``}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me(`Lazy`);case 13:return e.child!==t&&t!==null?me(`Suspense Fallback`):me(`Suspense`);case 19:return me(`SuspenseList`);case 0:case 15:return ge(e.type,!1);case 11:return ge(e.type.render,!1);case 1:return ge(e.type,!0);case 31:return me(`Activity`);default:return``}}function ve(e){try{var t=``,n=null;do t+=_e(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var ye=Object.prototype.hasOwnProperty,be=t.unstable_scheduleCallback,xe=t.unstable_cancelCallback,Se=t.unstable_shouldYield,Ce=t.unstable_requestPaint,we=t.unstable_now,Te=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,De=t.unstable_UserBlockingPriority,Oe=t.unstable_NormalPriority,ke=t.unstable_LowPriority,Ae=t.unstable_IdlePriority,je=t.log,Me=t.unstable_setDisableYieldValue,Ne=null,Pe=null;function Fe(e){if(typeof je==`function`&&Me(e),Pe&&typeof Pe.setStrictMode==`function`)try{Pe.setStrictMode(Ne,e)}catch{}}var Ie=Math.clz32?Math.clz32:ze,Le=Math.log,Re=Math.LN2;function ze(e){return e>>>=0,e===0?32:31-(Le(e)/Re|0)|0}var Be=256,Ve=262144,He=4194304;function Ue(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function We(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ue(n))):i=Ue(o):i=Ue(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ue(n))):i=Ue(o)):i=Ue(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ge(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var e=He;return He<<=1,!(He&62914560)&&(He=4194304),e}function Je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ye(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xe(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ie(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Ze(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Ze(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ie(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Qe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ie(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function $e(e,t){var n=t&-t;return n=n&42?1:et(n),(n&(e.suspendedLanes|t))===0?n:0}function et(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function nt(){var e=L.p;return e===0?(e=window.event,e===void 0?32:_p(e.type)):e}function rt(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var it=Math.random().toString(36).slice(2),at=`__reactFiber$`+it,ot=`__reactProps$`+it,st=`__reactContainer$`+it,ct=`__reactEvents$`+it,lt=`__reactListeners$`+it,ut=`__reactHandles$`+it,dt=`__reactResources$`+it,ft=`__reactMarker$`+it;function pt(e){delete e[at],delete e[ot],delete e[ct],delete e[lt],delete e[ut]}function mt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[st]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mf(e);e!==null;){if(n=e[at])return n;e=mf(e)}return t}e=n,n=e.parentNode}return null}function ht(e){if(e=e[at]||e[st]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function _t(e){var t=e[dt];return t||=e[dt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function vt(e){e[ft]=!0}var yt=new Set,bt={};function xt(e,t){St(e,t),St(e+`Capture`,t)}function St(e,t){for(bt[e]=t,e=0;e<t.length;e++)yt.add(t[e])}var Ct=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),wt={},Tt={};function Et(e){return ye.call(Tt,e)?!0:ye.call(wt,e)?!1:Ct.test(e)?Tt[e]=!0:(wt[e]=!0,!1)}function Dt(e,t,n){if(Et(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ot(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function kt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function At(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function jt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Mt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nt(e){if(!e._valueTracker){var t=jt(e)?`checked`:`value`;e._valueTracker=Mt(e,t,``+e[t])}}function Pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=jt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ft(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var It=/[\n"\\]/g;function Lt(e){return e.replace(It,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Rt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+At(t)):e.value!==``+At(t)&&(e.value=``+At(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Bt(e,o,At(n)):Bt(e,o,At(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+At(s):e.removeAttribute(`name`)}function zt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Nt(e);return}n=n==null?``:``+At(n),t=t==null?n:``+At(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Nt(e)}function Bt(e,t,n){t===`number`&&Ft(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Vt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+At(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ht(e,t,n){if(t!=null&&(t=``+At(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+At(n)}function Ut(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=At(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Nt(e)}function Wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Kt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Gt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function qt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Kt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Kt(e,o,t[o])}function Jt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Yt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zt(e){return Xt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Qt(){}var $t=null;function en(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tn=null,nn=null;function rn(e){var t=ht(e);if(t&&(e=t.stateNode)){var n=e[ot]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Rt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Lt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ot]||null;if(!a)throw Error(i(90));Rt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Pt(r)}break a;case`textarea`:Ht(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Vt(e,!!n.multiple,t,!1)}}}var an=!1;function on(e,t,n){if(an)return e(t,n);an=!0;try{return e(t)}finally{if(an=!1,(tn!==null||nn!==null)&&(xu(),tn&&(t=tn,e=nn,nn=tn=null,rn(t),e)))for(t=0;t<e.length;t++)rn(e[t])}}function sn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ot]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var cn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),ln=!1;if(cn)try{var un={};Object.defineProperty(un,`passive`,{get:function(){ln=!0}}),window.addEventListener(`test`,un,un),window.removeEventListener(`test`,un,un)}catch{ln=!1}var dn=null,fn=null,pn=null;function mn(){if(pn)return pn;var e,t=fn,n=t.length,r,i=`value`in dn?dn.value:dn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return pn=i.slice(e,1<r?1-r:void 0)}function hn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gn(){return!0}function _n(){return!1}function vn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?gn:_n,this.isPropagationStopped=_n,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=gn)},persist:function(){},isPersistent:gn}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=vn(yn),xn=f({},yn,{view:0,detail:0}),Sn=vn(xn),Cn,wn,Tn,En=f({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Tn&&(Tn&&e.type===`mousemove`?(Cn=e.screenX-Tn.screenX,wn=e.screenY-Tn.screenY):wn=Cn=0,Tn=e),Cn)},movementY:function(e){return`movementY`in e?e.movementY:wn}}),Dn=vn(En),On=vn(f({},En,{dataTransfer:0})),kn=vn(f({},xn,{relatedTarget:0})),An=vn(f({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),jn=vn(f({},yn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Mn=vn(f({},yn,{data:0})),Nn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Pn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Fn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fn[e])?!!t[e]:!1}function Ln(){return In}var Rn=vn(f({},xn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=hn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Pn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return e.type===`keypress`?hn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?hn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),zn=vn(f({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=vn(f({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),Vn=vn(f({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),B=vn(f({},En,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Hn=vn(f({},yn,{newState:0,oldState:0})),Un=[9,13,27,32],Wn=cn&&`CompositionEvent`in window,Gn=null;cn&&`documentMode`in document&&(Gn=document.documentMode);var Kn=cn&&`TextEvent`in window&&!Gn,qn=cn&&(!Wn||Gn&&8<Gn&&11>=Gn),Jn=` `,Yn=!1;function Xn(e,t){switch(e){case`keyup`:return Un.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Zn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Qn=!1;function $n(e,t){switch(e){case`compositionend`:return Zn(t);case`keypress`:return t.which===32?(Yn=!0,Jn):null;case`textInput`:return e=t.data,e===Jn&&Yn?null:e;default:return null}}function er(e,t){if(Qn)return e===`compositionend`||!Wn&&Xn(e,t)?(e=mn(),pn=fn=dn=null,Qn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return qn&&t.locale!==`ko`?null:t.data;default:return null}}var tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!tr[e.type]:t===`textarea`}function rr(e,t,n,r){tn?nn?nn.push(r):nn=[r]:tn=r,t=Od(t,`onChange`),0<t.length&&(n=new bn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var ir=null,ar=null;function or(e){xd(e,0)}function sr(e){if(Pt(gt(e)))return e}function cr(e,t){if(e===`change`)return t}var lr=!1;if(cn){var ur;if(cn){var dr=`oninput`in document;if(!dr){var fr=document.createElement(`div`);fr.setAttribute(`oninput`,`return;`),dr=typeof fr.oninput==`function`}ur=dr}else ur=!1;lr=ur&&(!document.documentMode||9<document.documentMode)}function pr(){ir&&(ir.detachEvent(`onpropertychange`,mr),ar=ir=null)}function mr(e){if(e.propertyName===`value`&&sr(ar)){var t=[];rr(t,ar,e,en(e)),on(or,t)}}function hr(e,t,n){e===`focusin`?(pr(),ir=t,ar=n,ir.attachEvent(`onpropertychange`,mr)):e===`focusout`&&pr()}function gr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return sr(ar)}function _r(e,t){if(e===`click`)return sr(t)}function vr(e,t){if(e===`input`||e===`change`)return sr(t)}function yr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var br=typeof Object.is==`function`?Object.is:yr;function xr(e,t){if(br(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ye.call(t,i)||!br(e[i],t[i]))return!1}return!0}function Sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cr(e,t){var n=Sr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Sr(n)}}function wr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ft(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ft(e.document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Dr=cn&&`documentMode`in document&&11>=document.documentMode,Or=null,kr=null,Ar=null,jr=!1;function Mr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jr||Or==null||Or!==Ft(r)||(r=Or,`selectionStart`in r&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ar&&xr(Ar,r)||(Ar=r,r=Od(kr,`onSelect`),0<r.length&&(t=new bn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Or)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Pr={animationend:Nr(`Animation`,`AnimationEnd`),animationiteration:Nr(`Animation`,`AnimationIteration`),animationstart:Nr(`Animation`,`AnimationStart`),transitionrun:Nr(`Transition`,`TransitionRun`),transitionstart:Nr(`Transition`,`TransitionStart`),transitioncancel:Nr(`Transition`,`TransitionCancel`),transitionend:Nr(`Transition`,`TransitionEnd`)},Fr={},Ir={};cn&&(Ir=document.createElement(`div`).style,`AnimationEvent`in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),`TransitionEvent`in window||delete Pr.transitionend.transition);function Lr(e){if(Fr[e])return Fr[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ir)return Fr[e]=t[n];return e}var Rr=Lr(`animationend`),zr=Lr(`animationiteration`),Br=Lr(`animationstart`),Vr=Lr(`transitionrun`),Hr=Lr(`transitionstart`),Ur=Lr(`transitioncancel`),Wr=Lr(`transitionend`),Gr=new Map,Kr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Kr.push(`scrollEnd`);function qr(e,t){Gr.set(e,t),xt(t,[e])}var Jr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Yr=[],Xr=0,Zr=0;function Qr(){for(var e=Xr,t=Zr=Xr=0;t<e;){var n=Yr[t];Yr[t++]=null;var r=Yr[t];Yr[t++]=null;var i=Yr[t];Yr[t++]=null;var a=Yr[t];if(Yr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ni(n,i,a)}}function $r(e,t,n,r){Yr[Xr++]=e,Yr[Xr++]=t,Yr[Xr++]=n,Yr[Xr++]=r,Zr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ei(e,t,n,r){return $r(e,t,n,r),ri(e)}function ti(e,t){return $r(e,null,null,t),ri(e)}function ni(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ie(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ri(e){if(50<fu)throw fu=0,pu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ii={};function ai(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,t,n,r){return new ai(e,t,n,r)}function si(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ci(e,t){var n=e.alternate;return n===null?(n=oi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function li(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ui(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)si(e)&&(s=1);else if(typeof e==`string`)s=Kf(e,n,ie.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=oi(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return di(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=oi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=oi(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=oi(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=oi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function di(e,t,n,r){return e=oi(7,e,r,t),e.lanes=n,e}function V(e,t,n){return e=oi(6,e,null,t),e.lanes=n,e}function fi(e){var t=oi(18,null,null,0);return t.stateNode=e,t}function pi(e,t,n){return t=oi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mi=new WeakMap;function hi(e,t){if(typeof e==`object`&&e){var n=mi.get(e);return n===void 0?(t={value:e,source:t,stack:ve(t)},mi.set(e,t),t):n}return{value:e,source:t,stack:ve(t)}}var gi=[],_i=0,vi=null,yi=0,bi=[],xi=0,Si=null,Ci=1,wi=``;function Ti(e,t){gi[_i++]=yi,gi[_i++]=vi,vi=e,yi=t}function Ei(e,t,n){bi[xi++]=Ci,bi[xi++]=wi,bi[xi++]=Si,Si=e;var r=Ci;e=wi;var i=32-Ie(r)-1;r&=~(1<<i),n+=1;var a=32-Ie(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ci=1<<32-Ie(t)+i|n<<i|r,wi=a+e}else Ci=1<<a|n<<i|r,wi=e}function Di(e){e.return!==null&&(Ti(e,1),Ei(e,1,0))}function Oi(e){for(;e===vi;)vi=gi[--_i],gi[_i]=null,yi=gi[--_i],gi[_i]=null;for(;e===Si;)Si=bi[--xi],bi[xi]=null,wi=bi[--xi],bi[xi]=null,Ci=bi[--xi],bi[xi]=null}function ki(e,t){bi[xi++]=Ci,bi[xi++]=wi,bi[xi++]=Si,Ci=t.id,wi=t.overflow,Si=e}var Ai=null,ji=null,H=!1,Mi=null,Ni=!1,Pi=Error(i(519));function Fi(e){throw Vi(hi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Pi}function Ii(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[at]=e,t[ot]=r,n){case`dialog`:X(`cancel`,t),X(`close`,t);break;case`iframe`:case`object`:case`embed`:X(`load`,t);break;case`video`:case`audio`:for(n=0;n<yd.length;n++)X(yd[n],t);break;case`source`:X(`error`,t);break;case`img`:case`image`:case`link`:X(`error`,t),X(`load`,t);break;case`details`:X(`toggle`,t);break;case`input`:X(`invalid`,t),zt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:X(`invalid`,t);break;case`textarea`:X(`invalid`,t),Ut(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Pd(t.textContent,n)?(r.popover!=null&&(X(`beforetoggle`,t),X(`toggle`,t)),r.onScroll!=null&&X(`scroll`,t),r.onScrollEnd!=null&&X(`scrollend`,t),r.onClick!=null&&(t.onclick=Qt),t=!0):t=!1,t||Fi(e,!0)}function Li(e){for(Ai=e.return;Ai;)switch(Ai.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Ai=Ai.return}}function Ri(e){if(e!==Ai)return!1;if(!H)return Li(e),H=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Kd(e.type,e.memoizedProps)),n=!n),n&&ji&&Fi(e),Li(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ji=pf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));ji=pf(e)}else t===27?(t=ji,ef(e.type)?(e=ff,ff=null,ji=e):ji=t):ji=Ai?df(e.stateNode.nextSibling):null;return!0}function zi(){ji=Ai=null,H=!1}function Bi(){var e=Mi;return e!==null&&(Ql===null?Ql=e:Ql.push.apply(Ql,e),Mi=null),e}function Vi(e){Mi===null?Mi=[e]:Mi.push(e)}var Hi=ne(null),Ui=null,Wi=null;function Gi(e,t,n){z(Hi,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=Hi.current,re(Hi)}function qi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Ji(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),qi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Yi(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;br(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===se.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&Ji(t,e,n,r),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!br(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ui=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qi(e){return ea(Ui,e)}function $i(e,t){return Ui===null&&Zi(e),ea(e,t)}function ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(i(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var ta=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},na=t.unstable_scheduleCallback,ra=t.unstable_NormalPriority,ia={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aa(){return{controller:new ta,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&na(ra,function(){e.controller.abort()})}var sa=null,ca=0,la=0,ua=null;function da(e,t){if(sa===null){var n=sa=[];ca=0,la=pd(),ua={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ca++,t.then(fa,fa),t}function fa(){if(--ca===0&&sa!==null){ua!==null&&(ua.status=`fulfilled`);var e=sa;sa=null,la=0,ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function pa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ma=I.S;I.S=function(e,t){tu=we(),typeof t==`object`&&t&&typeof t.then==`function`&&da(e,t),ma!==null&&ma(e,t)};var ha=ne(null);function ga(){var e=ha.current;return e===null?Rl.pooledCache:e}function _a(e,t){t===null?z(ha,ha.current):z(ha,t.pool)}function va(){var e=ga();return e===null?null:{parent:ia._currentValue,pool:e}}var ya=Error(i(460)),ba=Error(i(474)),xa=Error(i(542)),Sa={then:function(){}};function Ca(e){return e=e.status,e===`fulfilled`||e===`rejected`}function wa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qt,Qt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Oa(e),e;default:if(typeof t.status==`string`)t.then(Qt,Qt);else{if(e=Rl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Oa(e),e}throw Ea=t,ya}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ea=e,ya):e}}var Ea=null;function Da(){if(Ea===null)throw Error(i(459));var e=Ea;return Ea=null,e}function Oa(e){if(e===ya||e===xa)throw Error(i(483))}var ka=null,Aa=0;function ja(e){var t=Aa;return Aa+=1,ka===null&&(ka=[]),wa(ka,e,t)}function Ma(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Na(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Pa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=ci(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=V(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Ta(i)===t.type)?(t=a(t,n.props),Ma(t,n),t.return=e,t):(t=ui(n.type,n.key,n.props,null,e.mode,r),Ma(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=pi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=di(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=V(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=ui(t.type,t.key,t.props,null,e.mode,n),Ma(n,t),n.return=e,n;case v:return t=pi(t,e.mode,n),t.return=e,t;case O:return t=Ta(t),f(e,t,n)}if(F(t)||M(t))return t=di(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ja(t),n);if(t.$$typeof===C)return f(e,$i(e,t),n);Na(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Ta(n),p(e,t,n,r)}if(F(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ja(n),r);if(n.$$typeof===C)return p(e,t,$i(e,n),r);Na(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Ta(r),m(e,t,n,r,i)}if(F(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ja(r),i);if(r.$$typeof===C)return m(e,t,n,$i(t,r),i);Na(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),H&&Ti(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return H&&Ti(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),H&&Ti(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),H&&Ti(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return H&&Ti(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),H&&Ti(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Ta(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ma(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=di(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ui(o.type,o.key,o.props,null,e.mode,c),Ma(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=pi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Ta(o),b(e,r,o,c)}if(F(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ja(o),c);if(o.$$typeof===C)return b(e,r,$i(e,o),c);Na(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=V(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Aa=0;var i=b(e,t,n,r);return ka=null,i}catch(t){if(t===ya||t===xa)throw t;var a=oi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Fa=Pa(!0),Ia=Pa(!1),La=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Va(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ri(e),ni(e,null,n),t}return $r(e,r,t,n),ri(e)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qe(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wa=!1;function Ga(){if(Wa){var e=ua;if(e!==null)throw e}}function Ka(e,t,n,r){Wa=!1;var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(Y&p)===p:(r&p)===p){p!==0&&p===la&&(Wa=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:La=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Kl|=o,e.lanes=o,e.memoizedState=d}}function qa(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ja(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qa(n[e],t)}var Ya=ne(null),Xa=ne(0);function Za(e,t){e=Wl,z(Xa,e),z(Ya,t),Wl=e|t.baseLanes}function Qa(){z(Xa,Wl),z(Ya,Ya.current)}function $a(){Wl=Xa.current,re(Ya),re(Xa)}var eo=ne(null),to=null;function no(e){var t=e.alternate;z(so,so.current&1),z(eo,e),to===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(to=e)}function ro(e){z(so,so.current),z(eo,e),to===null&&(to=e)}function io(e){e.tag===22?(z(so,so.current),z(eo,e),to===null&&(to=e)):ao(e)}function ao(){z(so,so.current),z(eo,eo.current)}function oo(e){re(eo),to===e&&(to=null),re(so)}var so=ne(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||lf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=0,U=null,uo=null,fo=null,po=!1,mo=!1,ho=!1,go=0,_o=0,vo=null,yo=0;function bo(){throw Error(i(321))}function xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,a){return lo=a,U=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?zs:Bs,ho=!1,a=n(r,i),ho=!1,mo&&(a=wo(t,n,r,i)),Co(e),a}function Co(e){I.H=Rs;var t=uo!==null&&uo.next!==null;if(lo=0,fo=uo=U=null,po=!1,_o=0,vo=null,t)throw Error(i(300));e===null||nc||(e=e.dependencies,e!==null&&Xi(e)&&(nc=!0))}function wo(e,t,n,r){U=e;var a=0;do{if(mo&&(vo=null),_o=0,mo=!1,25<=a)throw Error(i(301));if(a+=1,fo=uo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}I.H=Vs,o=t(n,r)}while(mo);return o}function To(){var e=I.H,t=e.useState()[0];return t=typeof t.then==`function`?Mo(t):t,e=e.useState()[0],(uo===null?null:uo.memoizedState)!==e&&(U.flags|=1024),t}function Eo(){var e=go!==0;return go=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Oo(e){if(po){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}po=!1}lo=0,fo=uo=U=null,mo=!1,_o=go=0,vo=null}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?U.memoizedState=fo=e:fo=fo.next=e,fo}function Ao(){if(uo===null){var e=U.alternate;e=e===null?null:e.memoizedState}else e=uo.next;var t=fo===null?U.memoizedState:fo.next;if(t!==null)fo=t,uo=e;else{if(e===null)throw U.alternate===null?Error(i(467)):Error(i(310));uo=e,e={memoizedState:uo.memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null},fo===null?U.memoizedState=fo=e:fo=fo.next=e}return fo}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(e){var t=_o;return _o+=1,vo===null&&(vo=[]),e=wa(vo,e,t),t=U,(fo===null?t.memoizedState:fo.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?zs:Bs),e}function No(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Mo(e);if(e.$$typeof===C)return Qi(e)}throw Error(i(438,String(e)))}function Po(e){var t=null,n=U.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=U.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=jo(),U.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Fo(e,t){return typeof t==`function`?t(e):t}function Io(e){return Lo(Ao(),uo,e)}function Lo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(lo&f)===f:(Y&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===la&&(d=!0);else if((lo&p)===p){u=u.next,p===la&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,U.lanes|=p,Kl|=p;f=u.action,ho&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,U.lanes|=f,Kl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!br(o,e.memoizedState)&&(nc=!0,d&&(n=ua,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ro(e){var t=Ao(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);br(o,t.memoizedState)||(nc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zo(e,t,n){var r=U,a=Ao(),o=H;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!br((uo||a).memoizedState,n);if(s&&(a.memoizedState=n,nc=!0),a=a.queue,us(Ho.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||fo!==null&&fo.memoizedState.tag&1){if(r.flags|=2048,as(9,{destroy:void 0},Vo.bind(null,r,a,n,t),null),Rl===null)throw Error(i(349));o||lo&127||Bo(r,t,n)}return n}function Bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=U.updateQueue,t===null?(t=jo(),U.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vo(e,t,n,r){t.value=n,t.getSnapshot=r,Uo(t)&&Wo(e)}function Ho(e,t,n){return n(function(){Uo(t)&&Wo(e)})}function Uo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch{return!0}}function Wo(e){var t=ti(e,2);t!==null&&gu(t,e,2)}function Go(e){var t=ko();if(typeof e==`function`){var n=e;if(e=n(),ho){Fe(!0);try{n()}finally{Fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:e},t}function Ko(e,t,n,r){return e.baseState=n,Lo(e,uo,typeof r==`function`?r:Fo)}function qo(e,t,n,r,a){if(Fs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};I.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Jo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Jo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),c=I.S;c!==null&&c(o,s),Yo(e,t,s)}catch(n){Zo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),I.T=a}}else try{a=n(i,r),Yo(e,t,a)}catch(n){Zo(e,t,n)}}function Yo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Xo(e,t,n)},function(n){return Zo(e,t,n)}):Xo(e,t,n)}function Xo(e,t,n){t.status=`fulfilled`,t.value=n,Qo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Jo(e,n)))}function Zo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Qo(t),t=t.next;while(t!==r)}e.action=null}function Qo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $o(e,t){return t}function es(e,t){if(H){var n=Rl.formState;if(n!==null){a:{var r=U;if(H){if(ji){b:{for(var i=ji,a=Ni;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){ji=df(i.nextSibling),r=i.data===`F!`;break a}}Fi(r)}r=!1}r&&(t=n[0])}}return n=ko(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},n.queue=r,n=Ms.bind(null,U,r),r.dispatch=n,r=Go(!1),a=Ps.bind(null,U,!1,r.queue),r=ko(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=qo.bind(null,U,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ts(e){return ns(Ao(),uo,e)}function ns(e,t,n){if(t=Lo(e,t,$o)[0],e=Io(Fo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Mo(t)}catch(e){throw e===ya?xa:e}else r=t;t=Ao();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(U.flags|=2048,as(9,{destroy:void 0},rs.bind(null,i,n),null)),[r,a,e]}function rs(e,t){e.action=t}function is(e){var t=Ao(),n=uo;if(n!==null)return ns(t,n,e);Ao(),t=t.memoizedState,n=Ao();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function as(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=U.updateQueue,t===null&&(t=jo(),U.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function os(){return Ao().memoizedState}function ss(e,t,n,r){var i=ko();U.flags|=e,i.memoizedState=as(1|t,{destroy:void 0},n,r===void 0?null:r)}function cs(e,t,n,r){var i=Ao();r=r===void 0?null:r;var a=i.memoizedState.inst;uo!==null&&r!==null&&xo(r,uo.memoizedState.deps)?i.memoizedState=as(t,a,n,r):(U.flags|=e,i.memoizedState=as(1|t,a,n,r))}function ls(e,t){ss(8390656,8,e,t)}function us(e,t){cs(2048,8,e,t)}function ds(e){U.flags|=4;var t=U.updateQueue;if(t===null)t=jo(),U.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fs(e){var t=Ao().memoizedState;return ds({ref:t,nextImpl:e}),function(){if(q&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ps(e,t){return cs(4,2,e,t)}function ms(e,t){return cs(4,4,e,t)}function hs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gs(e,t,n){n=n==null?null:n.concat([e]),cs(4,4,hs.bind(null,t,e),n)}function _s(){}function vs(e,t){var n=Ao();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ys(e,t){var n=Ao();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&xo(t,r[1]))return r[0];if(r=e(),ho){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[r,t],r}function bs(e,t,n){return n===void 0||lo&1073741824&&!(Y&261930)?e.memoizedState=t:(e.memoizedState=n,e=hu(),U.lanes|=e,Kl|=e,n)}function xs(e,t,n,r){return br(n,t)?n:Ya.current===null?!(lo&42)||lo&1073741824&&!(Y&261930)?(nc=!0,e.memoizedState=n):(e=hu(),U.lanes|=e,Kl|=e,t):(e=bs(e,n,r),br(e,t)||(nc=!0),e)}function Ss(e,t,n,r,i){var a=L.p;L.p=a!==0&&8>a?a:8;var o=I.T,s={};I.T=s,Ps(e,!1,t,n);try{var c=i(),l=I.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ns(e,t,pa(c,r),mu(e)):Ns(e,t,r,mu(e))}catch(n){Ns(e,t,{then:function(){},status:`rejected`,reason:n},mu())}finally{L.p=a,o!==null&&s.types!==null&&(o.types=s.types),I.T=o}}function Cs(){}function ws(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ts(e).queue;Ss(e,a,t,R,n===null?Cs:function(){return Es(e),n(r)})}function Ts(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Es(e){var t=Ts(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},mu())}function Ds(){return Qi(tp)}function Os(){return Ao().memoizedState}function ks(){return Ao().memoizedState}function As(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=mu();e=Ba(n);var r=Va(t,e,n);r!==null&&(gu(r,t,n),Ha(r,t,n)),t={cache:aa()},e.payload=t;return}t=t.return}}function js(e,t,n){var r=mu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Is(t,n):(n=ei(e,t,n,r),n!==null&&(gu(n,e,r),Ls(n,t,r)))}function Ms(e,t,n){Ns(e,t,n,mu())}function Ns(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Is(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,br(s,o))return $r(e,t,i,0),Rl===null&&Qr(),!1}catch{}if(n=ei(e,t,i,r),n!==null)return gu(n,e,r),Ls(n,t,r),!0}return!1}function Ps(e,t,n,r){if(r={lane:2,revertLane:pd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(i(479))}else t=ei(e,n,r,2),t!==null&&gu(t,e,2)}function Fs(e){var t=e.alternate;return e===U||t!==null&&t===U}function Is(e,t){mo=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ls(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qe(e,n)}}var Rs={readContext:Qi,use:No,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useLayoutEffect:bo,useInsertionEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useSyncExternalStore:bo,useId:bo,useHostTransitionStatus:bo,useFormState:bo,useActionState:bo,useOptimistic:bo,useMemoCache:bo,useCacheRefresh:bo};Rs.useEffectEvent=bo;var zs={readContext:Qi,use:No,useCallback:function(e,t){return ko().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:ls,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ss(4194308,4,hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ss(4194308,4,e,t)},useInsertionEffect:function(e,t){ss(4,2,e,t)},useMemo:function(e,t){var n=ko();t=t===void 0?null:t;var r=e();if(ho){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ko();if(n!==void 0){var i=n(t);if(ho){Fe(!0);try{n(t)}finally{Fe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,U,e),[r.memoizedState,e]},useRef:function(e){var t=ko();return e={current:e},t.memoizedState=e},useState:function(e){e=Go(e);var t=e.queue,n=Ms.bind(null,U,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return bs(ko(),e,t)},useTransition:function(){var e=Go(!1);return e=Ss.bind(null,U,e.queue,!0,!1),ko().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=U,a=ko();if(H){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Rl===null)throw Error(i(349));Y&127||Bo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ls(Ho.bind(null,r,o,e),[e]),r.flags|=2048,as(9,{destroy:void 0},Vo.bind(null,r,o,n,t),null),n},useId:function(){var e=ko(),t=Rl.identifierPrefix;if(H){var n=wi,r=Ci;n=(r&~(1<<32-Ie(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=go++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=yo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:es,useActionState:es,useOptimistic:function(e){var t=ko();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ps.bind(null,U,!0,n),n.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return ko().memoizedState=As.bind(null,U)},useEffectEvent:function(e){var t=ko(),n={impl:e};return t.memoizedState=n,function(){if(q&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Bs={readContext:Qi,use:No,useCallback:vs,useContext:Qi,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Io,useRef:os,useState:function(){return Io(Fo)},useDebugValue:_s,useDeferredValue:function(e,t){return xs(Ao(),uo.memoizedState,e,t)},useTransition:function(){var e=Io(Fo)[0],t=Ao().memoizedState;return[typeof e==`boolean`?e:Mo(e),t]},useSyncExternalStore:zo,useId:Os,useHostTransitionStatus:Ds,useFormState:ts,useActionState:ts,useOptimistic:function(e,t){return Ko(Ao(),uo,e,t)},useMemoCache:Po,useCacheRefresh:ks};Bs.useEffectEvent=fs;var Vs={readContext:Qi,use:No,useCallback:vs,useContext:Qi,useEffect:us,useImperativeHandle:gs,useInsertionEffect:ps,useLayoutEffect:ms,useMemo:ys,useReducer:Ro,useRef:os,useState:function(){return Ro(Fo)},useDebugValue:_s,useDeferredValue:function(e,t){var n=Ao();return uo===null?bs(n,e,t):xs(n,uo.memoizedState,e,t)},useTransition:function(){var e=Ro(Fo)[0],t=Ao().memoizedState;return[typeof e==`boolean`?e:Mo(e),t]},useSyncExternalStore:zo,useId:Os,useHostTransitionStatus:Ds,useFormState:is,useActionState:is,useOptimistic:function(e,t){var n=Ao();return uo===null?(n.baseState=e,[e,n.queue.dispatch]):Ko(n,uo,e,t)},useMemoCache:Po,useCacheRefresh:ks};Vs.useEffectEvent=fs;function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mu(),i=Ba(r);i.payload=t,n!=null&&(i.callback=n),t=Va(e,i,r),t!==null&&(gu(t,e,r),Ha(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mu(),i=Ba(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Va(e,i,r),t!==null&&(gu(t,e,r),Ha(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mu(),r=Ba(n);r.tag=2,t!=null&&(r.callback=t),t=Va(e,r,n),t!==null&&(gu(t,e,n),Ha(t,e,n))}};function Ws(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(i,a):!0}function Gs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function W(e){Jr(e)}function qs(e){console.error(e)}function Js(e){Jr(e)}function Ys(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Xs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){return n=Ba(n),n.tag=3,n.payload={element:null},n.callback=function(){Ys(e,t)},n}function Qs(e){return e=Ba(e),e.tag=3,e}function $s(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Xs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Xs(t,n,r),typeof i!=`function`&&(iu===null?iu=new Set([this]):iu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function ec(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Yi(t,n,a,!0),n=eo.current,n!==null){switch(n.tag){case 31:case 13:return to===null?Ou():n.alternate===null&&Gl===0&&(Gl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),qu(e,r,a)),!1;case 22:return n.flags|=65536,r===Sa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),qu(e,r,a)),!1}throw Error(i(435,n.tag))}return qu(e,r,a),Ou(),!1}if(H)return t=eo.current,t===null?(r!==Pi&&(t=Error(i(423),{cause:r}),Vi(hi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=hi(r,n),a=Zs(e.stateNode,r,a),Ua(e,a),Gl!==4&&(Gl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Pi&&(e=Error(i(422),{cause:r}),Vi(hi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=hi(o,n),Zl===null?Zl=[o]:Zl.push(o),Gl!==4&&(Gl=2),t===null)return!0;r=hi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Zs(n.stateNode,r,e),Ua(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(iu===null||!iu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Qs(a),$s(a,e,n,r),Ua(n,a),!1}n=n.return}while(n!==null);return!1}var tc=Error(i(461)),nc=!1;function rc(e,t,n,r){t.child=e===null?Ia(t,null,n,r):Fa(t,e.child,n,r)}function ic(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Zi(t),r=So(e,t,n,o,a,i),s=Eo(),e!==null&&!nc?(Do(e,t,i),Oc(e,t,i)):(H&&s&&Di(t),t.flags|=1,rc(e,t,r,i),t.child)}function ac(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!si(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,oc(e,t,a,r,i)):(e=ui(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!kc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?xr:n,n(o,r)&&e.ref===t.ref)return Oc(e,t,i)}return t.flags|=1,e=ci(a,r),e.ref=t.ref,e.return=t,t.child=e}function oc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(xr(a,r)&&e.ref===t.ref)if(nc=!1,t.pendingProps=r=a,kc(e,i))e.flags&131072&&(nc=!0);else return t.lanes=e.lanes,Oc(e,t,i)}return mc(e,t,n,r,i)}function sc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return lc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_a(t,a===null?null:a.cachePool),a===null?Qa():Za(t,a),io(t);else return r=t.lanes=536870912,lc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&_a(t,null),Qa(),ao(t)):(_a(t,a.cachePool),Za(t,a),ao(t),t.memoizedState=null);return rc(e,t,i,n),t.child}function cc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lc(e,t,n,r,i){var a=ga();return a=a===null?null:{parent:ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&_a(t,null),Qa(),io(t),e!==null&&Yi(e,t,r,!0),t.childLanes=i,null}function uc(e,t){return t=Cc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dc(e,t,n){return Fa(t,e.child,null,n),e=uc(t,t.pendingProps),e.flags|=2,oo(t),t.memoizedState=null,e}function fc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(H){if(r.mode===`hidden`)return e=uc(t,r),t.lanes=536870912,cc(null,e);if(ro(t),(e=ji)?(e=sf(e,Ni),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Si===null?null:{id:Ci,overflow:wi},retryLane:536870912,hydrationErrors:null},n=fi(e),n.return=t,t.child=n,Ai=t,ji=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return uc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ro(t),a)if(t.flags&256)t.flags&=-257,t=dc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(nc||Yi(e,t,n,!1),a=(n&e.childLanes)!==0,nc||a){if(r=Rl,r!==null&&(s=$e(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,ti(e,s),gu(r,e,s),tc;Ou(),t=dc(e,t,n)}else e=o.treeContext,ji=df(s.nextSibling),Ai=t,H=!0,Mi=null,Ni=!1,e!==null&&ki(t,e),t=uc(t,r),t.flags|=4096;return t}return e=ci(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mc(e,t,n,r,i){return Zi(t),n=So(e,t,n,r,void 0,i),r=Eo(),e!==null&&!nc?(Do(e,t,i),Oc(e,t,i)):(H&&r&&Di(t),t.flags|=1,rc(e,t,n,i),t.child)}function hc(e,t,n,r,i,a){return Zi(t),t.updateQueue=null,n=wo(t,r,n,i),Co(e),r=Eo(),e!==null&&!nc?(Do(e,t,a),Oc(e,t,a)):(H&&r&&Di(t),t.flags|=1,rc(e,t,n,a),t.child)}function gc(e,t,n,r,i){if(Zi(t),t.stateNode===null){var a=ii,o=n.contextType;typeof o==`object`&&o&&(a=Qi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Us,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ra(t),o=n.contextType,a.context=typeof o==`object`&&o?Qi(o):ii,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Hs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Us.enqueueReplaceState(a,a.state,null),Ka(t,r,a,i),Ga(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ks(n,s);a.props=c;var l=a.context,u=n.contextType;o=ii,typeof u==`object`&&u&&(o=Qi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Gs(t,a,r,o),La=!1;var f=t.memoizedState;a.state=f,Ka(t,r,a,i),Ga(),l=t.memoizedState,s||f!==l||La?(typeof d==`function`&&(Hs(t,n,d,r),l=t.memoizedState),(c=La||Ws(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,za(e,t),o=t.memoizedProps,u=Ks(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ii,typeof l==`object`&&l&&(c=Qi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Gs(t,a,r,c),La=!1,f=t.memoizedState,a.state=f,Ka(t,r,a,i),Ga();var p=t.memoizedState;o!==d||f!==p||La||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof s==`function`&&(Hs(t,n,s,r),p=t.memoizedState),(u=La||Ws(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,pc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Fa(t,e.child,null,i),t.child=Fa(t,null,n,i)):rc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Oc(e,t,i),e}function _c(e,t,n,r){return zi(),t.flags|=256,rc(e,t,n,r),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:va()}}function bc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Yl),e}function xc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(so.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(H){if(a?no(t):ao(t),(e=ji)?(e=sf(e,Ni),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Si===null?null:{id:Ci,overflow:wi},retryLane:536870912,hydrationErrors:null},n=fi(e),n.return=t,t.child=n,Ai=t,ji=null)):e=null,e===null)throw Fi(t);return lf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(ao(t),a=t.mode,c=Cc({mode:`hidden`,children:c},a),r=di(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,cc(null,r)):(no(t),Sc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(no(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState===null?(ao(t),c=r.fallback,a=t.mode,r=Cc({mode:`visible`,children:r.children},a),c=di(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Fa(t,e.child,null,n),r=t.child,r.memoizedState=yc(n),r.childLanes=bc(e,s,n),t.memoizedState=vc,t=cc(null,r)):(ao(t),t.child=e.child,t.flags|=128,t=null);else if(no(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Vi({value:r,source:null,stack:null}),t=wc(e,t,n)}else if(nc||Yi(e,t,n,!1),s=(n&e.childLanes)!==0,nc||s){if(s=Rl,s!==null&&(r=$e(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ti(e,r),gu(s,e,r),tc;cf(c)||Ou(),t=wc(e,t,n)}else cf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ji=df(c.nextSibling),Ai=t,H=!0,Mi=null,Ni=!1,e!==null&&ki(t,e),t=Sc(t,r.children),t.flags|=4096);return t}return a?(ao(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ci(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=di(c,a,n,null),c.flags|=2):c=ci(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,cc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=yc(n):(a=c.cachePool,a===null?a=va():(l=ia._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=bc(e,s,n),t.memoizedState=vc,cc(e.child,r)):(no(t),n=e.child,e=n.sibling,n=ci(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Sc(e,t){return t=Cc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Cc(e,t){return e=oi(22,e,null,t),e.lanes=0,e}function wc(e,t,n){return Fa(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qi(e.return,t,n)}function Ec(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Dc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=so.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,z(so,o),rc(e,t,r,n),r=H?yi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&co(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ec(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&co(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ec(t,!0,n,null,a,r);break;case`together`:Ec(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Oc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Xi(e))):!0}function Ac(e,t,n){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),Gi(t,ia,e.memoizedState.cache),zi();break;case 27:case 5:ue(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:Gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ro(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(no(t),e=Oc(e,t,n),e===null?null:e.sibling):xc(e,t,n):(no(t),t.flags|=128,null);no(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Yi(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Dc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(so,so.current),r)break;return null;case 22:return t.lanes=0,sc(e,t,n,t.pendingProps);case 24:Gi(t,ia,e.memoizedState.cache)}return Oc(e,t,n)}function jc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nc=!0;else{if(!kc(e,n)&&!(t.flags&128))return nc=!1,Ac(e,t,n);nc=!!(e.flags&131072)}else nc=!1,H&&t.flags&1048576&&Ei(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e==`function`)si(e)?(r=Ks(e,r),t.tag=1,t=gc(null,t,e,r,n)):(t.tag=0,t=mc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=ic(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=ac(null,t,e,r,n);break a}}throw t=P(e)||e,Error(i(306,t,``))}}return t;case 0:return mc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ks(r,t.pendingProps),gc(e,t,r,a,n);case 3:a:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,za(e,t),Ka(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Gi(t,ia,r),r!==o.cache&&Ji(t,[ia],n,!0),Ga(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=_c(e,t,r,n);break a}else if(r!==a){a=hi(Error(i(424)),t),Vi(a),t=_c(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(ji=df(e.firstChild),Ai=t,H=!0,Mi=null,Ni=!0,n=Ia(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zi(),r===a){t=Oc(e,t,n);break a}rc(e,t,r,n)}t=t.child}return t;case 26:return pc(e,t),e===null?(n=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:H||(n=t.type,e=t.pendingProps,r=Ud(oe.current).createElement(n),r[at]=t,r[ot]=e,Ld(r,n,e),vt(r),t.stateNode=r):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ue(t),e===null&&H&&(r=t.stateNode=hf(t.type,t.pendingProps,oe.current),Ai=t,Ni=!0,a=ji,ef(t.type)?(ff=a,ji=df(r.firstChild)):ji=a),rc(e,t,t.pendingProps.children,n),pc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&H&&((a=r=ji)&&(r=af(r,t.type,t.pendingProps,Ni),r===null?a=!1:(t.stateNode=r,Ai=t,ji=df(r.firstChild),Ni=!1,a=!0)),a||Fi(t)),ue(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Kd(a,o)?r=null:s!==null&&Kd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=So(e,t,To,null,null,n),tp._currentValue=a),pc(e,t),rc(e,t,r,n),t.child;case 6:return e===null&&H&&((e=n=ji)&&(n=of(n,t.pendingProps,Ni),n===null?e=!1:(t.stateNode=n,Ai=t,ji=null,e=!0)),e||Fi(t)),null;case 13:return xc(e,t,n);case 4:return ce(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fa(t,null,r,n):rc(e,t,r,n),t.child;case 11:return ic(e,t,t.type,t.pendingProps,n);case 7:return rc(e,t,t.pendingProps,n),t.child;case 8:return rc(e,t,t.pendingProps.children,n),t.child;case 12:return rc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Gi(t,t.type,r.value),rc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Zi(t),a=Qi(a),r=r(a),t.flags|=1,rc(e,t,r,n),t.child;case 14:return ac(e,t,t.type,t.pendingProps,n);case 15:return oc(e,t,t.type,t.pendingProps,n);case 19:return Dc(e,t,n);case 31:return fc(e,t,n);case 22:return sc(e,t,n,t.pendingProps);case 24:return Zi(t),r=Qi(ia),e===null?(a=ga(),a===null&&(a=Rl,o=aa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ra(t),Gi(t,ia,a)):((e.lanes&n)!==0&&(za(e,t),Ka(t,null,null,n),Ga()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Gi(t,ia,r),r!==a.cache&&Ji(t,[ia],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Gi(t,ia,r))),rc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Mc(e){e.flags|=4}function Nc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Tu())e.flags|=8192;else throw Ea=Sa,ba}else e.flags&=-16777217}function Pc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!qf(t))if(Tu())e.flags|=8192;else throw Ea=Sa,ba}function Fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:qe(),e.lanes|=t,Xl|=t)}function Ic(e,t){if(!H)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rc(e,t,n){var r=t.pendingProps;switch(Oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lc(t),null;case 1:return Lc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ki(ia),le(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ri(t)?Mc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi())),Lc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Mc(t),o===null?(Lc(t),Nc(t,a,null,r,n)):(Lc(t),Pc(t,o))):o?o===e.memoizedState?(Lc(t),t.flags&=-16777217):(Mc(t),Lc(t),Pc(t,o)):(e=e.memoizedProps,e!==r&&Mc(t),Lc(t),Nc(t,a,e,r,n)),null;case 27:if(de(t),n=oe.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}e=ie.current,Ri(t)?Ii(t,e):(e=hf(a,r,n),t.stateNode=e,Mc(t))}return Lc(t),null;case 5:if(de(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Lc(t),null}if(o=ie.current,Ri(t))Ii(t,o);else{var s=Ud(oe.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[at]=t,o[ot]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Ld(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Mc(t)}}return Lc(t),Nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Mc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=oe.current,Ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ai,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Pd(e.nodeValue,n)),e||Fi(t,!0)}else e=Ud(e).createTextNode(r),e[at]=t,t.stateNode=e}return Lc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ri(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[at]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),e=!1}else n=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(oo(t),t):(oo(t),null);if(t.flags&128)throw Error(i(558))}return Lc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[at]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lc(t),a=!1}else a=Bi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(oo(t),t):(oo(t),null)}return oo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fc(t,t.updateQueue),Lc(t),null);case 4:return le(),e===null&&wd(t.stateNode.containerInfo),Lc(t),null;case 10:return Ki(t.type),Lc(t),null;case 19:if(re(so),r=t.memoizedState,r===null)return Lc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Ic(r,!1);else{if(Gl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=co(e),o!==null){for(t.flags|=128,Ic(r,!1),e=o.updateQueue,t.updateQueue=e,Fc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)li(n,e),n=n.sibling;return z(so,so.current&1|2),H&&Ti(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&we()>nu&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304)}else{if(!a)if(e=co(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fc(t,e),Ic(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!H)return Lc(t),null}else 2*we()-r.renderingStartTime>nu&&n!==536870912&&(t.flags|=128,a=!0,Ic(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Lc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=we(),e.sibling=null,n=so.current,z(so,a?n&1|2:n&1),H&&Ti(t,r.treeForkCount),e);case 22:case 23:return oo(t),$a(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Lc(t),t.subtreeFlags&6&&(t.flags|=8192)):Lc(t),n=t.updateQueue,n!==null&&Fc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&re(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(ia),Lc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function zc(e,t){switch(Oi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(ia),le(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(oo(t),t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(oo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(so),null;case 4:return le(),null;case 10:return Ki(t.type),null;case 22:case 23:return oo(t),$a(),e!==null&&re(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(ia),null;case 25:return null;default:return null}}function Bc(e,t){switch(Oi(t),t.tag){case 3:Ki(ia),le();break;case 26:case 27:case 5:de(t);break;case 4:le();break;case 31:t.memoizedState!==null&&oo(t);break;case 13:oo(t);break;case 19:re(so);break;case 10:Ki(t.type);break;case 22:case 23:oo(t),$a(),e!==null&&re(ha);break;case 24:Ki(ia)}}function Vc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Ku(t,t.return,e)}}function Hc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Ku(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Ku(t,t.return,e)}}function Uc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ja(t,n)}catch(t){Ku(e,e.return,t)}}}function Wc(e,t,n){n.props=Ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ku(e,t,n)}}function Gc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Ku(e,t,n)}}function Kc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Ku(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Ku(e,t,n)}else n.current=null}function qc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Ku(e,e.return,t)}}function Jc(e,t,n){try{var r=e.stateNode;Rd(r,e.type,n,t),r[ot]=t}catch(t){Ku(e,e.return,t)}}function Yc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ef(e.type)||e.tag===4}function Xc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ef(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qt));else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,n),e=e.sibling;e!==null;)Zc(e,t,n),e=e.sibling}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ef(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ld(t,r,n),t[at]=e,t[ot]=n}catch(t){Ku(e,e.return,t)}}var el=!1,tl=!1,G=!1,nl=typeof WeakSet==`function`?WeakSet:Set,rl=null;function il(e,t){if(e=e.containerInfo,Vd=up,e=Tr(e),Er(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Hd={focusedElem:e,selectionRange:n},up=!1,rl=t;rl!==null;)if(t=rl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,rl=e;else for(;rl!==null;){switch(t=rl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ks(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ku(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:rf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,rl=e;break}rl=t.return}}function al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),r&4&&Vc(5,n);break;case 1:if(yl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Ku(n,n.return,e)}else{var i=Ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ku(n,n.return,e)}}r&64&&Uc(n),r&512&&Gc(n,n.return);break;case 3:if(yl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ja(e,t)}catch(e){Ku(n,n.return,e)}}break;case 27:t===null&&r&4&&$c(n);case 26:case 5:yl(e,n),t===null&&r&4&&qc(n),r&512&&Gc(n,n.return);break;case 12:yl(e,n);break;case 31:yl(e,n),r&4&&dl(e,n);break;case 13:yl(e,n),r&4&&fl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xu.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||el,!r){t=t!==null&&t.memoizedState!==null||tl,i=el;var a=tl;el=r,(tl=t)&&!a?xl(e,n,(n.subtreeFlags&8772)!=0):yl(e,n),el=i,tl=a}break;case 30:break;default:yl(e,n)}}function ol(e){var t=e.alternate;t!==null&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,cl=!1;function ll(e,t,n){for(n=n.child;n!==null;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(Pe&&typeof Pe.onCommitFiberUnmount==`function`)try{Pe.onCommitFiberUnmount(Ne,n)}catch{}switch(n.tag){case 26:tl||Kc(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tl||Kc(n,t);var r=sl,i=cl;ef(n.type)&&(sl=n.stateNode,cl=!1),ll(e,t,n),gf(n.stateNode),sl=r,cl=i;break;case 5:tl||Kc(n,t);case 6:if(r=sl,i=cl,sl=null,ll(e,t,n),sl=r,cl=i,sl!==null)if(cl)try{(sl.nodeType===9?sl.body:sl.nodeName===`HTML`?sl.ownerDocument.body:sl).removeChild(n.stateNode)}catch(e){Ku(n,t,e)}else try{sl.removeChild(n.stateNode)}catch(e){Ku(n,t,e)}break;case 18:sl!==null&&(cl?(e=sl,tf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Ip(e)):tf(sl,n.stateNode));break;case 4:r=sl,i=cl,sl=n.stateNode.containerInfo,cl=!0,ll(e,t,n),sl=r,cl=i;break;case 0:case 11:case 14:case 15:Hc(2,n,t),tl||Hc(4,n,t),ll(e,t,n);break;case 1:tl||(Kc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Wc(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:tl=(r=tl)||n.memoizedState!==null,ll(e,t,n),tl=r;break;default:ll(e,t,n)}}function dl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ip(e)}catch(e){Ku(t,t.return,e)}}}function fl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ip(e)}catch(e){Ku(t,t.return,e)}}function pl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nl),t;default:throw Error(i(435,e.tag))}}function ml(e,t){var n=pl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Zu.bind(null,e,t);t.then(r,r)}})}function hl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ef(c.type)){sl=c.stateNode,cl=!1;break a}break;case 5:sl=c.stateNode,cl=!1;break a;case 3:case 4:sl=c.stateNode.containerInfo,cl=!0;break a}c=c.return}if(sl===null)throw Error(i(160));ul(o,s,a),sl=null,cl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_l(t,e),t=t.sibling}var gl=null;function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),K(e),r&4&&(Hc(3,e,e.return),Vc(3,e),Hc(5,e,e.return));break;case 1:hl(t,e),K(e),r&512&&(tl||n===null||Kc(n,n.return)),r&64&&el&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=gl;if(hl(t,e),K(e),r&512&&(tl||n===null||Kc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[ft]||o[at]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Ld(o,r,n),o[at]=e,vt(o),r=o;break a;case`link`:var s=Wf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Wf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Ld(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[at]=e,vt(o),r=o}e.stateNode=r}else Gf(a,e.type,e.stateNode);else e.stateNode=zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Jc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Gf(a,e.type,e.stateNode):zf(a,r,e.memoizedProps))}break;case 27:hl(t,e),K(e),r&512&&(tl||n===null||Kc(n,n.return)),n!==null&&r&4&&Jc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(hl(t,e),K(e),r&512&&(tl||n===null||Kc(n,n.return)),e.flags&32){a=e.stateNode;try{Wt(a,``)}catch(t){Ku(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Jc(e,a,n===null?a:n.memoizedProps)),r&1024&&(G=!0);break;case 6:if(hl(t,e),K(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Ku(e,e.return,t)}}break;case 3:if(Uf=null,a=gl,gl=yf(t.containerInfo),hl(t,e),gl=a,K(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(t){Ku(e,e.return,t)}G&&(G=!1,vl(e));break;case 4:r=gl,gl=yf(e.stateNode.containerInfo),hl(t,e),K(e),gl=r;break;case 12:hl(t,e),K(e);break;case 31:hl(t,e),K(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 13:hl(t,e),K(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(eu=we()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=el,d=tl;if(el=u||a,tl=d||l,hl(t,e),tl=d,el=u,K(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||el||tl||bl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Ku(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Ku(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?nf(m,!0):nf(l.stateNode,!1)}catch(e){Ku(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ml(e,n))));break;case 19:hl(t,e),K(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ml(e,r)));break;case 30:break;case 21:break;default:hl(t,e),K(e)}}function K(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Yc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Qc(e,Xc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Wt(o,``),n.flags&=-33),Qc(e,Xc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Zc(e,Xc(e),s);break;default:throw Error(i(161))}}catch(t){Ku(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)al(e,t.alternate,t),t=t.sibling}function bl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hc(4,t,t.return),bl(t);break;case 1:Kc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Wc(t,t.return,n),bl(t);break;case 27:gf(t.stateNode);case 26:case 5:Kc(t,t.return),bl(t);break;case 22:t.memoizedState===null&&bl(t);break;case 30:bl(t);break;default:bl(t)}e=e.sibling}}function xl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:xl(i,a,n),Vc(4,a);break;case 1:if(xl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Ku(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)qa(c[i],s)}catch(e){Ku(r,r.return,e)}}n&&o&64&&Uc(a),Gc(a,a.return);break;case 27:$c(a);case 26:case 5:xl(i,a,n),n&&r===null&&o&4&&qc(a),Gc(a,a.return);break;case 12:xl(i,a,n);break;case 31:xl(i,a,n),n&&o&4&&dl(i,a);break;case 13:xl(i,a,n),n&&o&4&&fl(i,a);break;case 22:a.memoizedState===null&&xl(i,a,n),Gc(a,a.return);break;case 30:break;default:xl(i,a,n)}t=t.sibling}}function Sl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oa(n))}function Cl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e))}function wl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tl(e,t,n,r),t=t.sibling}function Tl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:wl(e,t,n,r),i&2048&&Vc(9,t);break;case 1:wl(e,t,n,r);break;case 3:wl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oa(e)));break;case 12:if(i&2048){wl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Ku(t,t.return,e)}}else wl(e,t,n,r);break;case 31:wl(e,t,n,r);break;case 13:wl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?wl(e,t,n,r):(a._visibility|=2,El(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?wl(e,t,n,r):Dl(e,t),i&2048&&Sl(o,t);break;case 24:wl(e,t,n,r),i&2048&&Cl(t.alternate,t);break;default:wl(e,t,n,r)}}function El(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:El(a,o,s,c,i),Vc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,El(a,o,s,c,i)):u._visibility&2?El(a,o,s,c,i):Dl(a,o),i&&l&2048&&Sl(o.alternate,o);break;case 24:El(a,o,s,c,i),i&&l&2048&&Cl(o.alternate,o);break;default:El(a,o,s,c,i)}t=t.sibling}}function Dl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Dl(n,r),i&2048&&Sl(r.alternate,r);break;case 24:Dl(n,r),i&2048&&Cl(r.alternate,r);break;default:Dl(n,r)}t=t.sibling}}var Ol=8192;function kl(e,t,n){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)Al(e,t,n),e=e.sibling}function Al(e,t,n){switch(e.tag){case 26:kl(e,t,n),e.flags&Ol&&e.memoizedState!==null&&Jf(n,gl,e.memoizedState,e.memoizedProps);break;case 5:kl(e,t,n);break;case 3:case 4:var r=gl;gl=yf(e.stateNode.containerInfo),kl(e,t,n),gl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ol,Ol=16777216,kl(e,t,n),Ol=r):kl(e,t,n));break;default:kl(e,t,n)}}function jl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Fl(r,e)}jl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Hc(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pl(e)):Ml(e);break;default:Ml(e)}}function Pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Fl(r,e)}jl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hc(8,t,t.return),Pl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pl(t));break;default:Pl(t)}e=e.sibling}}function Fl(e,t){for(;rl!==null;){var n=rl;switch(n.tag){case 0:case 11:case 15:Hc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,rl=r;else a:for(n=e;rl!==null;){r=rl;var i=r.sibling,a=r.return;if(ol(r),r===n){rl=null;break a}if(i!==null){i.return=a,rl=i;break a}rl=a}}}var Il={getCacheForType:function(e){var t=Qi(ia),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qi(ia).controller.signal}},Ll=typeof WeakMap==`function`?WeakMap:Map,q=0,Rl=null,J=null,Y=0,zl=0,Bl=null,Vl=!1,Hl=!1,Ul=!1,Wl=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,Zl=null,Ql=null,$l=!1,eu=0,tu=0,nu=1/0,ru=null,iu=null,au=0,ou=null,su=null,cu=0,lu=0,uu=null,du=null,fu=0,pu=null;function mu(){return q&2&&Y!==0?Y&-Y:I.T===null?nt():pd()}function hu(){if(Yl===0)if(!(Y&536870912)||H){var e=Ve;Ve<<=1,!(Ve&3932160)&&(Ve=262144),Yl=e}else Yl=536870912;return e=eo.current,e!==null&&(e.flags|=32),Yl}function gu(e,t,n){(e===Rl&&(zl===2||zl===9)||e.cancelPendingCommit!==null)&&(Cu(e,0),bu(e,Y,Yl,!1)),Ye(e,n),(!(q&2)||e!==Rl)&&(e===Rl&&(!(q&2)&&(ql|=n),Gl===4&&bu(e,Y,Yl,!1)),ad(e))}function _u(e,t,n){if(q&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Ge(e,t),a=r?ju(e,t):ku(e,t,!0),o=r;do{if(a===0){Hl&&!r&&bu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!yu(n)){a=ku(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Zl;var l=c.current.memoizedState.isDehydrated;if(l&&(Cu(c,s).flags|=256),s=ku(c,s,!1),s!==2){if(Ul&&!l){c.errorRecoveryDisabledLanes|=o,ql|=o,a=4;break a}o=Ql,Ql=a,o!==null&&(Ql===null?Ql=o:Ql.push.apply(Ql,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Cu(e,0),bu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:bu(r,t,Yl,!Vl);break a;case 2:Ql=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=eu+300-we(),10<a)){if(bu(r,t,Yl,!Vl),We(r,0,!0)!==0)break a;cu=t,r.timeoutHandle=Yd(vu.bind(null,r,n,Ql,ru,$l,t,Yl,ql,Xl,Vl,o,`Throttled`,-0,0),a);break a}vu(r,n,Ql,ru,$l,t,Yl,ql,Xl,Vl,o,null,-0,0)}}break}while(1);ad(e)}function vu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qt},Al(t,a,d);var m=(a&62914560)===a?eu-we():(a&4194048)===a?tu-we():0;if(m=Xf(d,m),m!==null){cu=a,e.cancelPendingCommit=m(Ru.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),bu(e,a,o,!l);return}}Ru(e,t,a,n,r,i,o,s,c)}function yu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!br(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bu(e,t,n,r){t&=~Jl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ie(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Ze(e,n,t)}function xu(){return q&6?!0:(od(0,!1),!1)}function Su(){if(J!==null){if(zl===0)var e=J.return;else e=J,Wi=Ui=null,Oo(e),ka=null,Aa=0,e=J;for(;e!==null;)Bc(e.alternate,e),e=e.return;J=null}}function Cu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cu=0,Su(),Rl=e,J=n=ci(e.current,null),Y=t,zl=0,Bl=null,Vl=!1,Hl=Ge(e,t),Ul=!1,Xl=Yl=Jl=ql=Kl=Gl=0,Ql=Zl=null,$l=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ie(r),a=1<<i;t|=e[i],r&=~a}return Wl=t,Qr(),n}function wu(e,t){U=null,I.H=Rs,t===ya||t===xa?(t=Da(),zl=3):t===ba?(t=Da(),zl=4):zl=t===tc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Bl=t,J===null&&(Gl=1,Ys(e,hi(t,e.current)))}function Tu(){var e=eo.current;return e===null?!0:(Y&4194048)===Y?to===null:(Y&62914560)===Y||Y&536870912?e===to:!1}function Eu(){var e=I.H;return I.H=Rs,e===null?Rs:e}function Du(){var e=I.A;return I.A=Il,e}function Ou(){Gl=4,Vl||(Y&4194048)!==Y&&eo.current!==null||(Hl=!0),!(Kl&134217727)&&!(ql&134217727)||Rl===null||bu(Rl,Y,Yl,!1)}function ku(e,t,n){var r=q;q|=2;var i=Eu(),a=Du();(Rl!==e||Y!==t)&&(ru=null,Cu(e,t)),t=!1;var o=Gl;a:do try{if(zl!==0&&J!==null){var s=J,c=Bl;switch(zl){case 8:Su(),o=6;break a;case 3:case 2:case 9:case 6:eo.current===null&&(t=!0);var l=zl;if(zl=0,Bl=null,Fu(e,s,c,l),n&&Hl){o=0;break a}break;default:l=zl,zl=0,Bl=null,Fu(e,s,c,l)}}Au(),o=Gl;break}catch(t){wu(e,t)}while(1);return t&&e.shellSuspendCounter++,Wi=Ui=null,q=r,I.H=i,I.A=a,J===null&&(Rl=null,Y=0,Qr()),o}function Au(){for(;J!==null;)Nu(J)}function ju(e,t){var n=q;q|=2;var r=Eu(),a=Du();Rl!==e||Y!==t?(ru=null,nu=we()+500,Cu(e,t)):Hl=Ge(e,t);a:do try{if(zl!==0&&J!==null){t=J;var o=Bl;b:switch(zl){case 1:zl=0,Bl=null,Fu(e,t,o,1);break;case 2:case 9:if(Ca(o)){zl=0,Bl=null,Pu(t);break}t=function(){zl!==2&&zl!==9||Rl!==e||(zl=7),ad(e)},o.then(t,t);break a;case 3:zl=7;break a;case 4:zl=5;break a;case 7:Ca(o)?(zl=0,Bl=null,Pu(t)):(zl=0,Bl=null,Fu(e,t,o,7));break;case 5:var s=null;switch(J.tag){case 26:s=J.memoizedState;case 5:case 27:var c=J;if(s?qf(s):c.stateNode.complete){zl=0,Bl=null;var l=c.sibling;if(l!==null)J=l;else{var u=c.return;u===null?J=null:(J=u,Iu(u))}break b}}zl=0,Bl=null,Fu(e,t,o,5);break;case 6:zl=0,Bl=null,Fu(e,t,o,6);break;case 8:Su(),Gl=6;break a;default:throw Error(i(462))}}Mu();break}catch(t){wu(e,t)}while(1);return Wi=Ui=null,I.H=r,I.A=a,q=n,J===null?(Rl=null,Y=0,Qr(),Gl):0}function Mu(){for(;J!==null&&!Se();)Nu(J)}function Nu(e){var t=jc(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,t===null?Iu(e):J=t}function Pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hc(n,t,t.pendingProps,t.type,void 0,Y);break;case 11:t=hc(n,t,t.pendingProps,t.type.render,t.ref,Y);break;case 5:Oo(t);default:Bc(n,t),t=J=li(t,Wl),t=jc(n,t,Wl)}e.memoizedProps=e.pendingProps,t===null?Iu(e):J=t}function Fu(e,t,n,r){Wi=Ui=null,Oo(t),ka=null,Aa=0;var i=t.return;try{if(ec(e,i,t,n,Y)){Gl=1,Ys(e,hi(n,e.current)),J=null;return}}catch(t){if(i!==null)throw J=i,t;Gl=1,Ys(e,hi(n,e.current)),J=null;return}t.flags&32768?(H||r===1?e=!0:Hl||Y&536870912?e=!1:(Vl=e=!0,(r===2||r===9||r===3||r===6)&&(r=eo.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lu(t,e)):Iu(t)}function Iu(e){var t=e;do{if(t.flags&32768){Lu(t,Vl);return}e=t.return;var n=Rc(t.alternate,t,Wl);if(n!==null){J=n;return}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);Gl===0&&(Gl=5)}function Lu(e,t){do{var n=zc(e.alternate,e);if(n!==null){n.flags&=32767,J=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){J=e;return}J=e=n}while(e!==null);Gl=6,J=null}function Ru(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Uu();while(au!==0);if(q&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Zr,Xe(e,n,o,s,c,l),e===Rl&&(J=Rl=null,Y=0),su=t,ou=e,cu=n,lu=o,uu=a,du=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qu(Oe,function(){return Wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=I.T,I.T=null,a=L.p,L.p=2,s=q,q|=4;try{il(e,t,n)}finally{q=s,L.p=a,I.T=r}}au=1,zu(),Bu(),Vu()}}function zu(){if(au===1){au=0;var e=ou,t=su,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=q;q|=4;try{_l(t,e);var a=Hd,o=Tr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&wr(s.ownerDocument.documentElement,s)){if(c!==null&&Er(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Cr(s,h),v=Cr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}up=!!Vd,Hd=Vd=null}finally{q=i,L.p=r,I.T=n}}e.current=t,au=2}}function Bu(){if(au===2){au=0;var e=ou,t=su,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=q;q|=4;try{al(e,t.alternate,t)}finally{q=i,L.p=r,I.T=n}}au=3}}function Vu(){if(au===4||au===3){au=0,Ce();var e=ou,t=su,n=cu,r=du;t.subtreeFlags&10256||t.flags&10256?au=5:(au=0,su=ou=null,Hu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(iu=null),tt(n),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot==`function`)try{Pe.onCommitFiberRoot(Ne,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=I.T,i=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=i}}cu&3&&Uu(),ad(e),i=e.pendingLanes,n&261930&&i&42?e===pu?fu++:(fu=0,pu=e):fu=0,od(0,!1)}}function Hu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oa(t)))}function Uu(){return zu(),Bu(),Vu(),Wu()}function Wu(){if(au!==5)return!1;var e=ou,t=lu;lu=0;var n=tt(cu),r=I.T,a=L.p;try{L.p=32>n?32:n,I.T=null,n=uu,uu=null;var o=ou,s=cu;if(au=0,su=ou=null,cu=0,q&6)throw Error(i(331));var c=q;if(q|=4,Nl(o.current),Tl(o,o.current,s,n),q=c,od(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot==`function`)try{Pe.onPostCommitFiberRoot(Ne,o)}catch{}return!0}finally{L.p=a,I.T=r,Hu(e,t)}}function Gu(e,t,n){t=hi(n,t),t=Zs(e.stateNode,t,2),e=Va(e,t,2),e!==null&&(Ye(e,2),ad(e))}function Ku(e,t,n){if(e.tag===3)Gu(e,e,n);else for(;t!==null;){if(t.tag===3){Gu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(iu===null||!iu.has(r))){e=hi(n,e),n=Qs(2),r=Va(t,n,2),r!==null&&($s(n,r,t,e),Ye(r,2),ad(r));break}}t=t.return}}function qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ll;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Ul=!0,i.add(n),e=Ju.bind(null,e,t,n),t.then(e,e))}function Ju(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rl===e&&(Y&n)===n&&(Gl===4||Gl===3&&(Y&62914560)===Y&&300>we()-eu?!(q&2)&&Cu(e,0):Jl|=n,Xl===Y&&(Xl=0)),ad(e)}function Yu(e,t){t===0&&(t=qe()),e=ti(e,t),e!==null&&(Ye(e,t),ad(e))}function Xu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yu(e,n)}function Zu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Yu(e,n)}function Qu(e,t){return be(e,t)}var $u=null,ed=null,td=!1,nd=!1,rd=!1,id=0;function ad(e){e!==ed&&e.next===null&&(ed===null?$u=ed=e:ed=ed.next=e),nd=!0,td||(td=!0,fd())}function od(e,t){if(!rd&&nd){rd=!0;do for(var n=!1,r=$u;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ie(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,dd(r,a))}else a=Y,a=We(r,r===Rl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ge(r,a)||(n=!0,dd(r,a));r=r.next}while(n);rd=!1}}function sd(){cd()}function cd(){nd=td=!1;var e=0;id!==0&&Jd()&&(e=id);for(var t=we(),n=null,r=$u;r!==null;){var i=r.next,a=ld(r,t);a===0?(r.next=null,n===null?$u=i:n.next=i,i===null&&(ed=n)):(n=r,(e!==0||a&3)&&(nd=!0)),r=i}au!==0&&au!==5||od(e,!1),id!==0&&(id=0)}function ld(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ie(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ke(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Rl,n=Y,n=We(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(zl===2||zl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&xe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ge(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&xe(r),tt(n)){case 2:case 8:n=De;break;case 32:n=Oe;break;case 268435456:n=Ae;break;default:n=Oe}return r=ud.bind(null,e),n=be(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&xe(r),e.callbackPriority=2,e.callbackNode=null,2}function ud(e,t){if(au!==0&&au!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Uu()&&e.callbackNode!==n)return null;var r=Y;return r=We(e,e===Rl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_u(e,r,t),ld(e,we()),e.callbackNode!=null&&e.callbackNode===n?ud.bind(null,e):null)}function dd(e,t){if(Uu())return null;_u(e,t,!0)}function fd(){Qd(function(){q&6?be(Ee,sd):cd()})}function pd(){if(id===0){var e=la;e===0&&(e=Be,Be<<=1,!(Be&261888)&&(Be=256)),id=e}return id}function md(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Zt(``+e)}function hd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=md((i[ot]||null).action),o=r.submitter;o&&(t=(t=o[ot]||null)?md(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new bn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(id!==0){var e=o?hd(i,o):new FormData(i);ws(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?hd(i,o):new FormData(i),ws(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var _d=0;_d<Kr.length;_d++){var vd=Kr[_d];qr(vd.toLowerCase(),`on`+(vd[0].toUpperCase()+vd.slice(1)))}qr(Rr,`onAnimationEnd`),qr(zr,`onAnimationIteration`),qr(Br,`onAnimationStart`),qr(`dblclick`,`onDoubleClick`),qr(`focusin`,`onFocus`),qr(`focusout`,`onBlur`),qr(Vr,`onTransitionRun`),qr(Hr,`onTransitionStart`),qr(Ur,`onTransitionCancel`),qr(Wr,`onTransitionEnd`),St(`onMouseEnter`,[`mouseout`,`mouseover`]),St(`onMouseLeave`,[`mouseout`,`mouseover`]),St(`onPointerEnter`,[`pointerout`,`pointerover`]),St(`onPointerLeave`,[`pointerout`,`pointerover`]),xt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),xt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),xt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),xt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),xt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),xt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var yd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),bd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(yd));function xd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Jr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Jr(e)}i.currentTarget=null,a=c}}}}function X(e,t){var n=t[ct];n===void 0&&(n=t[ct]=new Set);var r=e+`__bubble`;n.has(r)||(Td(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Td(n,e,r,t)}var Cd=`_reactListening`+Math.random().toString(36).slice(2);function wd(e){if(!e[Cd]){e[Cd]=!0,yt.forEach(function(t){t!==`selectionchange`&&(bd.has(t)||Sd(t,!1,e),Sd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Sd(`selectionchange`,!1,t))}}function Td(e,t,n,r){switch(_p(t)){case 2:var i=dp;break;case 8:i=fp;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!ln||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ed(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=mt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}on(function(){var r=a,i=en(n),s=[];a:{var c=Gr.get(e);if(c!==void 0){var l=bn,u=e;switch(e){case`keypress`:if(hn(n)===0)break a;case`keydown`:case`keyup`:l=Rn;break;case`focusin`:u=`focus`,l=kn;break;case`focusout`:u=`blur`,l=kn;break;case`beforeblur`:case`afterblur`:l=kn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Dn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=On;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Bn;break;case Rr:case zr:case Br:l=An;break;case Wr:l=Vn;break;case`scroll`:case`scrollend`:l=Sn;break;case`wheel`:l=B;break;case`copy`:case`cut`:case`paste`:l=jn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=zn;break;case`toggle`:case`beforetoggle`:l=Hn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=sn(m,p),g!=null&&d.push(Dd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==$t&&(u=n.relatedTarget||n.fromElement)&&(mt(u)||u[st]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?mt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Dn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=zn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:gt(l),h=u==null?c:gt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,mt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=kd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ad(s,c,l,d,!1),u!==null&&f!==null&&Ad(s,f,u,d,!0)}}a:{if(c=r?gt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=cr;else if(nr(c))if(lr)v=vr;else{v=gr;var y=hr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Jt(r.elementType)&&(v=cr):v=_r;if(v&&=v(e,r)){rr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Bt(c,`number`,c.value)}switch(y=r?gt(r):window,e){case`focusin`:(nr(y)||y.contentEditable===`true`)&&(Or=y,kr=r,Ar=null);break;case`focusout`:Ar=kr=Or=null;break;case`mousedown`:jr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:jr=!1,Mr(s,n,i);break;case`selectionchange`:if(Dr)break;case`keydown`:case`keyup`:Mr(s,n,i)}var b;if(Wn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Qn?Xn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(qn&&n.locale!==`ko`&&(Qn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Qn&&(b=mn()):(dn=i,fn=`value`in dn?dn.value:dn.textContent,Qn=!0)),y=Od(r,x),0<y.length&&(x=new Mn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Zn(n),b!==null&&(x.data=b)))),(b=Kn?$n(e,n):er(e,n))&&(x=Od(r,`onBeforeInput`),0<x.length&&(y=new Mn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),gd(s,e,r,n,i)}xd(s,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=sn(e,n),i!=null&&r.unshift(Dd(e,i,a)),i=sn(e,t),i!=null&&r.push(Dd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ad(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=sn(n,a),l!=null&&o.unshift(Dd(n,l,c))):i||(l=sn(n,a),l!=null&&o.push(Dd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jd=/\r\n?/g,Md=/\u0000|\uFFFD/g;function Nd(e){return(typeof e==`string`?e:``+e).replace(jd,`
`).replace(Md,``)}function Pd(e,t){return t=Nd(t),Nd(e)===t}function Fd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Wt(e,``+r);break;case`className`:Ot(e,`class`,r);break;case`tabIndex`:Ot(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ot(e,n,r);break;case`style`:qt(e,r,o);break;case`data`:if(t!==`object`){Ot(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Fd(e,t,`name`,a.name,a,null),Fd(e,t,`formEncType`,a.formEncType,a,null),Fd(e,t,`formMethod`,a.formMethod,a,null),Fd(e,t,`formTarget`,a.formTarget,a,null)):(Fd(e,t,`encType`,a.encType,a,null),Fd(e,t,`method`,a.method,a,null),Fd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Zt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Qt);break;case`onScroll`:r!=null&&X(`scroll`,e);break;case`onScrollEnd`:r!=null&&X(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Zt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:X(`beforetoggle`,e),X(`toggle`,e),Dt(e,`popover`,r);break;case`xlinkActuate`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Dt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Yt.get(n)||n,Dt(e,n,r))}}function Id(e,t,n,r,a,o){switch(n){case`style`:qt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Wt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Wt(e,``+r);break;case`onScroll`:r!=null&&X(`scroll`,e);break;case`onScrollEnd`:r!=null&&X(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Qt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!bt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[ot]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Dt(e,n,r)}}}function Ld(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:X(`error`,e),X(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,o,s,n,null)}}a&&Fd(e,t,`srcSet`,n.srcSet,n,null),r&&Fd(e,t,`src`,n.src,n,null);return;case`input`:X(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Fd(e,t,r,d,n,null)}}zt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in X(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Fd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Vt(e,!!r,n,!0):Vt(e,!!r,t,!1);return;case`textarea`:for(s in X(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Fd(e,t,s,c,n,null)}Ut(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Fd(e,t,l,r,n,null)}return;case`dialog`:X(`beforetoggle`,e),X(`toggle`,e),X(`cancel`,e),X(`close`,e);break;case`iframe`:case`object`:X(`load`,e);break;case`video`:case`audio`:for(r=0;r<yd.length;r++)X(yd[r],e);break;case`image`:X(`error`,e),X(`load`,e);break;case`details`:X(`toggle`,e);break;case`embed`:case`source`:case`link`:X(`error`,e),X(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Fd(e,t,u,r,n,null)}return;default:if(Jt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Id(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Fd(e,t,c,r,n,null))}function Rd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Fd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Fd(e,t,p,m,r,f)}}Rt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Fd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Fd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Vt(e,!!n,n?[]:``,!1):Vt(e,!!n,t,!0)):Vt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Fd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Fd(e,t,s,a,r,o)}Ht(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Fd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Fd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Fd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Fd(e,t,u,p,r,m)}return;default:if(Jt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Id(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Id(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Fd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Fd(e,t,f,p,r,m)}function zd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Bd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&zd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&zd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Vd=null,Hd=null;function Ud(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Gd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Kd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Jd(){var e=window.event;return e&&e.type===`popstate`?e===qd?!1:(qd=e,!0):(qd=null,!1)}var Yd=typeof setTimeout==`function`?setTimeout:void 0,Xd=typeof clearTimeout==`function`?clearTimeout:void 0,Zd=typeof Promise==`function`?Promise:void 0,Qd=typeof queueMicrotask==`function`?queueMicrotask:Zd===void 0?Yd:function(e){return Zd.resolve(null).then(e).catch($d)};function $d(e){setTimeout(function(){throw e})}function ef(e){return e===`head`}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Ip(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)gf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,gf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[ft]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&gf(e.ownerDocument.body);n=i}while(n);Ip(t)}function nf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:rf(n),pt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function af(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[ft])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function of(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=df(e.nextSibling),e===null))return null;return e}function cf(e){return e.data===`$?`||e.data===`$~`}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function uf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var ff=null;function pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return df(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function hf(e,t,n){switch(t=Ud(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function gf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pt(e)}var _f=new Map,vf=new Set;function yf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bf=L.d;L.d={f:xf,r:Sf,D:Tf,C:Ef,L:Df,m:Of,X:Af,S:kf,M:jf};function xf(){var e=bf.f(),t=xu();return e||t}function Sf(e){var t=ht(e);t!==null&&t.tag===5&&t.type===`form`?Es(t):bf.r(e)}var Cf=typeof document>`u`?null:document;function wf(e,t,n){var r=Cf;if(r&&typeof t==`string`&&t){var i=Lt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),vf.has(i)||(vf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Ld(t,`link`,e),vt(t),r.head.appendChild(t)))}}function Tf(e){bf.D(e),wf(`dns-prefetch`,e,null)}function Ef(e,t){bf.C(e,t),wf(`preconnect`,e,t)}function Df(e,t,n){bf.L(e,t,n);var r=Cf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Lt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Lt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Lt(n.imageSizes)+`"]`)):i+=`[href="`+Lt(e)+`"]`;var a=i;switch(t){case`style`:a=Nf(e);break;case`script`:a=Lf(e)}_f.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),_f.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Pf(a))||t===`script`&&r.querySelector(Rf(a))||(t=r.createElement(`link`),Ld(t,`link`,e),vt(t),r.head.appendChild(t)))}}function Of(e,t){bf.m(e,t);var n=Cf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Lt(r)+`"][href="`+Lt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Lf(e)}if(!_f.has(a)&&(e=f({rel:`modulepreload`,href:e},t),_f.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Rf(a)))return}r=n.createElement(`link`),Ld(r,`link`,e),vt(r),n.head.appendChild(r)}}}function kf(e,t,n){bf.S(e,t,n);var r=Cf;if(r&&e){var i=_t(r).hoistableStyles,a=Nf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=_f.get(a))&&Vf(e,n);var c=o=r.createElement(`link`);vt(c),Ld(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Bf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Af(e,t){bf.X(e,t);var n=Cf;if(n&&e){var r=_t(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),vt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t){bf.M(e,t);var n=Cf;if(n&&e){var r=_t(n).hoistableScripts,i=Lf(e),a=r.get(i);a||(a=n.querySelector(Rf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=_f.get(i))&&Hf(e,t),a=n.createElement(`script`),vt(a),Ld(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Mf(e,t,n,r){var a=(a=oe.current)?yf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Nf(n.href),n=_t(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Nf(n.href);var o=_t(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Pf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),_f.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_f.set(e,n),o||If(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Lf(n),n=_t(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nf(e){return`href="`+Lt(e)+`"`}function Pf(e){return`link[rel="stylesheet"][`+e+`]`}function Ff(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function If(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Ld(t,`link`,n),vt(t),e.head.appendChild(t))}function Lf(e){return`[src="`+Lt(e)+`"]`}function Rf(e){return`script[async]`+e}function zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Lt(n.href)+`"]`);if(r)return t.instance=r,vt(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),vt(r),Ld(r,`style`,a),Bf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Nf(n.href);var o=e.querySelector(Pf(a));if(o)return t.state.loading|=4,t.instance=o,vt(o),o;r=Ff(n),(a=_f.get(a))&&Vf(r,a),o=(e.ownerDocument||e).createElement(`link`),vt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Ld(o,`link`,r),t.state.loading|=4,Bf(o,n.precedence,e),t.instance=o;case`script`:return o=Lf(n.src),(a=e.querySelector(Rf(o)))?(t.instance=a,vt(a),a):(r=n,(a=_f.get(o))&&(r=f({},n),Hf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),vt(a),Ld(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Bf(r,n.precedence,e));return t.instance}function Bf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Hf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Uf=null;function Wf(e,t,n){if(Uf===null){var r=new Map,i=Uf=new Map;i.set(n,r)}else i=Uf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ft]||a[at]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Kf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function qf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Jf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Nf(r.href),a=t.querySelector(Pf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Zf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,vt(a);return}a=t.ownerDocument||t,r=Ff(r),(i=_f.get(i))&&Vf(r,i),a=a.createElement(`link`),vt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Ld(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Yf=0;function Xf(e,t){return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*Bd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:C,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function np(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=oi(3,null,null,t),e.current=a,a.stateNode=e,t=aa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ra(a),e}function ip(e){return e?(e=ii,e):ii}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=Ba(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Va(e,r,t),n!==null&&(gu(n,e,t),Ha(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13||e.tag===31){var t=ti(e,67108864);t!==null&&gu(t,e,67108864),sp(e,67108864)}}function lp(e){if(e.tag===13||e.tag===31){var t=mu();t=et(t);var n=ti(e,t);n!==null&&gu(n,e,t),sp(e,t)}}var up=!0;function dp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=2,pp(e,t,n,r)}finally{L.p=a,I.T=i}}function fp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=8,pp(e,t,n,r)}finally{L.p=a,I.T=i}}function pp(e,t,n,r){if(up){var i=mp(r);if(i===null)Ed(e,t,r,hp,n),Ep(e,r);else if(Op(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<Tp.indexOf(e)){for(;i!==null;){var a=ht(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ue(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ie(o);s.entanglements[1]|=c,o&=~c}ad(a),!(q&6)&&(nu=we()+500,od(0,!1))}}break;case 31:case 13:s=ti(a,2),s!==null&&gu(s,a,2),xu(),sp(a,2)}if(a=mp(r),a===null&&Ed(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ed(e,t,r,null,n)}}function mp(e){return e=en(e),gp(e)}var hp=null;function gp(e){if(hp=null,e=mt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hp=e,null}function _p(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Te()){case Ee:return 2;case De:return 8;case Oe:case ke:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var vp=!1,yp=null,bp=null,xp=null,Sp=new Map,Cp=new Map,wp=[],Tp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ep(e,t){switch(e){case`focusin`:case`focusout`:yp=null;break;case`dragenter`:case`dragleave`:bp=null;break;case`mouseover`:case`mouseout`:xp=null;break;case`pointerover`:case`pointerout`:Sp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Cp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ht(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Op(e,t,n,r,i){switch(t){case`focusin`:return yp=Dp(yp,e,t,n,r,i),!0;case`dragenter`:return bp=Dp(bp,e,t,n,r,i),!0;case`mouseover`:return xp=Dp(xp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Sp.set(a,Dp(Sp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Cp.set(a,Dp(Cp.get(a)||null,e,t,n,r,i)),!0}return!1}function kp(e){var t=mt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,rt(e.priority,function(){lp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,rt(e.priority,function(){lp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$t=r,n.target.dispatchEvent(r),$t=null}else return t=ht(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function jp(e,t,n){Ap(e)&&n.delete(t)}function Mp(){vp=!1,yp!==null&&Ap(yp)&&(yp=null),bp!==null&&Ap(bp)&&(bp=null),xp!==null&&Ap(xp)&&(xp=null),Sp.forEach(jp),Cp.forEach(jp)}function Np(e,n){e.blockedOn===n&&(e.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mp)))}var Pp=null;function Fp(e){Pp!==e&&(Pp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pp===e&&(Pp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(gp(r||n)===null)continue;break}var a=ht(n);a!==null&&(e.splice(t,3),t-=3,ws(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ip(e){function t(t){return Np(t,e)}yp!==null&&Np(yp,e),bp!==null&&Np(bp,e),xp!==null&&Np(xp,e),Sp.forEach(t),Cp.forEach(t);for(var n=0;n<wp.length;n++){var r=wp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wp.length&&(n=wp[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&wp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[ot]||null;if(typeof a==`function`)o||Fp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[ot]||null)s=o.formAction;else if(gp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Fp(n)}}}function Lp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Rp(e){this._internalRoot=e}zp.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;ap(n,mu(),e,t,null,null)},zp.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),xu(),t[st]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wp.length&&t!==0&&t<wp[n].priority;n++);wp.splice(n,0,e),n===0&&kp(e)}};var Bp=n.version;if(Bp!==`19.2.3`)throw Error(i(527,Bp,`19.2.3`));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Vp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:I,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{Ne=Hp.inject(Vp),Pe=Hp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=W,s=qs,c=Js;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=rp(e,1,!1,null,null,n,r,null,o,s,c,Lp),e[st]=t.current,wd(e),new Rp(t)}})),y=u(s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),1),b=u(p(),1),x=`modulepreload`,S=function(e){return`/mirage/`+e},C={};const w=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=S(t,n),t in C)return;C[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:x,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var T=`popstate`;function E(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return j(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:M(t)}return P(t,n,null,e)}function D(e,t){if(e===!1||e==null)throw Error(t)}function O(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function k(){return Math.random().toString(36).substring(2,10)}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?N(t):t,state:n,key:t&&t.key||r||k()}}function M({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function N(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function P(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=j(h.location,e,t);n&&n(r,e),l=u()+1;let d=A(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=j(h.location,e,t);n&&n(r,e),l=u();let i=A(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return F(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function F(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),D(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:M(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function I(e,t,n=`/`){return L(e,t,n,!1)}function L(e,t,n,r){let i=he((typeof t==`string`?N(t):t).pathname||`/`,n);if(i==null)return null;let a=ee(e);ne(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=me(i);o=de(a[e],t,r)}return o}function R(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function ee(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;D(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=we([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(D(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),ee(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:le(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of te(e.path))a(e,t,!0,n)}),t}function te(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=te(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ne(e){e.sort((e,t)=>e.score===t.score?ue(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var re=/^:[\w-]+$/,z=3,ie=2,ae=1,oe=10,se=-2,ce=e=>e===`*`;function le(e,t){let n=e.split(`/`),r=n.length;return n.some(ce)&&(r+=se),t&&(r+=ie),n.filter(e=>!ce(e)).reduce((e,t)=>e+(re.test(t)?z:t===``?ae:oe),r)}function ue(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function de(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=fe({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=fe({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:we([a,u.pathname]),pathnameBase:Te(we([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=we([a,u.pathnameBase]))}return o}function fe(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function pe(e,t=!1,n=!0){O(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function me(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return O(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function he(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=e=>ge.test(e);function ve(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?N(e):e,a;if(n)if(_e(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),O(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${n}`)}a=n.startsWith(`/`)?ye(n.substring(1),`/`):ye(n,t)}else a=t;return{pathname:a,search:Ee(r),hash:De(i)}}function ye(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function be(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xe(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Se(e){let t=xe(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ce(e,t,n,r=!1){let i;typeof e==`string`?i=N(e):(i={...e},D(!i.pathname||!i.pathname.includes(`?`),be(`?`,`pathname`,`search`,i)),D(!i.pathname||!i.pathname.includes(`#`),be(`#`,`pathname`,`hash`,i)),D(!i.search||!i.search.includes(`#`),be(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=ve(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var we=e=>e.join(`/`).replace(/\/\/+/g,`/`),Te=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ee=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,De=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Oe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ke(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Ae(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var je=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Me(e,t){let n=e;if(typeof n!=`string`||!ge.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(je)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=he(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{O(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ne=b.createContext(null);Ne.displayName=`DataRouter`;var Pe=b.createContext(null);Pe.displayName=`DataRouterState`;var Fe=b.createContext(!1),Ie=b.createContext({isTransitioning:!1});Ie.displayName=`ViewTransition`;var Le=b.createContext(new Map);Le.displayName=`Fetchers`;var Re=b.createContext(null);Re.displayName=`Await`;var ze=b.createContext(null);ze.displayName=`Navigation`;var Be=b.createContext(null);Be.displayName=`Location`;var Ve=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ve.displayName=`Route`;var He=b.createContext(null);He.displayName=`RouteError`;var Ue=`REACT_ROUTER_ERROR`,We=`REDIRECT`,Ge=`ROUTE_ERROR_RESPONSE`;function Ke(e){if(e.startsWith(`${Ue}:${We}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function qe(e){if(e.startsWith(`${Ue}:${Ge}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Oe(t.status,t.statusText,t.data)}catch{}}function Je(e,{relative:t}={}){D(Ye(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=b.useContext(ze),{hash:i,pathname:a,search:o}=it(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:we([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Ye(){return b.useContext(Be)!=null}function Xe(){return D(Ye(),`useLocation() may be used only in the context of a <Router> component.`),b.useContext(Be).location}var Ze=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Qe(e){b.useContext(ze).static||b.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=b.useContext(Ve);return e?Ct():et()}function et(){D(Ye(),`useNavigate() may be used only in the context of a <Router> component.`);let e=b.useContext(Ne),{basename:t,navigator:n}=b.useContext(ze),{matches:r}=b.useContext(Ve),{pathname:i}=Xe(),a=JSON.stringify(Se(r)),o=b.useRef(!1);return Qe(()=>{o.current=!0}),b.useCallback((r,s={})=>{if(O(o.current,Ze),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Ce(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:we([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var tt=b.createContext(null);function nt(e){let t=b.useContext(Ve).outlet;return b.useMemo(()=>t&&b.createElement(tt.Provider,{value:e},t),[t,e])}function rt(){let{matches:e}=b.useContext(Ve),t=e[e.length-1];return t?t.params:{}}function it(e,{relative:t}={}){let{matches:n}=b.useContext(Ve),{pathname:r}=Xe(),i=JSON.stringify(Se(n));return b.useMemo(()=>Ce(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function at(e,t){return ot(e,t)}function ot(e,t,n,r,i){D(Ye(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=b.useContext(ze),{matches:o}=b.useContext(Ve),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;Tt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Xe(),p;if(t){let e=typeof t==`string`?N(t):t;D(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=I(e,{pathname:h});O(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),O(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=pt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:we([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:we([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?b.createElement(Be.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function st(){let e=St(),t=ke(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=b.createElement(b.Fragment,null,b.createElement(`p`,null,` Hey developer `),b.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,b.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,b.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:i},n):null,o)}var ct=b.createElement(st,null),lt=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=qe(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:b.createElement(Ve.Provider,{value:this.props.routeContext},b.createElement(He.Provider,{value:e,children:this.props.component}));return this.context?b.createElement(dt,{error:e},t):t}};lt.contextType=Fe;var ut=new WeakMap;function dt({children:e,error:t}){let{basename:n}=b.useContext(ze);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Ke(t.digest);if(e){let r=ut.get(t);if(r)throw r;let i=Me(e.location,n);if(je&&!ut.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw ut.set(t,n),n}return b.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function ft({routeContext:e,match:t,children:n}){let r=b.useContext(Ne);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ve.Provider,{value:e},n)}function pt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ae(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||ct,s&&(c<0&&i===0?(Tt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?b.createElement(r.route.Component,null):r.route.element?r.route.element:e,b.createElement(ft,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?b.createElement(lt,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function mt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ht(e){let t=b.useContext(Ne);return D(t,mt(e)),t}function gt(e){let t=b.useContext(Pe);return D(t,mt(e)),t}function _t(e){let t=b.useContext(Ve);return D(t,mt(e)),t}function vt(e){let t=_t(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yt(){return vt(`useRouteId`)}function bt(){return gt(`useNavigation`).navigation}function xt(){let{matches:e,loaderData:t}=gt(`useMatches`);return b.useMemo(()=>e.map(e=>R(e,t)),[e,t])}function St(){let e=b.useContext(He),t=gt(`useRouteError`),n=vt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Ct(){let{router:e}=ht(`useNavigate`),t=vt(`useNavigate`),n=b.useRef(!1);return Qe(()=>{n.current=!0}),b.useCallback(async(r,i={})=>{O(n.current,Ze),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var wt={};function Tt(e,t,n){!t&&!wt[e]&&(wt[e]=!0,O(!1,n))}b.useOptimistic,b.memo(Et);function Et({routes:e,future:t,state:n,onError:r}){return ot(e,void 0,n,r,t)}function Dt(e){return nt(e.context)}function Ot(e){D(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function kt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){D(!Ye(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=b.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=N(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=b.useMemo(()=>{let e=he(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return O(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(ze.Provider,{value:c},b.createElement(Be.Provider,{children:t,value:m}))}function At({children:e,location:t}){return at(jt(e),t)}function jt(e,t=[]){let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,jt(e.props.children,i));return}D(e.type===Ot,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),D(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=jt(e.props.children,i)),n.push(a)}),n}var Mt=`get`,Nt=`application/x-www-form-urlencoded`;function Pt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Ft(e){return Pt(e)&&e.tagName.toLowerCase()===`button`}function It(e){return Pt(e)&&e.tagName.toLowerCase()===`form`}function Lt(e){return Pt(e)&&e.tagName.toLowerCase()===`input`}function Rt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zt(e,t){return e.button===0&&(!t||t===`_self`)&&!Rt(e)}function Bt(e=``){return new URLSearchParams(typeof e==`string`||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}function Vt(e,t){let n=Bt(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}var Ht=null;function Ut(){if(Ht===null)try{new FormData(document.createElement(`form`),0),Ht=!1}catch{Ht=!0}return Ht}var Wt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Gt(e){return e!=null&&!Wt.has(e)?(O(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nt}"`),null):e}function Kt(e,t){let n,r,i,a,o;if(It(e)){let o=e.getAttribute(`action`);r=o?he(o,t):null,n=e.getAttribute(`method`)||Mt,i=Gt(e.getAttribute(`enctype`))||Nt,a=new FormData(e)}else if(Ft(e)||Lt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?he(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Mt,i=Gt(e.getAttribute(`formenctype`))||Gt(o.getAttribute(`enctype`))||Nt,a=new FormData(o,e),!Ut()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Pt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Mt,r=null,i=Nt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function qt(e,t){if(e===!1||e==null)throw Error(t)}function Jt(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&he(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function Yt(e,t){if(e.id in t)return t[e.id];try{let n=await w(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xt(e){return e!=null&&typeof e.page==`string`}function Zt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Qt(e,t,n){return rn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Yt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Zt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function $t(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function en(e,t,{includeHydrateFallback:n}={}){return tn(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function tn(e){return[...new Set(e)]}function nn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Xt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(nn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function an(){let e=b.useContext(Ne);return qt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function on(){let e=b.useContext(Pe);return qt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var sn=b.createContext(void 0);sn.displayName=`FrameworkContext`;function cn(){let e=b.useContext(sn);return qt(e,`You must render this element inside a <HydratedRouter> element`),e}function ln(e,t){let n=b.useContext(sn),[r,i]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),b.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:un(s,p),onBlur:un(c,m),onMouseEnter:un(l,p),onMouseLeave:un(u,m),onTouchStart:un(d,p)}]:[a,f,{}]:[!1,f,{}]}function un(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dn({page:e,...t}){let{router:n}=an(),r=b.useMemo(()=>I(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(pn,{page:e,matches:r,...t}):null}function fn(e){let{manifest:t,routeModules:n}=cn(),[r,i]=b.useState([]);return b.useEffect(()=>{let r=!1;return Qt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function pn({page:e,matches:t,...n}){let r=Xe(),{manifest:i,routeModules:a}=cn(),{basename:o}=an(),{loaderData:s,matches:c}=on(),l=b.useMemo(()=>$t(e,t,c,i,r,`data`),[e,t,c,i,r]),u=b.useMemo(()=>$t(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=Jt(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=b.useMemo(()=>en(u,i),[u,i]),p=fn(u);return b.createElement(b.Fragment,null,d.map(e=>b.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>b.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>b.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function mn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var hn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{hn&&(window.__reactRouterVersion=`7.11.0`)}catch{}function gn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=b.useRef();i.current??=E({window:r,v5Compat:!0});let a=i.current,[o,s]=b.useState({action:a.action,location:a.location}),c=b.useCallback(e=>{n===!1?s(e):b.startTransition(()=>s(e))},[n]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.createElement(kt,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function _n({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=b.useState({action:n.action,location:n.location}),o=b.useCallback(e=>{r===!1?a(e):b.startTransition(()=>a(e))},[r]);return b.useLayoutEffect(()=>n.listen(o),[n,o]),b.createElement(kt,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}_n.displayName=`unstable_HistoryRouter`;var vn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=b.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=b.useContext(ze),g=typeof c==`string`&&vn.test(c),_=Me(c,m);c=_.to;let v=Je(c,{relative:r}),[y,x,S]=ln(n,f),C=En(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=b.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:mn(p,x),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?b.createElement(b.Fragment,null,T,b.createElement(dn,{page:v})):T});yn.displayName=`Link`;var bn=b.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=it(a,{relative:c.relative}),d=Xe(),f=b.useContext(Pe),{navigator:p,basename:m}=b.useContext(ze),h=f!=null&&Ln(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=he(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return b.createElement(yn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});bn.displayName=`NavLink`;var xn=b.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Mt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=b.useContext(ze),g=An(),_=jn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&vn.test(s);return b.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?b.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});xn.displayName=`Form`;function Sn({getKey:e,storageKey:t,...n}){let r=b.useContext(sn),{basename:i}=b.useContext(ze),a=Xe(),o=xt();Fn({getKey:e,storageKey:t});let s=b.useMemo(()=>{if(!r||!e)return null;let t=Pn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return b.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||Mn)}, ${JSON.stringify(s)})`}})}Sn.displayName=`ScrollRestoration`;function Cn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wn(e){let t=b.useContext(Ne);return D(t,Cn(e)),t}function Tn(e){let t=b.useContext(Pe);return D(t,Cn(e)),t}function En(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=$e(),u=Xe(),d=it(e,{relative:a});return b.useCallback(f=>{if(zt(f,t)){f.preventDefault();let t=n===void 0?M(u)===M(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?b.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}function Dn(e){O(typeof URLSearchParams<`u`,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Bt(e)),n=b.useRef(!1),r=Xe(),i=b.useMemo(()=>Vt(r.search,n.current?null:t.current),[r.search]),a=$e();return[i,b.useCallback((e,t)=>{let r=Bt(typeof e==`function`?e(new URLSearchParams(i)):e);n.current=!0,a(`?`+r,t)},[a,i])]}var On=0,kn=()=>`__${String(++On)}__`;function An(){let{router:e}=wn(`useSubmit`),{basename:t}=b.useContext(ze),n=yt(),r=e.fetch,i=e.navigate;return b.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Kt(e,t);a.navigate===!1?await r(a.fetcherKey||kn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function jn(e,{relative:t}={}){let{basename:n}=b.useContext(ze),r=b.useContext(Ve);D(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...it(e||`.`,{relative:t})},o=Xe();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:we([n,a.pathname])),M(a)}var Mn=`react-router-scroll-positions`,Nn={};function Pn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:he(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Fn({getKey:e,storageKey:t}={}){let{router:n}=wn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=Tn(`useScrollRestoration`),{basename:a}=b.useContext(ze),o=Xe(),s=xt(),c=bt();b.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),In(b.useCallback(()=>{if(c.state===`idle`){let t=Pn(o,s,a,e);Nn[t]=window.scrollY}try{sessionStorage.setItem(t||Mn,JSON.stringify(Nn))}catch(e){O(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(b.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Mn);e&&(Nn=JSON.parse(e))}catch{}},[t]),b.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Nn,()=>window.scrollY,e?(t,n)=>Pn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),b.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{O(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function In(e,t){let{capture:n}=t||{};b.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Ln(e,{relative:t}={}){let n=b.useContext(Ie);D(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wn(`useViewTransitionState`),i=it(e,{relative:t});if(!n.isTransitioning)return!1;let a=he(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=he(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fe(i.pathname,o)!=null||fe(i.pathname,a)!=null}var Rn=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),zn=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),Bn={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},Vn=(0,b.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,b.createElement)(`svg`,{ref:c,...Bn,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zn(`lucide`,i),...s},[...o.map(([e,t])=>(0,b.createElement)(e,t)),...Array.isArray(a)?a:[a]])),B=(e,t)=>{let n=(0,b.forwardRef)(({className:n,...r},i)=>(0,b.createElement)(Vn,{ref:i,iconNode:t,className:zn(`lucide-${Rn(e)}`,n),...r}));return n.displayName=`${e}`,n},Hn=B(`ArrowRight`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),Un=B(`Book`,[[`path`,{d:`M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20`,key:`k3hazp`}]]),Wn=B(`Check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),Gn=B(`ChevronDown`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),Kn=B(`ChevronLeft`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),qn=B(`ChevronRight`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Jn=B(`CircleAlert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),Yn=B(`CircleCheckBig`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Xn=B(`CircleHelp`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3`,key:`1u773s`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Zn=B(`CirclePlus`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 12h8`,key:`1wcyev`}],[`path`,{d:`M12 8v8`,key:`napkw2`}]]),Qn=B(`CircleX`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),$n=B(`Clipboard`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}]]),er=B(`CloudUpload`,[[`path`,{d:`M12 13v8`,key:`1l5pq0`}],[`path`,{d:`M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242`,key:`1pljnt`}],[`path`,{d:`m8 17 4-4 4 4`,key:`1quai1`}]]),tr=B(`CodeXml`,[[`path`,{d:`m18 16 4-4-4-4`,key:`1inbqp`}],[`path`,{d:`m6 8-4 4 4 4`,key:`15zrgr`}],[`path`,{d:`m14.5 4-5 16`,key:`e7oirm`}]]),nr=B(`Copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),rr=B(`Database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),ir=B(`Fingerprint`,[[`path`,{d:`M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4`,key:`1nerag`}],[`path`,{d:`M14 13.12c0 2.38 0 6.38-1 8.88`,key:`o46ks0`}],[`path`,{d:`M17.29 21.02c.12-.6.43-2.3.5-3.02`,key:`ptglia`}],[`path`,{d:`M2 12a10 10 0 0 1 18-6`,key:`ydlgp0`}],[`path`,{d:`M2 16h.01`,key:`1gqxmh`}],[`path`,{d:`M21.8 16c.2-2 .131-5.354 0-6`,key:`drycrb`}],[`path`,{d:`M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2`,key:`1tidbn`}],[`path`,{d:`M8.65 22c.21-.66.45-1.32.57-2`,key:`13wd9y`}],[`path`,{d:`M9 6.8a6 6 0 0 1 9 5.2v2`,key:`1fr1j5`}]]),ar=B(`Globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),or=B(`House`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`1d0kgt`}]]),sr=B(`Info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),cr=B(`Key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),lr=B(`LayoutGrid`,[[`rect`,{width:`7`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`1g98yp`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`3`,rx:`1`,key:`6d4xhi`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`14`,rx:`1`,key:`nxv5o0`}],[`rect`,{width:`7`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`1bb6yr`}]]),ur=B(`LoaderCircle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),dr=B(`LogOut`,[[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}],[`polyline`,{points:`16 17 21 12 16 7`,key:`1gabdz`}],[`line`,{x1:`21`,x2:`9`,y1:`12`,y2:`12`,key:`1uyos4`}]]),fr=B(`Menu`,[[`line`,{x1:`4`,x2:`20`,y1:`12`,y2:`12`,key:`1e0a9i`}],[`line`,{x1:`4`,x2:`20`,y1:`6`,y2:`6`,key:`1owob3`}],[`line`,{x1:`4`,x2:`20`,y1:`18`,y2:`18`,key:`yk5zj1`}]]),pr=B(`Monitor`,[[`rect`,{width:`20`,height:`14`,x:`2`,y:`3`,rx:`2`,key:`48i651`}],[`line`,{x1:`8`,x2:`16`,y1:`21`,y2:`21`,key:`1svkeh`}],[`line`,{x1:`12`,x2:`12`,y1:`17`,y2:`21`,key:`vw1qmm`}]]),mr=B(`Package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`path`,{d:`m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7`,key:`yx3hmr`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),hr=B(`PenLine`,[[`path`,{d:`M12 20h9`,key:`t2du7b`}],[`path`,{d:`M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z`,key:`1ykcvy`}]]),gr=B(`Play`,[[`polygon`,{points:`6 3 20 12 6 21 6 3`,key:`1oa8hb`}]]),_r=B(`Plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),vr=B(`Save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),yr=B(`Send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),br=B(`Server`,[[`rect`,{width:`20`,height:`8`,x:`2`,y:`2`,rx:`2`,ry:`2`,key:`ngkwjq`}],[`rect`,{width:`20`,height:`8`,x:`2`,y:`14`,rx:`2`,ry:`2`,key:`iecqi9`}],[`line`,{x1:`6`,x2:`6.01`,y1:`6`,y2:`6`,key:`16zg32`}],[`line`,{x1:`6`,x2:`6.01`,y1:`18`,y2:`18`,key:`nzw8ys`}]]),xr=B(`Settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Sr=B(`Shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Cr=B(`Smartphone`,[[`rect`,{width:`14`,height:`20`,x:`5`,y:`2`,rx:`2`,ry:`2`,key:`1yt0o3`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}]]),wr=B(`Sparkles`,[[`path`,{d:`M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z`,key:`4pj2yx`}],[`path`,{d:`M20 3v4`,key:`1olli1`}],[`path`,{d:`M22 5h-4`,key:`1gvqau`}],[`path`,{d:`M4 17v2`,key:`vumght`}],[`path`,{d:`M5 18H3`,key:`zchphs`}]]),Tr=B(`Trash2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),Er=B(`User`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Dr=B(`Users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`path`,{d:`M16 3.13a4 4 0 0 1 0 7.75`,key:`1da9ce`}]]),Or=B(`X`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);function kr(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kr(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Ar(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kr(e))&&(r&&(r+=` `),r+=t);return r}var jr=`-`,Mr=e=>{let t=Ir(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split(jr);return n[0]===``&&n.length!==1&&n.shift(),Nr(n,t)||Fr(e)},getConflictingClassGroupIds:(e,t)=>{let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},Nr=(e,t)=>{if(e.length===0)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),i=r?Nr(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;let a=e.join(jr);return t.validators.find(({validator:e})=>e(a))?.classGroupId},Pr=/^\[(.+)\]$/,Fr=e=>{if(Pr.test(e)){let t=Pr.exec(e)[1],n=t?.substring(0,t.indexOf(`:`));if(n)return`arbitrary..`+n}},Ir=e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Br(Object.entries(e.classGroups),n).forEach(([e,n])=>{Lr(n,r,e,t)}),r},Lr=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==`string`){let r=e===``?t:Rr(t,e);r.classGroupId=n;return}if(typeof e==`function`){if(zr(e)){Lr(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{Lr(i,Rr(t,e),n,r)})})},Rr=(e,t)=>{let n=e;return t.split(jr).forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},zr=e=>e.isThemeGetter,Br=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>typeof e==`string`?t+e:typeof e==`object`?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Vr=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);if(t!==void 0)return t;if((t=r.get(e))!==void 0)return i(e,t),t},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Hr=`!`,Ur=e=>{let{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=e=>{let n=[],o=0,s=0,c;for(let l=0;l<e.length;l++){let u=e[l];if(o===0){if(u===i&&(r||e.slice(l,l+a)===t)){n.push(e.slice(s,l)),s=l+a;continue}if(u===`/`){c=l;continue}}u===`[`?o++:u===`]`&&o--}let l=n.length===0?e:e.substring(s),u=l.startsWith(Hr);return{modifiers:n,hasImportantModifier:u,baseClassName:u?l.substring(1):l,maybePostfixModifierPosition:c&&c>s?c-s:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Wr=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{e[0]===`[`?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Gr=e=>({cache:Vr(e.cacheSize),parseClassName:Ur(e),...Mr(e)}),Kr=/\s+/,qr=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(Kr),s=``;for(let e=o.length-1;e>=0;--e){let t=o[e],{modifiers:c,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(t),f=!!d,p=r(f?u.substring(0,d):u);if(!p){if(!f){s=t+(s.length>0?` `+s:s);continue}if(p=r(u),!p){s=t+(s.length>0?` `+s:s);continue}f=!1}let m=Wr(c).join(`:`),h=l?m+Hr:m,g=h+p;if(a.includes(g))continue;a.push(g);let _=i(p,f);for(let e=0;e<_.length;++e){let t=_[e];a.push(h+t)}s=t+(s.length>0?` `+s:s)}return s};function Jr(){let e=0,t,n,r=``;for(;e<arguments.length;)(t=arguments[e++])&&(n=Yr(t))&&(r&&(r+=` `),r+=n);return r}var Yr=e=>{if(typeof e==`string`)return e;let t,n=``;for(let r=0;r<e.length;r++)e[r]&&(t=Yr(e[r]))&&(n&&(n+=` `),n+=t);return n};function Xr(e,...t){let n,r,i,a=o;function o(o){return n=Gr(t.reduce((e,t)=>t(e),e())),r=n.cache.get,i=n.cache.set,a=s,s(o)}function s(e){let t=r(e);if(t)return t;let a=qr(e,n);return i(e,a),a}return function(){return a(Jr.apply(null,arguments))}}var Zr=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},Qr=/^\[(?:([a-z-]+):)?(.+)\]$/i,$r=/^\d+\/\d+$/,ei=new Set([`px`,`full`,`screen`]),ti=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ni=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ri=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ii=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ai=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>ci(e)||ei.has(e)||$r.test(e),si=e=>bi(e,`length`,xi),ci=e=>!!e&&!Number.isNaN(Number(e)),li=e=>bi(e,`number`,ci),ui=e=>!!e&&Number.isInteger(Number(e)),di=e=>e.endsWith(`%`)&&ci(e.slice(0,-1)),V=e=>Qr.test(e),fi=e=>ti.test(e),pi=new Set([`length`,`size`,`percentage`]),mi=e=>bi(e,pi,Si),hi=e=>bi(e,`position`,Si),gi=new Set([`image`,`url`]),_i=e=>bi(e,gi,wi),vi=e=>bi(e,``,Ci),yi=()=>!0,bi=(e,t,n)=>{let r=Qr.exec(e);return r?r[1]?typeof t==`string`?r[1]===t:t.has(r[1]):n(r[2]):!1},xi=e=>ni.test(e)&&!ri.test(e),Si=()=>!1,Ci=e=>ii.test(e),wi=e=>ai.test(e),Ti=Xr(()=>{let e=Zr(`colors`),t=Zr(`spacing`),n=Zr(`blur`),r=Zr(`brightness`),i=Zr(`borderColor`),a=Zr(`borderRadius`),o=Zr(`borderSpacing`),s=Zr(`borderWidth`),c=Zr(`contrast`),l=Zr(`grayscale`),u=Zr(`hueRotate`),d=Zr(`invert`),f=Zr(`gap`),p=Zr(`gradientColorStops`),m=Zr(`gradientColorStopPositions`),h=Zr(`inset`),g=Zr(`margin`),_=Zr(`opacity`),v=Zr(`padding`),y=Zr(`saturate`),b=Zr(`scale`),x=Zr(`sepia`),S=Zr(`skew`),C=Zr(`space`),w=Zr(`translate`),T=()=>[`auto`,`contain`,`none`],E=()=>[`auto`,`hidden`,`clip`,`visible`,`scroll`],D=()=>[`auto`,V,t],O=()=>[V,t],k=()=>[``,oi,si],A=()=>[`auto`,ci,V],j=()=>[`bottom`,`center`,`left`,`left-bottom`,`left-top`,`right`,`right-bottom`,`right-top`,`top`],M=()=>[`solid`,`dashed`,`dotted`,`double`,`none`],N=()=>[`normal`,`multiply`,`screen`,`overlay`,`darken`,`lighten`,`color-dodge`,`color-burn`,`hard-light`,`soft-light`,`difference`,`exclusion`,`hue`,`saturation`,`color`,`luminosity`],P=()=>[`start`,`end`,`center`,`between`,`around`,`evenly`,`stretch`],F=()=>[``,`0`,V],I=()=>[`auto`,`avoid`,`all`,`avoid-page`,`page`,`left`,`right`,`column`],L=()=>[ci,V];return{cacheSize:500,separator:`:`,theme:{colors:[yi],spacing:[oi,si],blur:[`none`,``,fi,V],brightness:L(),borderColor:[e],borderRadius:[`none`,``,`full`,fi,V],borderSpacing:O(),borderWidth:k(),contrast:L(),grayscale:F(),hueRotate:L(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[di,si],inset:D(),margin:D(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:F(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:[`auto`,`square`,`video`,V]}],container:[`container`],columns:[{columns:[fi]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":[`auto`,`avoid`,`avoid-page`,`avoid-column`]}],"box-decoration":[{"box-decoration":[`slice`,`clone`]}],box:[{box:[`border`,`content`]}],display:[`block`,`inline-block`,`inline`,`flex`,`inline-flex`,`table`,`inline-table`,`table-caption`,`table-cell`,`table-column`,`table-column-group`,`table-footer-group`,`table-header-group`,`table-row-group`,`table-row`,`flow-root`,`grid`,`inline-grid`,`contents`,`list-item`,`hidden`],float:[{float:[`right`,`left`,`none`,`start`,`end`]}],clear:[{clear:[`left`,`right`,`both`,`none`,`start`,`end`]}],isolation:[`isolate`,`isolation-auto`],"object-fit":[{object:[`contain`,`cover`,`fill`,`none`,`scale-down`]}],"object-position":[{object:[...j(),V]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:[`static`,`fixed`,`absolute`,`relative`,`sticky`],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:[`visible`,`invisible`,`collapse`],z:[{z:[`auto`,ui,V]}],basis:[{basis:D()}],"flex-direction":[{flex:[`row`,`row-reverse`,`col`,`col-reverse`]}],"flex-wrap":[{flex:[`wrap`,`wrap-reverse`,`nowrap`]}],flex:[{flex:[`1`,`auto`,`initial`,`none`,V]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:[`first`,`last`,`none`,ui,V]}],"grid-cols":[{"grid-cols":[yi]}],"col-start-end":[{col:[`auto`,{span:[`full`,ui,V]},V]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[yi]}],"row-start-end":[{row:[`auto`,{span:[ui,V]},V]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":[`row`,`col`,`dense`,`row-dense`,`col-dense`]}],"auto-cols":[{"auto-cols":[`auto`,`min`,`max`,`fr`,V]}],"auto-rows":[{"auto-rows":[`auto`,`min`,`max`,`fr`,V]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:[`normal`,...P()]}],"justify-items":[{"justify-items":[`start`,`end`,`center`,`stretch`]}],"justify-self":[{"justify-self":[`auto`,`start`,`end`,`center`,`stretch`]}],"align-content":[{content:[`normal`,...P(),`baseline`]}],"align-items":[{items:[`start`,`end`,`center`,`baseline`,`stretch`]}],"align-self":[{self:[`auto`,`start`,`end`,`center`,`stretch`,`baseline`]}],"place-content":[{"place-content":[...P(),`baseline`]}],"place-items":[{"place-items":[`start`,`end`,`center`,`baseline`,`stretch`]}],"place-self":[{"place-self":[`auto`,`start`,`end`,`center`,`stretch`]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":[`space-x-reverse`],"space-y":[{"space-y":[C]}],"space-y-reverse":[`space-y-reverse`],w:[{w:[`auto`,`min`,`max`,`fit`,`svw`,`lvw`,`dvw`,V,t]}],"min-w":[{"min-w":[V,t,`min`,`max`,`fit`]}],"max-w":[{"max-w":[V,t,`none`,`full`,`min`,`max`,`fit`,`prose`,{screen:[fi]},fi]}],h:[{h:[V,t,`auto`,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],"min-h":[{"min-h":[V,t,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],"max-h":[{"max-h":[V,t,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],size:[{size:[V,t,`auto`,`min`,`max`,`fit`]}],"font-size":[{text:[`base`,fi,si]}],"font-smoothing":[`antialiased`,`subpixel-antialiased`],"font-style":[`italic`,`not-italic`],"font-weight":[{font:[`thin`,`extralight`,`light`,`normal`,`medium`,`semibold`,`bold`,`extrabold`,`black`,li]}],"font-family":[{font:[yi]}],"fvn-normal":[`normal-nums`],"fvn-ordinal":[`ordinal`],"fvn-slashed-zero":[`slashed-zero`],"fvn-figure":[`lining-nums`,`oldstyle-nums`],"fvn-spacing":[`proportional-nums`,`tabular-nums`],"fvn-fraction":[`diagonal-fractions`,`stacked-fractions`],tracking:[{tracking:[`tighter`,`tight`,`normal`,`wide`,`wider`,`widest`,V]}],"line-clamp":[{"line-clamp":[`none`,ci,li]}],leading:[{leading:[`none`,`tight`,`snug`,`normal`,`relaxed`,`loose`,oi,V]}],"list-image":[{"list-image":[`none`,V]}],"list-style-type":[{list:[`none`,`disc`,`decimal`,V]}],"list-style-position":[{list:[`inside`,`outside`]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:[`left`,`center`,`right`,`justify`,`start`,`end`]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":[`underline`,`overline`,`line-through`,`no-underline`],"text-decoration-style":[{decoration:[...M(),`wavy`]}],"text-decoration-thickness":[{decoration:[`auto`,`from-font`,oi,si]}],"underline-offset":[{"underline-offset":[`auto`,oi,V]}],"text-decoration-color":[{decoration:[e]}],"text-transform":[`uppercase`,`lowercase`,`capitalize`,`normal-case`],"text-overflow":[`truncate`,`text-ellipsis`,`text-clip`],"text-wrap":[{text:[`wrap`,`nowrap`,`balance`,`pretty`]}],indent:[{indent:O()}],"vertical-align":[{align:[`baseline`,`top`,`middle`,`bottom`,`text-top`,`text-bottom`,`sub`,`super`,V]}],whitespace:[{whitespace:[`normal`,`nowrap`,`pre`,`pre-line`,`pre-wrap`,`break-spaces`]}],break:[{break:[`normal`,`words`,`all`,`keep`]}],hyphens:[{hyphens:[`none`,`manual`,`auto`]}],content:[{content:[`none`,V]}],"bg-attachment":[{bg:[`fixed`,`local`,`scroll`]}],"bg-clip":[{"bg-clip":[`border`,`padding`,`content`,`text`]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":[`border`,`padding`,`content`]}],"bg-position":[{bg:[...j(),hi]}],"bg-repeat":[{bg:[`no-repeat`,{repeat:[``,`x`,`y`,`round`,`space`]}]}],"bg-size":[{bg:[`auto`,`cover`,`contain`,mi]}],"bg-image":[{bg:[`none`,{"gradient-to":[`t`,`tr`,`r`,`br`,`b`,`bl`,`l`,`tl`]},_i]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...M(),`hidden`]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":[`divide-x-reverse`],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":[`divide-y-reverse`],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[``,...M()]}],"outline-offset":[{"outline-offset":[oi,V]}],"outline-w":[{outline:[oi,si]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":[`ring-inset`],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[oi,si]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:[``,`inner`,`none`,fi,vi]}],"shadow-color":[{shadow:[yi]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...N(),`plus-lighter`,`plus-darker`]}],"bg-blend":[{"bg-blend":N()}],filter:[{filter:[``,`none`]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":[``,`none`,fi,V]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":[``,`none`]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:[`collapse`,`separate`]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:[`auto`,`fixed`]}],caption:[{caption:[`top`,`bottom`]}],transition:[{transition:[`none`,`all`,``,`colors`,`opacity`,`shadow`,`transform`,V]}],duration:[{duration:L()}],ease:[{ease:[`linear`,`in`,`out`,`in-out`,V]}],delay:[{delay:L()}],animate:[{animate:[`none`,`spin`,`ping`,`pulse`,`bounce`,V]}],transform:[{transform:[``,`gpu`,`none`]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ui,V]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:[`center`,`top`,`top-right`,`right`,`bottom-right`,`bottom`,`bottom-left`,`left`,`top-left`,V]}],accent:[{accent:[`auto`,e]}],appearance:[{appearance:[`none`,`auto`]}],cursor:[{cursor:[`auto`,`default`,`pointer`,`wait`,`text`,`move`,`help`,`not-allowed`,`none`,`context-menu`,`progress`,`cell`,`crosshair`,`vertical-text`,`alias`,`copy`,`no-drop`,`grab`,`grabbing`,`all-scroll`,`col-resize`,`row-resize`,`n-resize`,`e-resize`,`s-resize`,`w-resize`,`ne-resize`,`nw-resize`,`se-resize`,`sw-resize`,`ew-resize`,`ns-resize`,`nesw-resize`,`nwse-resize`,`zoom-in`,`zoom-out`,V]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":[`none`,`auto`]}],resize:[{resize:[`none`,`y`,`x`,``]}],"scroll-behavior":[{scroll:[`auto`,`smooth`]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:[`start`,`end`,`center`,`align-none`]}],"snap-stop":[{snap:[`normal`,`always`]}],"snap-type":[{snap:[`none`,`x`,`y`,`both`]}],"snap-strictness":[{snap:[`mandatory`,`proximity`]}],touch:[{touch:[`auto`,`none`,`manipulation`]}],"touch-x":[{"touch-pan":[`x`,`left`,`right`]}],"touch-y":[{"touch-pan":[`y`,`up`,`down`]}],"touch-pz":[`touch-pinch-zoom`],select:[{select:[`none`,`text`,`all`,`auto`]}],"will-change":[{"will-change":[`auto`,`scroll`,`contents`,`transform`,V]}],fill:[{fill:[e,`none`]}],"stroke-w":[{stroke:[oi,si,li]}],stroke:[{stroke:[e,`none`]}],sr:[`sr-only`,`not-sr-only`],"forced-color-adjust":[{"forced-color-adjust":[`auto`,`none`]}]},conflictingClassGroups:{overflow:[`overflow-x`,`overflow-y`],overscroll:[`overscroll-x`,`overscroll-y`],inset:[`inset-x`,`inset-y`,`start`,`end`,`top`,`right`,`bottom`,`left`],"inset-x":[`right`,`left`],"inset-y":[`top`,`bottom`],flex:[`basis`,`grow`,`shrink`],gap:[`gap-x`,`gap-y`],p:[`px`,`py`,`ps`,`pe`,`pt`,`pr`,`pb`,`pl`],px:[`pr`,`pl`],py:[`pt`,`pb`],m:[`mx`,`my`,`ms`,`me`,`mt`,`mr`,`mb`,`ml`],mx:[`mr`,`ml`],my:[`mt`,`mb`],size:[`w`,`h`],"font-size":[`leading`],"fvn-normal":[`fvn-ordinal`,`fvn-slashed-zero`,`fvn-figure`,`fvn-spacing`,`fvn-fraction`],"fvn-ordinal":[`fvn-normal`],"fvn-slashed-zero":[`fvn-normal`],"fvn-figure":[`fvn-normal`],"fvn-spacing":[`fvn-normal`],"fvn-fraction":[`fvn-normal`],"line-clamp":[`display`,`overflow`],rounded:[`rounded-s`,`rounded-e`,`rounded-t`,`rounded-r`,`rounded-b`,`rounded-l`,`rounded-ss`,`rounded-se`,`rounded-ee`,`rounded-es`,`rounded-tl`,`rounded-tr`,`rounded-br`,`rounded-bl`],"rounded-s":[`rounded-ss`,`rounded-es`],"rounded-e":[`rounded-se`,`rounded-ee`],"rounded-t":[`rounded-tl`,`rounded-tr`],"rounded-r":[`rounded-tr`,`rounded-br`],"rounded-b":[`rounded-br`,`rounded-bl`],"rounded-l":[`rounded-tl`,`rounded-bl`],"border-spacing":[`border-spacing-x`,`border-spacing-y`],"border-w":[`border-w-s`,`border-w-e`,`border-w-t`,`border-w-r`,`border-w-b`,`border-w-l`],"border-w-x":[`border-w-r`,`border-w-l`],"border-w-y":[`border-w-t`,`border-w-b`],"border-color":[`border-color-s`,`border-color-e`,`border-color-t`,`border-color-r`,`border-color-b`,`border-color-l`],"border-color-x":[`border-color-r`,`border-color-l`],"border-color-y":[`border-color-t`,`border-color-b`],"scroll-m":[`scroll-mx`,`scroll-my`,`scroll-ms`,`scroll-me`,`scroll-mt`,`scroll-mr`,`scroll-mb`,`scroll-ml`],"scroll-mx":[`scroll-mr`,`scroll-ml`],"scroll-my":[`scroll-mt`,`scroll-mb`],"scroll-p":[`scroll-px`,`scroll-py`,`scroll-ps`,`scroll-pe`,`scroll-pt`,`scroll-pr`,`scroll-pb`,`scroll-pl`],"scroll-px":[`scroll-pr`,`scroll-pl`],"scroll-py":[`scroll-pt`,`scroll-pb`],touch:[`touch-x`,`touch-y`,`touch-pz`],"touch-x":[`touch`],"touch-y":[`touch`],"touch-pz":[`touch`]},conflictingClassGroupModifiers:{"font-size":[`leading`]}}});function Ei(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function Di(e,...t){if(!(e instanceof Uint8Array))throw Error(`Expected Uint8Array`);if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Oi(e){if(typeof e!=`function`||typeof e.create!=`function`)throw Error(`Hash should be wrapped by utils.wrapConstructor`);Ei(e.outputLen),Ei(e.blockLen)}function ki(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function Ai(e,t){Di(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}const ji=typeof globalThis==`object`&&`crypto`in globalThis?globalThis.crypto:void 0;var H=e=>e instanceof Uint8Array;const Mi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ni=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);function Pi(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Fi(e){if(typeof e==`string`&&(e=Pi(e)),!H(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function Ii(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!H(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}var Li=class{clone(){return this._cloneInto()}};({}).toString;function Ri(e){let t=t=>e().update(Fi(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function zi(e=32){if(ji&&typeof ji.getRandomValues==`function`)return ji.getRandomValues(new Uint8Array(e));throw Error(`crypto.getRandomValues must be defined`)}function Bi(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var Vi=class extends Li{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mi(this.buffer)}update(e){ki(this);let{view:t,buffer:n,blockLen:r}=this;e=Fi(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o===r){let t=Mi(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ki(this),Ai(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;Bi(n,r-8,BigInt(this.length*8),i),this.process(n,0);let o=Mi(e),s=this.outputLen;if(s%4)throw Error(`_sha2: outputLen should be aligned to 32bit`);let c=s/4,l=this.get();if(c>l.length)throw Error(`_sha2: outputLen bigger than state`);for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||=new this.constructor,e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}},Hi=(e,t,n)=>e&t^~e&n,Ui=(e,t,n)=>e&t^e&n^t&n,Wi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ki=new Uint32Array(64),qi=class extends Vi{constructor(){super(64,32,8,!1),this.A=Gi[0]|0,this.B=Gi[1]|0,this.C=Gi[2]|0,this.D=Gi[3]|0,this.E=Gi[4]|0,this.F=Gi[5]|0,this.G=Gi[6]|0,this.H=Gi[7]|0}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:s}=this;return[e,t,n,r,i,a,o,s]}set(e,t,n,r,i,a,o,s){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=s|0}process(e,t){for(let n=0;n<16;n++,t+=4)Ki[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=Ki[e-15],n=Ki[e-2],r=Ni(t,7)^Ni(t,18)^t>>>3;Ki[e]=(Ni(n,17)^Ni(n,19)^n>>>10)+Ki[e-7]+r+Ki[e-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){let t=Ni(o,6)^Ni(o,11)^Ni(o,25),u=l+t+Hi(o,s,c)+Wi[e]+Ki[e]|0,d=(Ni(n,2)^Ni(n,13)^Ni(n,22))+Ui(n,r,i)|0;l=c,c=s,s=o,o=a+u|0,a=i,i=r,r=n,n=u+d|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,o,s,c,l)}roundClean(){Ki.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ji=Ri(()=>new qi);var Yi=c({bitGet:()=>ha,bitLen:()=>ma,bitMask:()=>_a,bitSet:()=>ga,bytesToHex:()=>ta,bytesToNumberBE:()=>aa,bytesToNumberLE:()=>oa,concatBytes:()=>da,createHmacDrbg:()=>ba,ensureBytes:()=>ua,equalBytes:()=>fa,hexToBytes:()=>ia,hexToNumber:()=>ra,numberToBytesBE:()=>sa,numberToBytesLE:()=>ca,numberToHexUnpadded:()=>na,numberToVarBytesBE:()=>la,utf8ToBytes:()=>pa,validateObject:()=>Sa}),Xi=BigInt(0),Zi=BigInt(1),Qi=BigInt(2),$i=e=>e instanceof Uint8Array,ea=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function ta(e){if(!$i(e))throw Error(`Uint8Array expected`);let t=``;for(let n=0;n<e.length;n++)t+=ea[e[n]];return t}function na(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function ra(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);return BigInt(e===``?`0`:`0x${e}`)}function ia(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){let r=t*2,i=e.slice(r,r+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw Error(`Invalid byte sequence`);n[t]=a}return n}function aa(e){return ra(ta(e))}function oa(e){if(!$i(e))throw Error(`Uint8Array expected`);return ra(ta(Uint8Array.from(e).reverse()))}function sa(e,t){return ia(e.toString(16).padStart(t*2,`0`))}function ca(e,t){return sa(e,t).reverse()}function la(e){return ia(na(e))}function ua(e,t,n){let r;if(typeof t==`string`)try{r=ia(t)}catch(n){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else if($i(t))r=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=r.length;if(typeof n==`number`&&i!==n)throw Error(`${e} expected ${n} bytes, got ${i}`);return r}function da(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!$i(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}function fa(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pa(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ma(e){let t;for(t=0;e>Xi;e>>=Zi,t+=1);return t}function ha(e,t){return e>>BigInt(t)&Zi}const ga=(e,t,n)=>e|(n?Zi:Xi)<<BigInt(t),_a=e=>(Qi<<BigInt(e-1))-Zi;var va=e=>new Uint8Array(e),ya=e=>Uint8Array.from(e);function ba(e,t,n){if(typeof e!=`number`||e<2)throw Error(`hashLen must be a number`);if(typeof t!=`number`||t<2)throw Error(`qByteLen must be a number`);if(typeof n!=`function`)throw Error(`hmacFn must be a function`);let r=va(e),i=va(e),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...e)=>n(i,r,...e),c=(e=va())=>{i=s(ya([0]),e),r=s(),e.length!==0&&(i=s(ya([1]),e),r=s())},l=()=>{if(a++>=1e3)throw Error(`drbg: tried 1000 values`);let e=0,n=[];for(;e<t;){r=s();let t=r.slice();n.push(t),e+=r.length}return da(...n)};return(e,t)=>{o(),c(e);let n;for(;!(n=t(l()));)c();return o(),n}}var xa={bigint:e=>typeof e==`bigint`,function:e=>typeof e==`function`,boolean:e=>typeof e==`boolean`,string:e=>typeof e==`string`,stringOrUint8Array:e=>typeof e==`string`||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e==`function`&&Number.isSafeInteger(e.outputLen)};function Sa(e,t,n={}){let r=(t,n,r)=>{let i=xa[n];if(typeof i!=`function`)throw Error(`Invalid validator "${n}", expected function`);let a=e[t];if(!(r&&a===void 0)&&!i(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${n}`)};for(let[e,n]of Object.entries(t))r(e,n,!1);for(let[e,t]of Object.entries(n))r(e,t,!0);return e}var Ca=BigInt(0),wa=BigInt(1),Ta=BigInt(2),Ea=BigInt(3),Da=BigInt(4),Oa=BigInt(5),ka=BigInt(8);BigInt(9);var Aa=BigInt(16);function ja(e,t){let n=e%t;return n>=Ca?n:t+n}function Ma(e,t,n){if(n<=Ca||t<Ca)throw Error(`Expected power/modulo > 0`);if(n===wa)return Ca;let r=wa;for(;t>Ca;)t&wa&&(r=r*e%n),e=e*e%n,t>>=wa;return r}function Na(e,t,n){let r=e;for(;t-- >Ca;)r*=r,r%=n;return r}function Pa(e,t){if(e===Ca||t<=Ca)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ja(e,t),r=t,i=Ca,a=wa,o=wa,s=Ca;for(;n!==Ca;){let e=r/n,t=r%n,c=i-o*e,l=a-s*e;r=n,n=t,i=o,a=s,o=c,s=l}if(r!==wa)throw Error(`invert: does not exist`);return ja(i,t)}function Fa(e){let t=(e-wa)/Ta,n,r,i;for(n=e-wa,r=0;n%Ta===Ca;n/=Ta,r++);for(i=Ta;i<e&&Ma(i,t,e)!==e-wa;i++);if(r===1){let t=(e+wa)/Da;return function(e,n){let r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error(`Cannot find square root`);return r}}let a=(n+wa)/Ta;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw Error(`Cannot find square root`);let s=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,a),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);let n=e.pow(c,wa<<BigInt(s-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),s=t}return l}}function Ia(e){if(e%Da===Ea){let t=(e+wa)/Da;return function(e,n){let r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error(`Cannot find square root`);return r}}if(e%ka===Oa){let t=(e-Oa)/ka;return function(e,n){let r=e.mul(n,Ta),i=e.pow(r,t),a=e.mul(n,i),o=e.mul(e.mul(a,Ta),i),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),n))throw Error(`Cannot find square root`);return s}}return e%Aa,Fa(e)}var La=[`create`,`isValid`,`is0`,`neg`,`inv`,`sqrt`,`sqr`,`eql`,`add`,`sub`,`mul`,`pow`,`div`,`addN`,`subN`,`mulN`,`sqrN`];function Ra(e){return Sa(e,La.reduce((e,t)=>(e[t]=`function`,e),{ORDER:`bigint`,MASK:`bigint`,BYTES:`isSafeInteger`,BITS:`isSafeInteger`}))}function za(e,t,n){if(n<Ca)throw Error(`Expected power > 0`);if(n===Ca)return e.ONE;if(n===wa)return t;let r=e.ONE,i=t;for(;n>Ca;)n&wa&&(r=e.mul(r,i)),i=e.sqr(i),n>>=wa;return r}function Ba(e,t){let n=Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}function Va(e,t){let n=t===void 0?e.toString(2).length:t;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ha(e,t,n=!1,r={}){if(e<=Ca)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=Va(e,t);if(a>2048)throw Error(`Field lengths over 2048 bytes are not supported`);let o=Ia(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:_a(i),ZERO:Ca,ONE:wa,create:t=>ja(t,e),isValid:t=>{if(typeof t!=`bigint`)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return Ca<=t&&t<e},is0:e=>e===Ca,isOdd:e=>(e&wa)===wa,neg:t=>ja(-t,e),eql:(e,t)=>e===t,sqr:t=>ja(t*t,e),add:(t,n)=>ja(t+n,e),sub:(t,n)=>ja(t-n,e),mul:(t,n)=>ja(t*n,e),pow:(e,t)=>za(s,e,t),div:(t,n)=>ja(t*Pa(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Pa(t,e),sqrt:r.sqrt||(e=>o(s,e)),invertBatch:e=>Ba(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ca(e,a):sa(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?oa(e):aa(e)}});return Object.freeze(s)}function Ua(e){if(typeof e!=`bigint`)throw Error(`field order must be bigint`);let t=e.toString(2).length;return Math.ceil(t/8)}function Wa(e){let t=Ua(e);return t+Math.ceil(t/2)}function Ga(e,t,n=!1){let r=e.length,i=Ua(t),a=Wa(t);if(r<16||r<a||r>1024)throw Error(`expected ${a}-1024 bytes of input, got ${r}`);let o=ja(n?aa(e):oa(e),t-wa)+wa;return n?ca(o,i):sa(o,i)}var Ka=BigInt(0),qa=BigInt(1);function Ja(e,t){let n=(e,t)=>{let n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ka;)n&qa&&(r=r.add(i)),i=i.double(),n>>=qa;return r},precomputeWindow(e,t){let{windows:n,windowSize:i}=r(t),a=[],o=e,s=o;for(let e=0;e<n;e++){s=o,a.push(s);for(let e=1;e<i;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(t,i,a){let{windows:o,windowSize:s}=r(t),c=e.ZERO,l=e.BASE,u=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<o;e++){let t=e*s,r=Number(a&u);a>>=f,r>s&&(r-=d,a+=qa);let o=t,p=t+Math.abs(r)-1,m=e%2!=0,h=r<0;r===0?l=l.add(n(m,i[o])):c=c.add(n(h,i[p]))}return{p:c,f:l}},wNAFCached(e,t,n,r){let i=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,i),i!==1&&t.set(e,r(a))),this.wNAF(i,a,n)}}}function Ya(e){return Ra(e.Fp),Sa(e,{n:`bigint`,h:`bigint`,Gx:`field`,Gy:`field`},{nBitLength:`isSafeInteger`,nByteLength:`isSafeInteger`}),Object.freeze({...Va(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Xa(e){let t=Ya(e);Sa(t,{a:`field`,b:`field`},{allowedPrivateKeyLengths:`array`,wrapPrivateKey:`boolean`,isTorsionFree:`function`,clearCofactor:`function`,allowInfinityPoint:`boolean`,fromBytes:`function`,toBytes:`function`});let{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw Error(`Endomorphism can only be defined for Koblitz curves that have a=0`);if(typeof n!=`object`||typeof n.beta!=`bigint`||typeof n.splitScalar!=`function`)throw Error(`Expected endomorphism with beta: bigint and splitScalar: function`)}return Object.freeze({...t})}var{bytesToNumberBE:Za,hexToBytes:Qa}=Yi;const $a={Err:class extends Error{constructor(e=``){super(e)}},_parseInt(e){let{Err:t}=$a;if(e.length<2||e[0]!==2)throw new t(`Invalid signature integer tag`);let n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t(`Invalid signature integer: wrong length`);if(r[0]&128)throw new t(`Invalid signature integer: negative`);if(r[0]===0&&!(r[1]&128))throw new t(`Invalid signature integer: unnecessary leading zero`);return{d:Za(r),l:e.subarray(n+2)}},toSig(e){let{Err:t}=$a,n=typeof e==`string`?Qa(e):e;if(!(n instanceof Uint8Array))throw Error(`ui8a expected`);let r=n.length;if(r<2||n[0]!=48)throw new t(`Invalid signature tag`);if(n[1]!==r-2)throw new t(`Invalid signature: incorrect length`);let{d:i,l:a}=$a._parseInt(n.subarray(2)),{d:o,l:s}=$a._parseInt(a);if(s.length)throw new t(`Invalid signature: left bytes after parsing`);return{r:i,s:o}},hexFromSig(e){let t=e=>Number.parseInt(e[0],16)&8?`00`+e:e,n=e=>{let t=e.toString(16);return t.length&1?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),a=r.length/2,o=i.length/2,s=n(a),c=n(o);return`30${n(o+a+4)}02${c}${i}02${s}${r}`}};var eo=BigInt(0),to=BigInt(1);BigInt(2);var no=BigInt(3);BigInt(4);function ro(e){let t=Xa(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{let i=t.toAffine();return da(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){let{a:r,b:i}=t,a=n.sqr(e),o=n.mul(a,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw Error(`bad generator point: equation left != right`);function o(e){return typeof e==`bigint`&&eo<e&&e<t.n}function s(e){if(!o(e))throw Error(`Expected valid bigint: 0 < bigint < curve.n`)}function c(e){let{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:a}=t;if(n&&typeof e!=`bigint`){if(e instanceof Uint8Array&&(e=ta(e)),typeof e!=`string`||!n.includes(e.length))throw Error(`Invalid key`);e=e.padStart(r*2,`0`)}let o;try{o=typeof e==`bigint`?e:aa(ua(`private key`,e,r))}catch{throw Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=ja(o,a)),s(o),o}let l=new Map;function u(e){if(!(e instanceof d))throw Error(`ProjectivePoint expected`)}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,e==null||!n.isValid(e))throw Error(`x required`);if(t==null||!n.isValid(t))throw Error(`y required`);if(r==null||!n.isValid(r))throw Error(`z required`)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error(`invalid affine point`);if(e instanceof d)throw Error(`projective point not allowed`);let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(ua(`pointHex`,e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw Error(`bad point: ZERO`)}let{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw Error(`bad point: x or y not FE`);let i=n.sqr(r),o=a(e);if(!n.eql(i,o))throw Error(`bad point: equation left != right`);if(!this.isTorsionFree())throw Error(`bad point: not in prime-order subgroup`)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error(`Field doesn't support isOdd`)}equals(e){u(e);let{px:t,py:r,pz:i}=this,{px:a,py:o,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(a,i)),l=n.eql(n.mul(r,s),n.mul(o,i));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:r}=t,i=n.mul(r,no),{px:a,py:o,pz:s}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,f=n.mul(a,a),p=n.mul(o,o),m=n.mul(s,s),h=n.mul(a,o);return h=n.add(h,h),u=n.mul(a,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,m),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),l=n.mul(c,l),c=n.mul(h,c),u=n.mul(i,u),m=n.mul(e,m),h=n.sub(f,m),h=n.mul(e,h),h=n.add(h,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,m),f=n.mul(f,h),l=n.add(l,f),m=n.mul(o,s),m=n.add(m,m),f=n.mul(m,h),c=n.sub(c,f),u=n.mul(m,p),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){u(e);let{px:r,py:i,pz:a}=this,{px:o,py:s,pz:c}=e,l=n.ZERO,f=n.ZERO,p=n.ZERO,m=t.a,h=n.mul(t.b,no),g=n.mul(r,o),_=n.mul(i,s),v=n.mul(a,c),y=n.add(r,i),b=n.add(o,s);y=n.mul(y,b),b=n.add(g,_),y=n.sub(y,b),b=n.add(r,a);let x=n.add(o,c);return b=n.mul(b,x),x=n.add(g,v),b=n.sub(b,x),x=n.add(i,a),l=n.add(s,c),x=n.mul(x,l),l=n.add(_,v),x=n.sub(x,l),p=n.mul(m,b),l=n.mul(h,v),p=n.add(l,p),l=n.sub(_,p),p=n.add(_,p),f=n.mul(l,p),_=n.add(g,g),_=n.add(_,g),v=n.mul(m,v),b=n.mul(h,b),_=n.add(_,v),v=n.sub(g,v),v=n.mul(m,v),b=n.add(b,v),g=n.mul(_,b),f=n.add(f,g),g=n.mul(x,b),l=n.mul(y,l),l=n.sub(l,g),g=n.mul(y,_),p=n.mul(x,p),p=n.add(p,g),new d(l,f,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,l,e,e=>{let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)})}multiplyUnsafe(e){let r=d.ZERO;if(e===eo)return r;if(s(e),e===to)return this;let{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:a,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=r,f=r,m=this;for(;o>eo||l>eo;)o&to&&(u=u.add(m)),l&to&&(f=f.add(m)),m=m.double(),o>>=to,l>>=to;return a&&(u=u.negate()),c&&(f=f.negate()),f=new d(n.mul(f.px,i.beta),f.py,f.pz),u.add(f)}multiply(e){s(e);let r=e,i,a,{endo:o}=t;if(o){let{k1neg:e,k1:t,k2neg:s,k2:c}=o.splitScalar(r),{p:l,f:u}=this.wNAF(t),{p:f,f:m}=this.wNAF(c);l=p.constTimeNegate(e,l),f=p.constTimeNegate(s,f),f=new d(n.mul(f.px,o.beta),f.py,f.pz),i=l.add(f),a=u.add(m)}else{let{p:e,f:t}=this.wNAF(r);i=e,a=t}return d.normalizeZ([i,a])[0]}multiplyAndAddUnsafe(e,t,n){let r=d.BASE,i=(e,t)=>t===eo||t===to||!e.equals(r)?e.multiplyUnsafe(t):e.multiply(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:i}=this,a=this.is0();e??=a?n.ONE:n.inv(i);let o=n.mul(t,e),s=n.mul(r,e),c=n.mul(i,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error(`invZ was invalid`);return{x:o,y:s}}isTorsionFree(){let{h:e,isTorsionFree:n}=t;if(e===to)return!0;if(n)return n(d,this);throw Error(`isTorsionFree() has not been declared for the elliptic curve`)}clearCofactor(){let{h:e,clearCofactor:n}=t;return e===to?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return ta(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let f=t.nBitLength,p=Ja(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function io(e){let t=Ya(e);return Sa(t,{hash:`hash`,hmac:`function`,randomBytes:`function`},{bits2int:`function`,bits2int_modN:`function`,lowS:`boolean`}),Object.freeze({lowS:!0,...t})}function ao(e){let t=io(e),{Fp:n,n:r}=t,i=n.BYTES+1,a=2*n.BYTES+1;function o(e){return eo<e&&e<n.ORDER}function s(e){return ja(e,r)}function c(e){return Pa(e,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=ro({...t,toBytes(e,t,r){let i=t.toAffine(),a=n.toBytes(i.x),o=da;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],s=e.subarray(1);if(t===i&&(r===2||r===3)){let e=aa(s);if(!o(e))throw Error(`Point is not on curve`);let t=d(e),i=n.sqrt(t),a=(i&to)===to;return(r&1)==1!==a&&(i=n.neg(i)),{x:e,y:i}}else if(t===a&&r===4)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};else throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=e=>ta(sa(e,t.nByteLength));function m(e){return e>r>>to}function h(e){return m(e)?s(-e):e}let g=(e,t,n)=>aa(e.slice(t,n));class _{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){let n=t.nByteLength;return e=ua(`compactSignature`,e,n*2),new _(g(e,0,n),g(e,n,2*n))}static fromDER(e){let{r:t,s:n}=$a.toSig(ua(`DER`,e));return new _(t,n)}assertValidity(){if(!f(this.r))throw Error(`r must be 0 < r < CURVE.n`);if(!f(this.s))throw Error(`s must be 0 < s < CURVE.n`)}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){let{r,s:i,recovery:a}=this,o=C(ua(`msgHash`,e));if(a==null||![0,1,2,3].includes(a))throw Error(`recovery id invalid`);let u=a===2||a===3?r+t.n:r;if(u>=n.ORDER)throw Error(`recovery id 2 or 3 invalid`);let d=a&1?`03`:`02`,f=l.fromHex(d+p(u)),m=c(u),h=s(-o*m),g=s(i*m),_=l.BASE.multiplyAndAddUnsafe(f,h,g);if(!_)throw Error(`point at infinify`);return _.assertValidity(),_}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ia(this.toDERHex())}toDERHex(){return $a.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ia(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let v={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=Wa(t.n);return Ga(t.randomBytes(e),t.n)},precompute(e=8,t=l.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)}function b(e){let t=e instanceof Uint8Array,n=typeof e==`string`,r=(t||n)&&e.length;return t?r===i||r===a:n?r===2*i||r===2*a:e instanceof l}function x(e,t,n=!0){if(b(e))throw Error(`first arg must be private key`);if(!b(t))throw Error(`second arg must be public key`);return l.fromHex(t).multiply(u(e)).toRawBytes(n)}let S=t.bits2int||function(e){let n=aa(e),r=e.length*8-t.nBitLength;return r>0?n>>BigInt(r):n},C=t.bits2int_modN||function(e){return s(S(e))},w=_a(t.nBitLength);function T(e){if(typeof e!=`bigint`)throw Error(`bigint expected`);if(!(eo<=e&&e<w))throw Error(`bigint expected < 2^${t.nBitLength}`);return sa(e,t.nByteLength)}function E(e,r,i=D){if([`recovered`,`canonical`].some(e=>e in i))throw Error(`sign() legacy options not supported`);let{hash:a,randomBytes:o}=t,{lowS:d,prehash:p,extraEntropy:g}=i;d??=!0,e=ua(`msgHash`,e),p&&(e=ua(`prehashed msgHash`,a(e)));let v=C(e),y=u(r),b=[T(y),T(v)];if(g!=null){let e=g===!0?o(n.BYTES):g;b.push(ua(`extraEntropy`,e))}let x=da(...b),w=v;function E(e){let t=S(e);if(!f(t))return;let n=c(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===eo)return;let a=s(n*s(w+i*y));if(a===eo)return;let o=(r.x===i?0:2)|Number(r.y&to),u=a;return d&&m(a)&&(u=h(a),o^=1),new _(i,u,o)}return{seed:x,k2sig:E}}let D={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function k(e,n,r=D){let{seed:i,k2sig:a}=E(e,n,r),o=t;return ba(o.hash.outputLen,o.nByteLength,o.hmac)(i,a)}l.BASE._setWindowSize(8);function A(e,n,r,i=O){let a=e;if(n=ua(`msgHash`,n),r=ua(`publicKey`,r),`strict`in i)throw Error(`options.strict was renamed to lowS`);let{lowS:o,prehash:u}=i,d,f;try{if(typeof a==`string`||a instanceof Uint8Array)try{d=_.fromDER(a)}catch(e){if(!(e instanceof $a.Err))throw e;d=_.fromCompact(a)}else if(typeof a==`object`&&typeof a.r==`bigint`&&typeof a.s==`bigint`){let{r:e,s:t}=a;d=new _(e,t)}else throw Error(`PARSE`);f=l.fromHex(r)}catch(e){if(e.message===`PARSE`)throw Error(`signature must be Signature instance, Uint8Array or hex string`);return!1}if(o&&d.hasHighS())return!1;u&&(n=t.hash(n));let{r:p,s:m}=d,h=C(n),g=c(m),v=s(h*g),y=s(p*g),b=l.BASE.multiplyAndAddUnsafe(f,v,y)?.toAffine();return b?s(b.x)===p:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:x,sign:k,verify:A,ProjectivePoint:l,Signature:_,utils:v}}var oo=class extends Li{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Oi(e);let n=Fi(t);if(this.iHash=e.create(),typeof this.iHash.update!=`function`)throw Error(`Expected instance of class which extends utils.Hash`);this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ki(this),this.iHash.update(e),this}digestInto(e){ki(this),Di(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const so=(e,t,n)=>new oo(e,t).update(n).digest();so.create=(e,t)=>new oo(e,t);function co(e){return{hash:e,hmac:(t,...n)=>so(e,t,Ii(...n)),randomBytes:zi}}function lo(e,t){let n=t=>ao({...e,...co(t)});return Object.freeze({...n(t),create:n})}var U=BigInt(`0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f`),uo=BigInt(`0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141`),fo=BigInt(1),po=BigInt(2),mo=(e,t)=>(e+t/po)/t;function ho(e){let t=U,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Na(Na(Na(u,n,t)*u%t,n,t)*u%t,po,t)*l%t,f=Na(d,i,t)*d%t,p=Na(f,a,t)*f%t,m=Na(p,s,t)*p%t,h=Na(Na(Na(Na(Na(Na(m,c,t)*m%t,s,t)*p%t,n,t)*u%t,o,t)*f%t,r,t)*l%t,po,t);if(!go.eql(go.sqr(h),e))throw Error(`Cannot find square root`);return h}var go=Ha(U,void 0,void 0,{sqrt:ho});const _o=lo({a:BigInt(0),b:BigInt(7),Fp:go,n:uo,Gx:BigInt(`55066263022277343669578718895168534326250603453777594175500187360389116729240`),Gy:BigInt(`32670510020758816978083085130507043184471273380659243275938904335757337482424`),h:BigInt(1),lowS:!0,endo:{beta:BigInt(`0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee`),splitScalar:e=>{let t=uo,n=BigInt(`0x3086d221a7d46bcde86c90e49284eb15`),r=-fo*BigInt(`0xe4437ed6010e88286f547fa90abfe4c3`),i=BigInt(`0x114ca50f7a8e2f3f657c1108d9d44cfd8`),a=n,o=BigInt(`0x100000000000000000000000000000000`),s=mo(a*e,t),c=mo(-r*e,t),l=ja(e-s*n-c*i,t),u=ja(-s*r-c*a,t),d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw Error(`splitScalar: Endomorphism failed, k=`+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},Ji);var vo=BigInt(0),yo=e=>typeof e==`bigint`&&vo<e&&e<U,bo=e=>typeof e==`bigint`&&vo<e&&e<uo,xo={};function So(e,...t){let n=xo[e];if(n===void 0){let t=Ji(Uint8Array.from(e,e=>e.charCodeAt(0)));n=da(t,t),xo[e]=n}return Ji(da(n,...t))}var Co=e=>e.toRawBytes(!0).slice(1),wo=e=>sa(e,32),To=e=>ja(e,U),Eo=e=>ja(e,uo),Do=_o.ProjectivePoint,Oo=(e,t,n)=>Do.BASE.multiplyAndAddUnsafe(e,t,n);function ko(e){let t=_o.utils.normPrivateKeyToScalar(e),n=Do.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Eo(-t),bytes:Co(n)}}function Ao(e){if(!yo(e))throw Error(`bad x: need 0 < x < p`);let t=ho(To(To(e*e)*e+BigInt(7)));t%po!==vo&&(t=To(-t));let n=new Do(e,t,fo);return n.assertValidity(),n}function jo(...e){return Eo(aa(So(`BIP0340/challenge`,...e)))}function Mo(e){return ko(e).bytes}function No(e,t,n=zi(32)){let r=ua(`message`,e),{bytes:i,scalar:a}=ko(t),o=Eo(aa(So(`BIP0340/nonce`,wo(a^aa(So(`BIP0340/aux`,ua(`auxRand`,n,32)))),i,r)));if(o===vo)throw Error(`sign failed: k is zero`);let{bytes:s,scalar:c}=ko(o),l=jo(s,i,r),u=new Uint8Array(64);if(u.set(s,0),u.set(wo(Eo(c+l*a)),32),!Po(u,r,i))throw Error(`sign: Invalid signature produced`);return u}function Po(e,t,n){let r=ua(`signature`,e,64),i=ua(`message`,t),a=ua(`publicKey`,n,32);try{let e=Ao(aa(a)),t=aa(r.subarray(0,32));if(!yo(t))return!1;let n=aa(r.subarray(32,64));if(!bo(n))return!1;let o=Oo(e,n,Eo(-jo(wo(t),Co(e),i)));return!(!o||!o.hasEvenY()||o.toAffine().x!==t)}catch{return!1}}const Fo=(()=>({getPublicKey:Mo,sign:No,verify:Po,utils:{randomPrivateKey:_o.utils.randomPrivateKey,lift_x:Ao,pointToBytes:Co,numberToBytesBE:sa,bytesToNumberBE:aa,taggedHash:So,mod:ja}}))(),Io=typeof globalThis==`object`&&`crypto`in globalThis?globalThis.crypto:void 0;var Lo=e=>e instanceof Uint8Array;const Ro=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zo=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);var Bo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function Vo(e){if(!Lo(e))throw Error(`Uint8Array expected`);let t=``;for(let n=0;n<e.length;n++)t+=Bo[e[n]];return t}function Ho(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){let r=t*2,i=e.slice(r,r+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw Error(`Invalid byte sequence`);n[t]=a}return n}function Uo(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Wo(e){if(typeof e==`string`&&(e=Uo(e)),!Lo(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function Go(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!Lo(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}var Ko=class{clone(){return this._cloneInto()}};function qo(e){let t=t=>e().update(Wo(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Jo(e=32){if(Io&&typeof Io.getRandomValues==`function`)return Io.getRandomValues(new Uint8Array(e));throw Error(`crypto.getRandomValues must be defined`)}function Yo(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function Xo(e){if(typeof e!=`boolean`)throw Error(`Expected boolean, not ${e}`)}function Zo(e,...t){if(!(e instanceof Uint8Array))throw Error(`Expected Uint8Array`);if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Qo(e){if(typeof e!=`function`||typeof e.create!=`function`)throw Error(`Hash should be wrapped by utils.wrapConstructor`);Yo(e.outputLen),Yo(e.blockLen)}function $o(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function es(e,t){Zo(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}var ts={number:Yo,bool:Xo,bytes:Zo,hash:Qo,exists:$o,output:es};function ns(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var rs=class extends Ko{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ro(this.buffer)}update(e){ts.exists(this);let{view:t,buffer:n,blockLen:r}=this;e=Wo(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o===r){let t=Ro(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ts.exists(this),ts.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;ns(n,r-8,BigInt(this.length*8),i),this.process(n,0);let o=Ro(e),s=this.outputLen;if(s%4)throw Error(`_sha2: outputLen should be aligned to 32bit`);let c=s/4,l=this.get();if(c>l.length)throw Error(`_sha2: outputLen bigger than state`);for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||=new this.constructor,e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}},is=(e,t,n)=>e&t^~e&n,as=(e,t,n)=>e&t^e&n^t&n,os=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ss=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cs=new Uint32Array(64),ls=class extends rs{constructor(){super(64,32,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:s}=this;return[e,t,n,r,i,a,o,s]}set(e,t,n,r,i,a,o,s){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=s|0}process(e,t){for(let n=0;n<16;n++,t+=4)cs[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=cs[e-15],n=cs[e-2],r=zo(t,7)^zo(t,18)^t>>>3;cs[e]=(zo(n,17)^zo(n,19)^n>>>10)+cs[e-7]+r+cs[e-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){let t=zo(o,6)^zo(o,11)^zo(o,25),u=l+t+is(o,s,c)+os[e]+cs[e]|0,d=(zo(n,2)^zo(n,13)^zo(n,22))+as(n,r,i)|0;l=c,c=s,s=o,o=a+u|0,a=i,i=r,r=n,n=u+d|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,o,s,c,l)}roundClean(){cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},us=class extends ls{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const ds=qo(()=>new ls);qo(()=>new us);function fs(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)}function ps(...e){let t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce((e,n)=>e?t(e,n.encode):n.encode,void 0),decode:e.reduce((e,n)=>e?t(e,n.decode):n.decode,void 0)}}function ms(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`number`)throw Error(`alphabet.encode input should be an array of numbers`);return t.map(t=>{if(fs(t),t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`string`)throw Error(`alphabet.decode input should be array of strings`);return t.map(t=>{if(typeof t!=`string`)throw Error(`alphabet.decode: not string element=${t}`);let n=e.indexOf(t);if(n===-1)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})}}}function hs(e=``){if(typeof e!=`string`)throw Error(`join separator should be string`);return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`string`)throw Error(`join.encode input should be array of strings`);for(let e of t)if(typeof e!=`string`)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(typeof t!=`string`)throw Error(`join.decode input should be string`);return t.split(e)}}}function gs(e,t=`=`){if(fs(e),typeof t!=`string`)throw Error(`padding chr should be string`);return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!=`string`)throw Error(`padding.encode input should be array of strings`);for(let e of n)if(typeof e!=`string`)throw Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!=`string`)throw Error(`padding.encode input should be array of strings`);for(let e of n)if(typeof e!=`string`)throw Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw Error(`Invalid padding: string should have whole number of bytes`);for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw Error(`Invalid padding: string has too much padding`);return n.slice(0,r)}}}function _s(e){if(typeof e!=`function`)throw Error(`normalize fn should be function`);return{encode:e=>e,decode:t=>e(t)}}function vs(e,t,n){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw Error(`convertRadix: data should be array`);if(!e.length)return[];let r=0,i=[],a=Array.from(e);for(a.forEach(e=>{if(fs(e),e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,o=!0;for(let i=r;i<a.length;i++){let s=a[i],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!==t*e||(e=c%n,a[i]=Math.floor(c/n),!Number.isSafeInteger(a[i])||a[i]*n+e!==c))throw Error(`convertRadix: carry overflow`);if(o)a[i]?o=!1:r=i;else continue}if(i.push(e),o)break}for(let t=0;t<e.length-1&&e[t]===0;t++)i.push(0);return i.reverse()}var ys=(e,t)=>t?ys(t,e%t):e,bs=(e,t)=>e+(t-ys(e,t));function xs(e,t,n,r){if(!Array.isArray(e))throw Error(`convertRadix2: data should be array`);if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw Error(`convertRadix2: wrong to=${n}`);if(bs(t,n)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${bs(t,n)}`);let i=0,a=0,o=2**n-1,s=[];for(let r of e){if(fs(r),r>=2**t)throw Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,a+t>32)throw Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)s.push((i>>a-n&o)>>>0);i&=2**a-1}if(i=i<<n-a&o,!r&&a>=t)throw Error(`Excess padding`);if(!r&&i)throw Error(`Non-zero padding: ${i}`);return r&&a>0&&s.push(i>>>0),s}function Ss(e){return fs(e),{encode:t=>{if(!(t instanceof Uint8Array))throw Error(`radix.encode input should be Uint8Array`);return vs(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`number`)throw Error(`radix.decode input should be array of strings`);return Uint8Array.from(vs(t,e,2**8))}}}function Cs(e,t=!1){if(fs(e),e<=0||e>32)throw Error(`radix2: bits should be in (0..32]`);if(bs(8,e)>32||bs(e,8)>32)throw Error(`radix2: carry overflow`);return{encode:n=>{if(!(n instanceof Uint8Array))throw Error(`radix2.encode input should be Uint8Array`);return xs(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!=`number`)throw Error(`radix2.decode input should be array of strings`);return Uint8Array.from(xs(n,e,8,t))}}}function ws(e){if(typeof e!=`function`)throw Error(`unsafeWrapper fn should be function`);return function(...t){try{return e.apply(null,t)}catch{}}}const Ts=ps(Cs(4),ms(`0123456789ABCDEF`),hs(``)),Es=ps(Cs(5),ms(`ABCDEFGHIJKLMNOPQRSTUVWXYZ234567`),gs(5),hs(``));ps(Cs(5),ms(`0123456789ABCDEFGHIJKLMNOPQRSTUV`),gs(5),hs(``)),ps(Cs(5),ms(`0123456789ABCDEFGHJKMNPQRSTVWXYZ`),hs(``),_s(e=>e.toUpperCase().replace(/O/g,`0`).replace(/[IL]/g,`1`)));const Ds=ps(Cs(6),ms(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`),gs(6),hs(``)),Os=ps(Cs(6),ms(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`),gs(6),hs(``));var ks=e=>ps(Ss(58),ms(e),hs(``));const As=ks(`123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz`);ks(`123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ`),ks(`rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz`);var js=[0,2,3,5,6,7,9,10,11];const Ms={encode(e){let t=``;for(let n=0;n<e.length;n+=8){let r=e.subarray(n,n+8);t+=As.encode(r).padStart(js[r.length],`1`)}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){let r=e.slice(n,n+11),i=js.indexOf(r.length),a=As.decode(r);for(let e=0;e<a.length-i;e++)if(a[e]!==0)throw Error(`base58xmr: wrong padding`);t=t.concat(Array.from(a.slice(a.length-i)))}return Uint8Array.from(t)}};var Ns=ps(ms(`qpzry9x8gf2tvdw0s3jn54khce6mua7l`),hs(``)),Ps=[996825010,642813549,513874426,1027748829,705979059];function Fs(e){let t=e>>25,n=(e&33554431)<<5;for(let e=0;e<Ps.length;e++)(t>>e&1)==1&&(n^=Ps[e]);return n}function Is(e,t,n=1){let r=e.length,i=1;for(let t=0;t<r;t++){let n=e.charCodeAt(t);if(n<33||n>126)throw Error(`Invalid prefix (${e})`);i=Fs(i)^n>>5}i=Fs(i);for(let t=0;t<r;t++)i=Fs(i)^e.charCodeAt(t)&31;for(let e of t)i=Fs(i)^e;for(let e=0;e<6;e++)i=Fs(i);return i^=n,Ns.encode(xs([i%2**30],30,5,!1))}function Ls(e){let t=e===`bech32`?1:734539939,n=Cs(5),r=n.decode,i=n.encode,a=ws(r);function o(e,n,r=90){if(typeof e!=`string`)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(n)||n.length&&typeof n[0]!=`number`)throw Error(`bech32.encode words should be array of numbers, not ${typeof n}`);let i=e.length+7+n.length;if(r!==!1&&i>r)throw TypeError(`Length ${i} exceeds limit ${r}`);return e=e.toLowerCase(),`${e}1${Ns.encode(n)}${Is(e,n,t)}`}function s(e,n=90){if(typeof e!=`string`)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||n!==!1&&e.length>n)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);let r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw Error(`String must be lowercase or uppercase`);e=r;let i=e.lastIndexOf(`1`);if(i===0||i===-1)throw Error(`Letter "1" must be present between prefix and data only`);let a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)throw Error(`Data must be at least 6 characters long`);let s=Ns.decode(o).slice(0,-6),c=Is(a,s,t);if(!o.endsWith(c))throw Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:a,words:s}}let c=ws(s);function l(e){let{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}}return{encode:o,decode:s,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:a,toWords:i}}const Rs=Ls(`bech32`);Ls(`bech32m`);var zs={utf8:{encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex:ps(Cs(4),ms(`0123456789abcdef`),hs(``),_s(e=>{if(typeof e!=`string`||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),base16:Ts,base32:Es,base64:Ds,base64url:Os,base58:As,base58xmr:Ms};`${Object.keys(zs).join(`, `)}`;function Bs(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function Vs(e){if(typeof e!=`boolean`)throw Error(`boolean expected, not ${e}`)}function Hs(e){return e instanceof Uint8Array||typeof e==`object`&&!!e&&e.constructor.name===`Uint8Array`}function Us(e,...t){if(!Hs(e))throw Error(`Uint8Array expected`);if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Ws(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function Gs(e,t){Us(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}const Ks=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),W=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),qs=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);var Js=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function Ys(e){Us(e);let t=``;for(let n=0;n<e.length;n++)t+=Js[e[n]];return t}var Xs={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Zs(e){if(e>=Xs._0&&e<=Xs._9)return e-Xs._0;if(e>=Xs._A&&e<=Xs._F)return e-(Xs._A-10);if(e>=Xs._a&&e<=Xs._f)return e-(Xs._a-10)}function Qs(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length,n=t/2;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){let n=Zs(e.charCodeAt(i)),a=Zs(e.charCodeAt(i+1));if(n===void 0||a===void 0){let t=e[i]+e[i+1];throw Error(`hex string expected, got non-hex character "`+t+`" at index `+i)}r[t]=n*16+a}return r}function $s(e){if(typeof e!=`string`)throw Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ec(e){if(typeof e==`string`)e=$s(e);else if(Hs(e))e=e.slice();else throw Error(`Uint8Array expected, got ${typeof e}`);return e}function tc(e,t){if(typeof t!=`object`||!t)throw Error(`options must be defined`);return Object.assign(e,t)}function nc(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const rc=(e,t)=>(Object.assign(t,e),t);function ic(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var ac=16,oc=new Uint8Array(16),sc=W(oc),cc=225,lc=(e,t,n,r)=>{let i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^cc<<24&-(i&1)}},uc=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function dc(e){e.reverse();let t=e[15]&1,n=0;for(let t=0;t<e.length;t++){let r=e[t];e[t]=r>>>1|n,n=(r&1)<<7}return e[0]^=-t&225,e}var fc=e=>e>64*1024?8:e>1024?4:2,pc=class{constructor(e,t){this.blockLen=ac,this.outputLen=ac,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=ec(e),Us(e,16);let n=qs(e),r=n.getUint32(0,!1),i=n.getUint32(4,!1),a=n.getUint32(8,!1),o=n.getUint32(12,!1),s=[];for(let e=0;e<128;e++)s.push({s0:uc(r),s1:uc(i),s2:uc(a),s3:uc(o)}),{s0:r,s1:i,s2:a,s3:o}=lc(r,i,a,o);let c=fc(t||1024);if(![1,2,4,8].includes(c))throw Error(`ghash: wrong window size=${c}, should be 2, 4 or 8`);this.W=c;let l=128/c,u=this.windowSize=2**c,d=[];for(let e=0;e<l;e++)for(let t=0;t<u;t++){let n=0,r=0,i=0,a=0;for(let o=0;o<c;o++){if(!(t>>>c-o-1&1))continue;let{s0:l,s1:u,s2:d,s3:f}=s[c*e+o];n^=l,r^=u,i^=d,a^=f}d.push({s0:n,s1:r,s2:i,s3:a})}this.t=d}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;let{W:i,t:a,windowSize:o}=this,s=0,c=0,l=0,u=0,d=(1<<i)-1,f=0;for(let p of[e,t,n,r])for(let e=0;e<4;e++){let t=p>>>8*e&255;for(let e=8/i-1;e>=0;e--){let n=t>>>i*e&d,{s0:r,s1:p,s2:m,s3:h}=a[f*o+n];s^=r,c^=p,l^=m,u^=h,f+=1}}this.s0=s,this.s1=c,this.s2=l,this.s3=u}update(e){e=ec(e),Ws(this);let t=W(e),n=Math.floor(e.length/ac),r=e.length%ac;for(let e=0;e<n;e++)this._updateBlock(t[e*4+0],t[e*4+1],t[e*4+2],t[e*4+3]);return r&&(oc.set(e.subarray(n*ac)),this._updateBlock(sc[0],sc[1],sc[2],sc[3]),sc.fill(0)),this}destroy(){let{t:e}=this;for(let t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){Ws(this),Gs(e,this),this.finished=!0;let{s0:t,s1:n,s2:r,s3:i}=this,a=W(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e}digest(){let e=new Uint8Array(ac);return this.digestInto(e),this.destroy(),e}},mc=class extends pc{constructor(e,t){e=ec(e);let n=dc(e.slice());super(n,t),n.fill(0)}update(e){e=ec(e),Ws(this);let t=W(e),n=e.length%ac,r=Math.floor(e.length/ac);for(let e=0;e<r;e++)this._updateBlock(uc(t[e*4+3]),uc(t[e*4+2]),uc(t[e*4+1]),uc(t[e*4+0]));return n&&(oc.set(e.subarray(r*ac)),this._updateBlock(uc(sc[3]),uc(sc[2]),uc(sc[1]),uc(sc[0])),sc.fill(0)),this}digestInto(e){Ws(this),Gs(e,this),this.finished=!0;let{s0:t,s1:n,s2:r,s3:i}=this,a=W(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e.reverse()}};function hc(e){let t=(t,n)=>e(n,t.length).update(ec(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}const gc=hc((e,t)=>new pc(e,t)),_c=hc((e,t)=>new mc(e,t));var vc=16,yc=4,bc=new Uint8Array(vc),xc=283;function Sc(e){return e<<1^xc&-(e>>7)}function Cc(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Sc(e);return n}var wc=(()=>{let e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=Sc(n))e[t]=n;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),Tc=wc.map((e,t)=>wc.indexOf(t)),Ec=e=>e<<24|e>>>8,Dc=e=>e<<8|e>>>24;function Oc(e,t){if(e.length!==256)throw Error(`Wrong sbox length`);let n=new Uint32Array(256).map((n,r)=>t(e[r])),r=n.map(Dc),i=r.map(Dc),a=i.map(Dc),o=new Uint32Array(256*256),s=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let t=0;t<256;t++)for(let l=0;l<256;l++){let u=t*256+l;o[u]=n[t]^r[l],s[u]=i[t]^a[l],c[u]=e[t]<<8|e[l]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:a,T01:o,T23:s}}var kc=Oc(wc,e=>Cc(e,3)<<24|e<<16|e<<8|Cc(e,2)),Ac=Oc(Tc,e=>Cc(e,11)<<24|Cc(e,13)<<16|Cc(e,9)<<8|Cc(e,14)),jc=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Sc(n))e[t]=n;return e})();function Mc(e){Us(e);let t=e.length;if(![16,24,32].includes(t))throw Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);let{sbox2:n}=kc,r=W(e),i=r.length,a=e=>Fc(n,e,e,e,e),o=new Uint32Array(t+28);o.set(r);for(let e=i;e<o.length;e++){let t=o[e-1];e%i===0?t=a(Ec(t))^jc[e/i-1]:i>6&&e%i===4&&(t=a(t)),o[e]=o[e-i]^t}return o}function Nc(e){let t=Mc(e),n=t.slice(),r=t.length,{sbox2:i}=kc,{T0:a,T1:o,T2:s,T3:c}=Ac;for(let e=0;e<r;e+=4)for(let i=0;i<4;i++)n[e+i]=t[r-e-4+i];t.fill(0);for(let e=4;e<r-4;e++){let t=n[e],r=Fc(i,t,t,t,t);n[e]=a[r&255]^o[r>>>8&255]^s[r>>>16&255]^c[r>>>24]}return n}function Pc(e,t,n,r,i,a){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|a>>>24&255]}function Fc(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function Ic(e,t,n,r,i){let{sbox2:a,T01:o,T23:s}=kc,c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];let l=e.length/4-2;for(let a=0;a<l;a++){let a=e[c++]^Pc(o,s,t,n,r,i),l=e[c++]^Pc(o,s,n,r,i,t),u=e[c++]^Pc(o,s,r,i,t,n),d=e[c++]^Pc(o,s,i,t,n,r);t=a,n=l,r=u,i=d}return{s0:e[c++]^Fc(a,t,n,r,i),s1:e[c++]^Fc(a,n,r,i,t),s2:e[c++]^Fc(a,r,i,t,n),s3:e[c++]^Fc(a,i,t,n,r)}}function Lc(e,t,n,r,i){let{sbox2:a,T01:o,T23:s}=Ac,c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];let l=e.length/4-2;for(let a=0;a<l;a++){let a=e[c++]^Pc(o,s,t,i,r,n),l=e[c++]^Pc(o,s,n,t,i,r),u=e[c++]^Pc(o,s,r,n,t,i),d=e[c++]^Pc(o,s,i,r,n,t);t=a,n=l,r=u,i=d}return{s0:e[c++]^Fc(a,t,i,r,n),s1:e[c++]^Fc(a,n,t,i,r),s2:e[c++]^Fc(a,r,n,t,i),s3:e[c++]^Fc(a,i,r,n,t)}}function Rc(e,t){if(!t)return new Uint8Array(e);if(Us(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function zc(e,t,n,r){Us(t,vc),Us(n);let i=n.length;r=Rc(i,r);let a=t,o=W(a),{s0:s,s1:c,s2:l,s3:u}=Ic(e,o[0],o[1],o[2],o[3]),d=W(n),f=W(r);for(let t=0;t+4<=d.length;t+=4){f[t+0]=d[t+0]^s,f[t+1]=d[t+1]^c,f[t+2]=d[t+2]^l,f[t+3]=d[t+3]^u;let n=1;for(let e=a.length-1;e>=0;e--)n=n+(a[e]&255)|0,a[e]=n&255,n>>>=8;({s0:s,s1:c,s2:l,s3:u}=Ic(e,o[0],o[1],o[2],o[3]))}let p=vc*Math.floor(d.length/yc);if(p<i){let e=Ks(new Uint32Array([s,c,l,u]));for(let t=p,a=0;t<i;t++,a++)r[t]=n[t]^e[a]}return r}function Bc(e,t,n,r,i){Us(n,vc),Us(r),i=Rc(r.length,i);let a=n,o=W(a),s=qs(a),c=W(r),l=W(i),u=t?0:12,d=r.length,f=s.getUint32(u,t),{s0:p,s1:m,s2:h,s3:g}=Ic(e,o[0],o[1],o[2],o[3]);for(let n=0;n+4<=c.length;n+=4)l[n+0]=c[n+0]^p,l[n+1]=c[n+1]^m,l[n+2]=c[n+2]^h,l[n+3]=c[n+3]^g,f=f+1>>>0,s.setUint32(u,f,t),{s0:p,s1:m,s2:h,s3:g}=Ic(e,o[0],o[1],o[2],o[3]);let _=vc*Math.floor(c.length/yc);if(_<d){let e=Ks(new Uint32Array([p,m,h,g]));for(let t=_,n=0;t<d;t++,n++)i[t]=r[t]^e[n]}return i}rc({blockSize:16,nonceLength:16},function(e,t){Us(e),Us(t,vc);function n(n,r){let i=Mc(e),a=t.slice(),o=zc(i,a,n,r);return i.fill(0),a.fill(0),o}return{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}});function Vc(e){if(Us(e),e.length%vc!==0)throw Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${vc}`)}function Hc(e,t,n){let r=e.length,i=r%vc;if(!t&&i!==0)throw Error(`aec/(cbc-ecb): unpadded plaintext with disabled padding`);let a=W(e);if(t){let e=vc-i;e||=vc,r+=e}let o=Rc(r,n);return{b:a,o:W(o),out:o}}function Uc(e,t){if(!t)return e;let n=e.length;if(!n)throw Error(`aes/pcks5: empty ciphertext not allowed`);let r=e[n-1];if(r<=0||r>16)throw Error(`aes/pcks5: wrong padding byte: ${r}`);let i=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw Error(`aes/pcks5: wrong padding`);return i}function Wc(e){let t=new Uint8Array(16),n=W(t);t.set(e);let r=vc-e.length;for(let e=vc-r;e<vc;e++)t[e]=r;return n}rc({blockSize:16},function(e,t={}){Us(e);let n=!t.disablePadding;return{encrypt:(t,r)=>{Us(t);let{b:i,o:a,out:o}=Hc(t,n,r),s=Mc(e),c=0;for(;c+4<=i.length;){let{s0:e,s1:t,s2:n,s3:r}=Ic(s,i[c+0],i[c+1],i[c+2],i[c+3]);a[c++]=e,a[c++]=t,a[c++]=n,a[c++]=r}if(n){let e=Wc(t.subarray(c*4)),{s0:n,s1:r,s2:i,s3:o}=Ic(s,e[0],e[1],e[2],e[3]);a[c++]=n,a[c++]=r,a[c++]=i,a[c++]=o}return s.fill(0),o},decrypt:(t,r)=>{Vc(t);let i=Nc(e),a=Rc(t.length,r),o=W(t),s=W(a);for(let e=0;e+4<=o.length;){let{s0:t,s1:n,s2:r,s3:a}=Lc(i,o[e+0],o[e+1],o[e+2],o[e+3]);s[e++]=t,s[e++]=n,s[e++]=r,s[e++]=a}return i.fill(0),Uc(a,n)}}});const Gc=rc({blockSize:16,nonceLength:16},function(e,t,n={}){Us(e),Us(t,16);let r=!n.disablePadding;return{encrypt:(n,i)=>{let a=Mc(e),{b:o,o:s,out:c}=Hc(n,r,i),l=W(t),u=l[0],d=l[1],f=l[2],p=l[3],m=0;for(;m+4<=o.length;)u^=o[m+0],d^=o[m+1],f^=o[m+2],p^=o[m+3],{s0:u,s1:d,s2:f,s3:p}=Ic(a,u,d,f,p),s[m++]=u,s[m++]=d,s[m++]=f,s[m++]=p;if(r){let e=Wc(n.subarray(m*4));u^=e[0],d^=e[1],f^=e[2],p^=e[3],{s0:u,s1:d,s2:f,s3:p}=Ic(a,u,d,f,p),s[m++]=u,s[m++]=d,s[m++]=f,s[m++]=p}return a.fill(0),c},decrypt:(n,i)=>{Vc(n);let a=Nc(e),o=W(t),s=Rc(n.length,i),c=W(n),l=W(s),u=o[0],d=o[1],f=o[2],p=o[3];for(let e=0;e+4<=c.length;){let t=u,n=d,r=f,i=p;u=c[e+0],d=c[e+1],f=c[e+2],p=c[e+3];let{s0:o,s1:s,s2:m,s3:h}=Lc(a,u,d,f,p);l[e++]=o^t,l[e++]=s^n,l[e++]=m^r,l[e++]=h^i}return a.fill(0),Uc(s,r)}}});rc({blockSize:16,nonceLength:16},function(e,t){Us(e),Us(t,16);function n(n,r,i){let a=Mc(e),o=n.length;i=Rc(o,i);let s=W(n),c=W(i),l=r?c:s,u=W(t),d=u[0],f=u[1],p=u[2],m=u[3];for(let e=0;e+4<=s.length;){let{s0:t,s1:n,s2:r,s3:i}=Ic(a,d,f,p,m);c[e+0]=s[e+0]^t,c[e+1]=s[e+1]^n,c[e+2]=s[e+2]^r,c[e+3]=s[e+3]^i,d=l[e++],f=l[e++],p=l[e++],m=l[e++]}let h=vc*Math.floor(s.length/yc);if(h<o){({s0:d,s1:f,s2:p,s3:m}=Ic(a,d,f,p,m));let e=Ks(new Uint32Array([d,f,p,m]));for(let t=h,r=0;t<o;t++,r++)i[t]=n[t]^e[r];e.fill(0)}return a.fill(0),i}return{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}});function Kc(e,t,n,r,i){let a=e.create(n,r.length+(i?.length||0));i&&a.update(i),a.update(r);let o=new Uint8Array(16),s=qs(o);return i&&ic(s,0,BigInt(i.length*8),t),ic(s,8,BigInt(r.length*8),t),a.update(o),a.digest()}rc({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){if(Us(t),t.length===0)throw Error(`aes/gcm: empty nonce`);function r(e,t,r){let i=Kc(gc,!1,e,r,n);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function i(){let n=Mc(e),r=bc.slice(),i=bc.slice();if(Bc(n,!1,i,i,r),t.length===12)i.set(t);else{let e=bc.slice();ic(qs(e),8,BigInt(t.length*8),!1),gc.create(r).update(t).update(e).digestInto(i)}return{xk:n,authKey:r,counter:i,tagMask:Bc(n,!1,i,bc)}}return{encrypt:e=>{Us(e);let{xk:t,authKey:n,counter:a,tagMask:o}=i(),s=new Uint8Array(e.length+16);Bc(t,!1,a,e,s);let c=r(n,o,s.subarray(0,s.length-16));return s.set(c,e.length),t.fill(0),s},decrypt:e=>{if(Us(e),e.length<16)throw Error(`aes/gcm: ciphertext less than tagLen (16)`);let{xk:t,authKey:n,counter:a,tagMask:o}=i(),s=e.subarray(0,-16),c=e.subarray(-16);if(!nc(r(n,o,s),c))throw Error(`aes/gcm: invalid ghash tag`);let l=Bc(t,!1,a,s);return n.fill(0),o.fill(0),t.fill(0),l}}});var qc=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};rc({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){let r=qc(`AAD`,0,2**36),i=qc(`plaintext`,0,2**36),a=qc(`nonce`,12,12),o=qc(`ciphertext`,16,2**36+16);Us(t),a(t.length),n&&(Us(n),r(n.length));function s(){let n=e.length;if(n!==16&&n!==24&&n!==32)throw Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);let r=Mc(e),i=new Uint8Array(n),a=new Uint8Array(16),o=W(t),s=0,c=o[0],l=o[1],u=o[2],d=0;for(let e of[a,i].map(W)){let t=W(e);for(let e=0;e<t.length;e+=2){let{s0:n,s1:i}=Ic(r,s,c,l,u);t[e+0]=n,t[e+1]=i,s=++d}}return r.fill(0),{authKey:a,encKey:Mc(i)}}function c(e,r,i){let a=Kc(_c,!0,r,i,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;let o=W(a),s=o[0],c=o[1],l=o[2],u=o[3];return{s0:s,s1:c,s2:l,s3:u}=Ic(e,s,c,l,u),o[0]=s,o[1]=c,o[2]=l,o[3]=u,a}function l(e,t,n){let r=t.slice();return r[15]|=128,Bc(e,!0,r,n)}return{encrypt:e=>{Us(e),i(e.length);let{encKey:t,authKey:n}=s(),r=c(t,n,e),a=new Uint8Array(e.length+16);return a.set(r,e.length),a.set(l(t,r,e)),t.fill(0),n.fill(0),a},decrypt:e=>{Us(e),o(e.length);let t=e.subarray(-16),{encKey:n,authKey:r}=s(),i=l(n,t,e.subarray(0,-16)),a=c(n,r,i);if(n.fill(0),r.fill(0),!nc(t,a))throw Error(`invalid polyval tag`);return i}}});var Jc=(e,t)=>e[t++]&255|(e[t++]&255)<<8,Yc=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=ec(e),Us(e,32);let t=Jc(e,0),n=Jc(e,2),r=Jc(e,4),i=Jc(e,6),a=Jc(e,8),o=Jc(e,10),s=Jc(e,12),c=Jc(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|n<<3)&8191,this.r[2]=(n>>>10|r<<6)&7939,this.r[3]=(r>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|s<<5)&8065,this.r[8]=(s>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Jc(e,16+2*t)}process(e,t,n=!1){let r=n?0:2048,{h:i,r:a}=this,o=a[0],s=a[1],c=a[2],l=a[3],u=a[4],d=a[5],f=a[6],p=a[7],m=a[8],h=a[9],g=Jc(e,t+0),_=Jc(e,t+2),v=Jc(e,t+4),y=Jc(e,t+6),b=Jc(e,t+8),x=Jc(e,t+10),S=Jc(e,t+12),C=Jc(e,t+14),w=i[0]+(g&8191),T=i[1]+((g>>>13|_<<3)&8191),E=i[2]+((_>>>10|v<<6)&8191),D=i[3]+((v>>>7|y<<9)&8191),O=i[4]+((y>>>4|b<<12)&8191),k=i[5]+(b>>>1&8191),A=i[6]+((b>>>14|x<<2)&8191),j=i[7]+((x>>>11|S<<5)&8191),M=i[8]+((S>>>8|C<<8)&8191),N=i[9]+(C>>>5|r),P=0,F=P+w*o+T*(5*h)+E*(5*m)+D*(5*p)+O*(5*f);P=F>>>13,F&=8191,F+=k*(5*d)+A*(5*u)+j*(5*l)+M*(5*c)+N*(5*s),P+=F>>>13,F&=8191;let I=P+w*s+T*o+E*(5*h)+D*(5*m)+O*(5*p);P=I>>>13,I&=8191,I+=k*(5*f)+A*(5*d)+j*(5*u)+M*(5*l)+N*(5*c),P+=I>>>13,I&=8191;let L=P+w*c+T*s+E*o+D*(5*h)+O*(5*m);P=L>>>13,L&=8191,L+=k*(5*p)+A*(5*f)+j*(5*d)+M*(5*u)+N*(5*l),P+=L>>>13,L&=8191;let R=P+w*l+T*c+E*s+D*o+O*(5*h);P=R>>>13,R&=8191,R+=k*(5*m)+A*(5*p)+j*(5*f)+M*(5*d)+N*(5*u),P+=R>>>13,R&=8191;let ee=P+w*u+T*l+E*c+D*s+O*o;P=ee>>>13,ee&=8191,ee+=k*(5*h)+A*(5*m)+j*(5*p)+M*(5*f)+N*(5*d),P+=ee>>>13,ee&=8191;let te=P+w*d+T*u+E*l+D*c+O*s;P=te>>>13,te&=8191,te+=k*o+A*(5*h)+j*(5*m)+M*(5*p)+N*(5*f),P+=te>>>13,te&=8191;let ne=P+w*f+T*d+E*u+D*l+O*c;P=ne>>>13,ne&=8191,ne+=k*s+A*o+j*(5*h)+M*(5*m)+N*(5*p),P+=ne>>>13,ne&=8191;let re=P+w*p+T*f+E*d+D*u+O*l;P=re>>>13,re&=8191,re+=k*c+A*s+j*o+M*(5*h)+N*(5*m),P+=re>>>13,re&=8191;let z=P+w*m+T*p+E*f+D*d+O*u;P=z>>>13,z&=8191,z+=k*l+A*c+j*s+M*o+N*(5*h),P+=z>>>13,z&=8191;let ie=P+w*h+T*m+E*p+D*f+O*d;P=ie>>>13,ie&=8191,ie+=k*u+A*l+j*c+M*s+N*o,P+=ie>>>13,ie&=8191,P=(P<<2)+P|0,P=P+F|0,F=P&8191,P>>>=13,I+=P,i[0]=F,i[1]=I,i[2]=L,i[3]=R,i[4]=ee,i[5]=te,i[6]=ne,i[7]=re,i[8]=z,i[9]=ie}finalize(){let{h:e,pad:t}=this,n=new Uint16Array(10),r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=r*5,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(r^1)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=a&65535;for(let n=1;n<8;n++)a=(e[n]+t[n]|0)+(a>>>16)|0,e[n]=a&65535}update(e){Ws(this);let{buffer:t,blockLen:n}=this;e=ec(e);let r=e.length;for(let i=0;i<r;){let a=Math.min(n-this.pos,r-i);if(a===n){for(;n<=r-i;i+=n)this.process(e,i);continue}t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Ws(this),Gs(e,this),this.finished=!0;let{buffer:t,h:n}=this,{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}};function Xc(e){let t=(t,n)=>e(n).update(ec(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}Xc(e=>new Yc(e));var Zc=e=>Uint8Array.from(e.split(``).map(e=>e.charCodeAt(0))),Qc=Zc(`expand 16-byte k`),$c=Zc(`expand 32-byte k`),el=W(Qc),tl=W($c);tl.slice();function G(e,t){return e<<t|e>>>32-t}function nl(e){return e.byteOffset%4==0}var rl=64,il=16,al=2**32-1,ol=new Uint32Array;function sl(e,t,n,r,i,a,o,s){let c=i.length,l=new Uint8Array(rl),u=W(l),d=nl(i)&&nl(a),f=d?W(i):ol,p=d?W(a):ol;for(let m=0;m<c;o++){if(e(t,n,r,u,o,s),o>=al)throw Error(`arx: counter overflow`);let h=Math.min(rl,c-m);if(d&&h===rl){let e=m/4;if(m%4!=0)throw Error(`arx: invalid block position`);for(let t=0,n;t<il;t++)n=e+t,p[n]=f[n]^u[t];m+=rl;continue}for(let e=0,t;e<h;e++)t=m+e,a[t]=i[t]^l[e];m+=h}}function cl(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:o}=tc({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!=`function`)throw Error(`core must be a function`);return Bs(i),Bs(o),Vs(a),Vs(n),(t,s,c,l,u=0)=>{Us(t),Us(s),Us(c);let d=c.length;if(l||=new Uint8Array(d),Us(l),Bs(u),u<0||u>=al)throw Error(`arx: counter overflow`);if(l.length<d)throw Error(`arx: output (${l.length}) is shorter than data (${d})`);let f=[],p=t.length,m,h;if(p===32)m=t.slice(),f.push(m),h=tl;else if(p===16&&n)m=new Uint8Array(32),m.set(t),m.set(t,16),h=el,f.push(m);else throw Error(`arx: invalid 32-byte key, got length=${p}`);nl(s)||(s=s.slice(),f.push(s));let g=W(m);if(r){if(s.length!==24)throw Error(`arx: extended nonce must be 24 bytes`);r(h,g,W(s.subarray(0,16)),g),s=s.subarray(16)}let _=16-i;if(_!==s.length)throw Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){let e=new Uint8Array(12);e.set(s,a?0:12-s.length),s=e,f.push(s)}let v=W(s);for(sl(e,h,g,v,c,l,u,o);f.length>0;)f.pop().fill(0);return l}}function ll(e,t,n,r,i,a=20){let o=e[0],s=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],p=t[3],m=t[4],h=t[5],g=t[6],_=t[7],v=i,y=n[0],b=n[1],x=n[2],S=o,C=s,w=c,T=l,E=u,D=d,O=f,k=p,A=m,j=h,M=g,N=_,P=v,F=y,I=b,L=x;for(let e=0;e<a;e+=2)S=S+E|0,P=G(P^S,16),A=A+P|0,E=G(E^A,12),S=S+E|0,P=G(P^S,8),A=A+P|0,E=G(E^A,7),C=C+D|0,F=G(F^C,16),j=j+F|0,D=G(D^j,12),C=C+D|0,F=G(F^C,8),j=j+F|0,D=G(D^j,7),w=w+O|0,I=G(I^w,16),M=M+I|0,O=G(O^M,12),w=w+O|0,I=G(I^w,8),M=M+I|0,O=G(O^M,7),T=T+k|0,L=G(L^T,16),N=N+L|0,k=G(k^N,12),T=T+k|0,L=G(L^T,8),N=N+L|0,k=G(k^N,7),S=S+D|0,L=G(L^S,16),M=M+L|0,D=G(D^M,12),S=S+D|0,L=G(L^S,8),M=M+L|0,D=G(D^M,7),C=C+O|0,P=G(P^C,16),N=N+P|0,O=G(O^N,12),C=C+O|0,P=G(P^C,8),N=N+P|0,O=G(O^N,7),w=w+k|0,F=G(F^w,16),A=A+F|0,k=G(k^A,12),w=w+k|0,F=G(F^w,8),A=A+F|0,k=G(k^A,7),T=T+E|0,I=G(I^T,16),j=j+I|0,E=G(E^j,12),T=T+E|0,I=G(I^T,8),j=j+I|0,E=G(E^j,7);let R=0;r[R++]=o+S|0,r[R++]=s+C|0,r[R++]=c+w|0,r[R++]=l+T|0,r[R++]=u+E|0,r[R++]=d+D|0,r[R++]=f+O|0,r[R++]=p+k|0,r[R++]=m+A|0,r[R++]=h+j|0,r[R++]=g+M|0,r[R++]=_+N|0,r[R++]=v+P|0,r[R++]=y+F|0,r[R++]=b+I|0,r[R++]=x+L|0}const ul=cl(ll,{counterRight:!1,counterLength:4,allowShortKeys:!1});var dl=class extends Ko{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ts.hash(e);let n=Wo(t);if(this.iHash=e.create(),typeof this.iHash.update!=`function`)throw Error(`Expected instance of class which extends utils.Hash`);this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ts.exists(this),this.iHash.update(e),this}digestInto(e){ts.exists(this),ts.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fl=(e,t,n)=>new dl(e,t).update(n).digest();fl.create=(e,t)=>new dl(e,t);function pl(e,t,n){return ts.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),fl(e,Wo(n),Wo(t))}var ml=new Uint8Array([0]),hl=new Uint8Array;function gl(e,t,n,r=32){if(ts.hash(e),ts.number(r),r>255*e.outputLen)throw Error(`Length should be <= 255*HashLen`);let i=Math.ceil(r/e.outputLen);n===void 0&&(n=hl);let a=new Uint8Array(i*e.outputLen),o=fl.create(e,t),s=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let t=0;t<i;t++)ml[0]=t+1,s.update(t===0?hl:c).update(n).update(ml).digestInto(c),a.set(c,e.outputLen*t),o._cloneInto(s);return o.destroy(),s.destroy(),c.fill(0),ml.fill(0),a.slice(0,r)}var _l=Object.defineProperty,K=(e,t)=>{for(var n in t)_l(e,n,{get:t[n],enumerable:!0})},vl=Symbol(`verified`),yl=e=>e instanceof Object;function bl(e){if(!yl(e)||typeof e.kind!=`number`||typeof e.content!=`string`||typeof e.created_at!=`number`||typeof e.pubkey!=`string`||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if(typeof n[e]!=`string`)return!1}return!0}K({},{Queue:()=>Ol,QueueNode:()=>Dl,binarySearch:()=>El,bytesToHex:()=>Vo,hexToBytes:()=>Ho,insertEventIntoAscendingList:()=>Tl,insertEventIntoDescendingList:()=>wl,normalizeURL:()=>Cl,utf8Decoder:()=>xl,utf8Encoder:()=>Sl});var xl=new TextDecoder(`utf-8`),Sl=new TextEncoder;function Cl(e){try{e.indexOf(`://`)===-1&&(e=`wss://`+e);let t=new URL(e);return t.protocol===`http:`?t.protocol=`ws:`:t.protocol===`https:`&&(t.protocol=`wss:`),t.pathname=t.pathname.replace(/\/+/g,`/`),t.pathname.endsWith(`/`)&&(t.pathname=t.pathname.slice(0,-1)),(t.port===`80`&&t.protocol===`ws:`||t.port===`443`&&t.protocol===`wss:`)&&(t.port=``),t.searchParams.sort(),t.hash=``,t.toString()}catch{throw Error(`Invalid URL: ${e}`)}}function wl(e,t){let[n,r]=El(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at);return r||e.splice(n,0,t),e}function Tl(e,t){let[n,r]=El(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at);return r||e.splice(n,0,t),e}function El(e,t){let n=0,r=e.length-1;for(;n<=r;){let i=Math.floor((n+r)/2),a=t(e[i]);if(a===0)return[i,!0];a<0?r=i-1:n=i+1}return[n,!1]}var Dl=class{value;next=null;prev=null;constructor(e){this.value=e}},Ol=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){let t=new Dl(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let e=this.first;return this.first=null,this.last=null,e.value}let e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},kl=class{generateSecretKey(){return Fo.utils.randomPrivateKey()}getPublicKey(e){return Vo(Fo.getPublicKey(e))}finalizeEvent(e,t){let n=e;return n.pubkey=Vo(Fo.getPublicKey(t)),n.id=jl(n),n.sig=Vo(Fo.sign(jl(n),t)),n[vl]=!0,n}verifyEvent(e){if(typeof e[vl]==`boolean`)return e[vl];let t=jl(e);if(t!==e.id)return e[vl]=!1,!1;try{let n=Fo.verify(e.sig,t,e.pubkey);return e[vl]=n,n}catch{return e[vl]=!1,!1}}};function Al(e){if(!bl(e))throw Error(`can't serialize event with wrong or missing properties`);return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function jl(e){return Vo(ds(Sl.encode(Al(e))))}var Ml=new kl,Nl=Ml.generateSecretKey,Pl=Ml.getPublicKey,Fl=Ml.finalizeEvent,Il=Ml.verifyEvent;K({},{Application:()=>ud,BadgeAward:()=>Jl,BadgeDefinition:()=>rd,BlockedRelaysList:()=>Iu,BlossomServerList:()=>Uu,BookmarkList:()=>Nu,Bookmarksets:()=>ed,Calendar:()=>_d,CalendarEventRSVP:()=>vd,ChannelCreation:()=>iu,ChannelHideMessage:()=>su,ChannelMessage:()=>ou,ChannelMetadata:()=>au,ChannelMuteUser:()=>cu,ChatMessage:()=>Yl,ClassifiedListing:()=>pd,ClientAuth:()=>Ku,Comment:()=>pu,CommunitiesList:()=>Pu,CommunityDefinition:()=>X,CommunityPostApproval:()=>xu,Contacts:()=>Ul,CreateOrUpdateProduct:()=>od,CreateOrUpdateStall:()=>ad,Curationsets:()=>td,Date:()=>hd,DirectMessageRelaysList:()=>Vu,DraftClassifiedListing:()=>md,DraftLong:()=>cd,Emojisets:()=>ld,EncryptedDirectMessage:()=>Wl,EventDeletion:()=>Gl,FavoriteRelays:()=>Ru,FileMessage:()=>$l,FileMetadata:()=>fu,FileServerPreference:()=>Hu,Followsets:()=>Zu,ForumThread:()=>Xl,GenericRepost:()=>eu,Genericlists:()=>Qu,GiftWrap:()=>uu,GroupMetadata:()=>Sd,HTTPAuth:()=>Xu,Handlerinformation:()=>xd,Handlerrecommendation:()=>bd,Highlights:()=>Ou,InterestsList:()=>zu,Interestsets:()=>id,JobFeedback:()=>wu,JobRequest:()=>Su,JobResult:()=>Cu,Label:()=>bu,LightningPubRPC:()=>Gu,LiveChatMessage:()=>mu,LiveEvent:()=>dd,LongFormArticle:()=>sd,Metadata:()=>Bl,Mutelist:()=>Au,NWCWalletInfo:()=>Wu,NWCWalletRequest:()=>qu,NWCWalletResponse:()=>Ju,NormalVideo:()=>nu,NostrConnect:()=>Yu,OpenTimestamps:()=>lu,Photo:()=>tu,Pinlist:()=>ju,Poll:()=>du,PollResponse:()=>ku,PrivateDirectMessage:()=>Ql,ProblemTracker:()=>_u,ProfileBadges:()=>nd,PublicChatsList:()=>Fu,Reaction:()=>ql,RecommendRelay:()=>Hl,RelayList:()=>Mu,RelayReview:()=>yd,Relaysets:()=>$u,Report:()=>vu,Reporting:()=>yu,Repost:()=>Kl,Seal:()=>Zl,SearchRelaysList:()=>Lu,ShortTextNote:()=>Vl,ShortVideo:()=>ru,Time:()=>gd,UserEmojiList:()=>Bu,UserStatuses:()=>fd,Voice:()=>hu,VoiceComment:()=>gu,Zap:()=>Du,ZapGoal:()=>Tu,ZapRequest:()=>Eu,classifyKind:()=>Y,isAddressableKind:()=>J,isEphemeralKind:()=>Rl,isKind:()=>zl,isRegularKind:()=>Ll,isReplaceableKind:()=>q});function Ll(e){return e<1e4&&e!==0&&e!==3}function q(e){return e===0||e===3||1e4<=e&&e<2e4}function Rl(e){return 2e4<=e&&e<3e4}function J(e){return 3e4<=e&&e<4e4}function Y(e){return Ll(e)?`regular`:q(e)?`replaceable`:Rl(e)?`ephemeral`:J(e)?`parameterized`:`unknown`}function zl(e,t){let n=t instanceof Array?t:[t];return bl(e)&&n.includes(e.kind)||!1}var Bl=0,Vl=1,Hl=2,Ul=3,Wl=4,Gl=5,Kl=6,ql=7,Jl=8,Yl=9,Xl=11,Zl=13,Ql=14,$l=15,eu=16,tu=20,nu=21,ru=22,iu=40,au=41,ou=42,su=43,cu=44,lu=1040,uu=1059,du=1068,fu=1063,pu=1111,mu=1311,hu=1222,gu=1244,_u=1971,vu=1984,yu=1984,bu=1985,xu=4550,Su=5999,Cu=6999,wu=7e3,Tu=9041,Eu=9734,Du=9735,Ou=9802,ku=1018,Au=1e4,ju=10001,Mu=10002,Nu=10003,Pu=10004,Fu=10005,Iu=10006,Lu=10007,Ru=10012,zu=10015,Bu=10030,Vu=10050,Hu=10096,Uu=10063,Wu=13194,Gu=21e3,Ku=22242,qu=23194,Ju=23195,Yu=24133,Xu=27235,Zu=3e4,Qu=30001,$u=30002,ed=30003,td=30004,nd=30008,rd=30009,id=30015,ad=30017,od=30018,sd=30023,cd=30024,ld=30030,ud=30078,dd=30311,fd=30315,pd=30402,md=30403,hd=31922,gd=31923,_d=31924,vd=31925,yd=31987,bd=31989,xd=31990,X=34550,Sd=39e3;K({},{getHex64:()=>Cd,getInt:()=>wd,getSubscriptionId:()=>Td,matchEventId:()=>Ed,matchEventKind:()=>Od,matchEventPubkey:()=>Dd});function Cd(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf(`"`)+r+1;return e.slice(i,i+64)}function wd(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),a=Math.min(i.indexOf(`,`),i.indexOf(`}`));return parseInt(i.slice(0,a),10)}function Td(e){let t=e.slice(0,22).indexOf(`"EVENT"`);if(t===-1)return null;let n=e.slice(t+7+1).indexOf(`"`);if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf(`"`);if(i===-1)return null;let a=r+1+i;return e.slice(r+1,a)}function Ed(e,t){return t===Cd(e,`id`)}function Dd(e,t){return t===Cd(e,`pubkey`)}function Od(e,t){return t===wd(e,`kind`)}K({},{makeAuthEvent:()=>kd});function kd(e,t){return{kind:Ku,created_at:Math.floor(Date.now()/1e3),tags:[[`relay`,e],[`challenge`,t]],content:``}}try{WebSocket}catch{}try{WebSocket}catch{}var Ad={};K(Ad,{BECH32_REGEX:()=>Nd,Bech32MaxSize:()=>Md,NostrTypeGuard:()=>jd,decode:()=>Id,decodeNostrURI:()=>Fd,encodeBytes:()=>Hd,naddrEncode:()=>Gd,neventEncode:()=>Wd,noteEncode:()=>Bd,nprofileEncode:()=>Ud,npubEncode:()=>zd,nsecEncode:()=>Rd});var jd={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||``),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||``),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||``),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||``),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||``),isNote:e=>/^note1[a-z\d]+$/.test(e||``),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||``)},Md=5e3,Nd=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Pd(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Fd(e){try{return e.startsWith(`nostr:`)&&(e=e.substring(6)),Id(e)}catch{return{type:`invalid`,data:null}}}function Id(e){let{prefix:t,words:n}=Rs.decode(e,Md),r=new Uint8Array(Rs.fromWords(n));switch(t){case`nprofile`:{let e=Ld(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for nprofile`);if(e[0][0].length!==32)throw Error(`TLV 0 should be 32 bytes`);return{type:`nprofile`,data:{pubkey:Vo(e[0][0]),relays:e[1]?e[1].map(e=>xl.decode(e)):[]}}}case`nevent`:{let e=Ld(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for nevent`);if(e[0][0].length!==32)throw Error(`TLV 0 should be 32 bytes`);if(e[2]&&e[2][0].length!==32)throw Error(`TLV 2 should be 32 bytes`);if(e[3]&&e[3][0].length!==4)throw Error(`TLV 3 should be 4 bytes`);return{type:`nevent`,data:{id:Vo(e[0][0]),relays:e[1]?e[1].map(e=>xl.decode(e)):[],author:e[2]?.[0]?Vo(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(Vo(e[3][0]),16):void 0}}}case`naddr`:{let e=Ld(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for naddr`);if(!e[2]?.[0])throw Error(`missing TLV 2 for naddr`);if(e[2][0].length!==32)throw Error(`TLV 2 should be 32 bytes`);if(!e[3]?.[0])throw Error(`missing TLV 3 for naddr`);if(e[3][0].length!==4)throw Error(`TLV 3 should be 4 bytes`);return{type:`naddr`,data:{identifier:xl.decode(e[0][0]),pubkey:Vo(e[2][0]),kind:parseInt(Vo(e[3][0]),16),relays:e[1]?e[1].map(e=>xl.decode(e)):[]}}}case`nsec`:return{type:t,data:r};case`npub`:case`note`:return{type:t,data:Vo(r)};default:throw Error(`unknown prefix ${t}`)}}function Ld(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function Rd(e){return Hd(`nsec`,e)}function zd(e){return Hd(`npub`,Ho(e))}function Bd(e){return Hd(`note`,Ho(e))}function Vd(e,t){let n=Rs.toWords(t);return Rs.encode(e,n,Md)}function Hd(e,t){return Vd(e,t)}function Ud(e){return Vd(`nprofile`,Kd({0:[Ho(e.pubkey)],1:(e.relays||[]).map(e=>Sl.encode(e))}))}function Wd(e){let t;return e.kind!==void 0&&(t=Pd(e.kind)),Vd(`nevent`,Kd({0:[Ho(e.id)],1:(e.relays||[]).map(e=>Sl.encode(e)),2:e.author?[Ho(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function Gd(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Vd(`naddr`,Kd({0:[Sl.encode(e.identifier)],1:(e.relays||[]).map(e=>Sl.encode(e)),2:[Ho(e.pubkey)],3:[new Uint8Array(t)]}))}function Kd(e){let t=[];return Object.entries(e).reverse().forEach(([e,n])=>{n.forEach(n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)})}),Go(...t)}K({},{decrypt:()=>Jd,encrypt:()=>qd});function qd(e,t,n){let r=e instanceof Uint8Array?Vo(e):e,i=Yd(_o.getSharedSecret(r,`02`+t)),a=Uint8Array.from(Jo(16)),o=Sl.encode(n),s=Gc(i,a).encrypt(o);return`${Ds.encode(new Uint8Array(s))}?iv=${Ds.encode(new Uint8Array(a.buffer))}`}function Jd(e,t,n){let r=e instanceof Uint8Array?Vo(e):e,[i,a]=n.split(`?iv=`),o=Yd(_o.getSharedSecret(r,`02`+t)),s=Ds.decode(a),c=Ds.decode(i),l=Gc(o,s).decrypt(c);return xl.decode(l)}function Yd(e){return e.slice(1,33)}K({},{NIP05_REGEX:()=>Xd,isNip05:()=>Zd,isValid:()=>nf,queryProfile:()=>tf,searchDomain:()=>ef,useFetchImplementation:()=>$d});var Xd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Zd=e=>Xd.test(e||``),Qd;try{Qd=fetch}catch{}function $d(e){Qd=e}async function ef(e,t=``){try{let n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Qd(n,{redirect:`manual`});if(r.status!==200)throw Error(`Wrong response code`);return(await r.json()).names}catch{return{}}}async function tf(e){let t=e.match(Xd);if(!t)return null;let[,n=`_`,r]=t;try{let e=`https://${r}/.well-known/nostr.json?name=${n}`,t=await Qd(e,{redirect:`manual`});if(t.status!==200)throw Error(`Wrong response code`);let i=await t.json(),a=i.names[n];return a?{pubkey:a,relays:i.relays?.[a]}:null}catch{return null}}async function nf(e,t){let n=await tf(t);return n?n.pubkey===e:!1}K({},{parse:()=>rf});function rf(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},n,r;for(let i=e.tags.length-1;i>=0;i--){let a=e.tags[i];if(a[0]===`e`&&a[1]){let[e,i,o,s,c]=a,l={id:i,relays:o?[o]:[],author:c};if(s===`root`){t.root=l;continue}if(s===`reply`){t.reply=l;continue}if(s===`mention`){t.mentions.push(l);continue}n?r=l:n=l,t.mentions.push(l);continue}if(a[0]===`q`&&a[1]){let[e,n,r]=a;t.quotes.push({id:n,relays:r?[r]:[]})}if(a[0]===`p`&&a[1]){t.profiles.push({pubkey:a[1],relays:a[2]?[a[2]]:[]});continue}}return t.root||=r||n||t.reply,t.reply||=n||t.root,[t.reply,t.root].forEach(e=>{if(!e)return;let n=t.mentions.indexOf(e);if(n!==-1&&t.mentions.splice(n,1),e.author){let n=t.profiles.find(t=>t.pubkey===e.author);n&&n.relays&&(e.relays||=[],n.relays.forEach(t=>{e.relays?.indexOf(t)===-1&&e.relays.push(t)}),n.relays=e.relays)}}),t.mentions.forEach(e=>{if(e.author){let n=t.profiles.find(t=>t.pubkey===e.author);n&&n.relays&&(e.relays||=[],n.relays.forEach(t=>{e.relays.indexOf(t)===-1&&e.relays.push(t)}),n.relays=e.relays)}}),t}K({},{fetchRelayInformation:()=>of,useFetchImplementation:()=>af});function af(e){}async function of(e){return await(await fetch(e.replace(`ws://`,`http://`).replace(`wss://`,`https://`),{headers:{Accept:`application/nostr+json`}})).json()}K({},{fastEventHash:()=>lf,getPow:()=>sf,minePow:()=>cf});function sf(e){let t=0;for(let n=0;n<64;n+=8){let r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function cf(e,t){let n=0,r=e,i=[`nonce`,n.toString(),t.toString()];for(r.tags.push(i);;){let e=Math.floor(new Date().getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=lf(r),sf(r.id)>=t)break}return r}function lf(e){return Vo(ds(Sl.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}K({},{unwrapEvent:()=>zf,unwrapManyEvents:()=>Bf,wrapEvent:()=>Lf,wrapManyEvents:()=>Rf}),K({},{createRumor:()=>kf,createSeal:()=>Af,createWrap:()=>jf,unwrapEvent:()=>Pf,unwrapManyEvents:()=>Ff,wrapEvent:()=>Mf,wrapManyEvents:()=>Nf}),K({},{decrypt:()=>xf,encrypt:()=>bf,getConversationKey:()=>ff,v2:()=>Sf});var uf=1,df=65535;function ff(e,t){return pl(ds,_o.getSharedSecret(e,`02`+t).subarray(1,33),`nip44-v2`)}function pf(e,t){let n=gl(ds,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function mf(e){if(!Number.isSafeInteger(e)||e<1)throw Error(`expected positive integer`);if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function hf(e){if(!Number.isSafeInteger(e)||e<uf||e>df)throw Error(`invalid plaintext size: must be between 1 and 65535 bytes`);let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function gf(e){let t=Sl.encode(e),n=t.length;return Go(hf(n),t,new Uint8Array(mf(n)-n))}function _f(e){let t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<uf||t>df||n.length!==t||e.length!==2+mf(t))throw Error(`invalid padding`);return xl.decode(n)}function vf(e,t,n){if(n.length!==32)throw Error(`AAD associated data must be 32 bytes`);return fl(ds,e,Go(n,t))}function yf(e){if(typeof e!=`string`)throw Error(`payload must be a valid string`);let t=e.length;if(t<132||t>87472)throw Error(`invalid payload length: `+t);if(e[0]===`#`)throw Error(`unknown encryption version`);let n;try{n=Ds.decode(e)}catch(e){throw Error(`invalid base64: `+e.message)}let r=n.length;if(r<99||r>65603)throw Error(`invalid data length: `+r);let i=n[0];if(i!==2)throw Error(`unknown encryption version `+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function bf(e,t,n=Jo(32)){let{chacha_key:r,chacha_nonce:i,hmac_key:a}=pf(t,n),o=ul(r,i,gf(e)),s=vf(a,o,n);return Ds.encode(Go(new Uint8Array([2]),n,o,s))}function xf(e,t){let{nonce:n,ciphertext:r,mac:i}=yf(e),{chacha_key:a,chacha_nonce:o,hmac_key:s}=pf(t,n);if(!nc(vf(s,r,n),i))throw Error(`invalid MAC`);return _f(ul(a,o,r))}var Sf={utils:{getConversationKey:ff,calcPaddedLen:mf},encrypt:bf,decrypt:xf},Cf=2880*60,wf=()=>Math.round(Date.now()/1e3),Tf=()=>Math.round(wf()-Math.random()*Cf),Ef=(e,t)=>ff(e,t),Df=(e,t,n)=>bf(JSON.stringify(e),Ef(t,n)),Of=(e,t)=>JSON.parse(xf(e.content,Ef(t,e.pubkey)));function kf(e,t){let n={created_at:wf(),content:``,tags:[],...e,pubkey:Pl(t)};return n.id=jl(n),n}function Af(e,t,n){return Fl({kind:Zl,content:Df(e,t,n),created_at:Tf(),tags:[]},t)}function jf(e,t){let n=Nl();return Fl({kind:uu,content:Df(e,n,t),created_at:Tf(),tags:[[`p`,t]]},n)}function Mf(e,t,n){return jf(Af(kf(e,t),t,n),n)}function Nf(e,t,n){if(!n||n.length===0)throw Error(`At least one recipient is required.`);let r=[Mf(e,t,Pl(t))];return n.forEach(n=>{r.push(Mf(e,t,n))}),r}function Pf(e,t){return Of(Of(e,t),t)}function Ff(e,t){let n=[];return e.forEach(e=>{n.push(Pf(e,t))}),n.sort((e,t)=>e.created_at-t.created_at),n}function If(e,t,n,r){let i={created_at:Math.ceil(Date.now()/1e3),kind:Ql,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:e,relayUrl:t})=>{i.tags.push(t?[`p`,e,t]:[`p`,e])}),r&&i.tags.push([`e`,r.eventId,r.relayUrl||``,`reply`]),n&&i.tags.push([`subject`,n]),i}function Lf(e,t,n,r,i){return Mf(If(t,n,r,i),e,t.publicKey)}function Rf(e,t,n,r,i){if(!t||t.length===0)throw Error(`At least one recipient is required.`);return[{publicKey:Pl(e)},...t].map(t=>Lf(e,t,n,r,i))}var zf=Pf,Bf=Ff;K({},{finishRepostEvent:()=>Vf,getRepostedEvent:()=>Uf,getRepostedEventPointer:()=>Hf});function Vf(e,t,n,r){let i,a=[...e.tags??[],[`e`,t.id,n],[`p`,t.pubkey]];return t.kind===Vl?i=Kl:(i=eu,a.push([`k`,String(t.kind)])),Fl({kind:i,tags:a,content:e.content===``||t.tags?.find(e=>e[0]===`-`)?``:JSON.stringify(t),created_at:e.created_at},r)}function Hf(e){if(![Kl,eu].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let i=e.tags[r];i.length>=2&&(i[0]===`e`&&t===void 0?t=i:i[0]===`p`&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n?.[2]].filter(e=>typeof e==`string`),author:n?.[1]}}function Uf(e,{skipVerification:t}={}){let n=Hf(e);if(n===void 0||e.content===``)return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Il(r)))return r}K({},{NOSTR_URI_REGEX:()=>Wf,parse:()=>Kf,test:()=>Gf});var Wf=RegExp(`nostr:(${Nd.source})`);function Gf(e){return typeof e==`string`&&RegExp(`^${Wf.source}$`).test(e)}function Kf(e){let t=e.match(RegExp(`^${Wf.source}$`));if(!t)throw Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Id(t[1])}}K({},{finishReactionEvent:()=>qf,getReactedEventPointer:()=>Jf});function qf(e,t,n){let r=t.tags.filter(e=>e.length>=2&&(e[0]===`e`||e[0]===`p`));return Fl({...e,kind:ql,tags:[...e.tags??[],...r,[`e`,t.id],[`p`,t.pubkey]],content:e.content??`+`},n)}function Jf(e){if(e.kind!==ql)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let i=e.tags[r];i.length>=2&&(i[0]===`e`&&t===void 0?t=i:i[0]===`p`&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(e=>e!==void 0),author:n[1]}}K({},{parse:()=>Qf});var Yf=/\W/m,Xf=/[^\w\/] |[^\w\/]$|$|,| /m,Zf=42;function*Qf(e){let t=[];if(typeof e!=`string`){for(let n=0;n<e.tags.length;n++){let r=e.tags[n];r[0]===`emoji`&&r.length>=3&&t.push({type:`emoji`,shortcode:r[1],url:r[2]})}e=e.content}let n=e.length,r=0,i=0;mainloop:for(;i<n;){let a=e.indexOf(`:`,i),o=e.indexOf(`#`,i);if(a===-1&&o===-1)break mainloop;if(a===-1||o>=0&&o<a){if(o===0||e[o-1]===` `){let t=e.slice(o+1,o+Zf).match(Yf),a=t?o+1+t.index:n;yield{type:`text`,text:e.slice(r,o)},yield{type:`hashtag`,value:e.slice(o+1,a)},i=a,r=i;continue mainloop}i=o+1;continue mainloop}if(e.slice(a-5,a)===`nostr`){let t=e.slice(a+60).match(Yf),o=t?a+60+t.index:n;try{let t,{data:n,type:s}=Id(e.slice(a+1,o));switch(s){case`npub`:t={pubkey:n};break;case`note`:t={id:n};break;case`nsec`:i=o+1;continue;default:t=n}r!==a-5&&(yield{type:`text`,text:e.slice(r,a-5)}),yield{type:`reference`,pointer:t},i=o,r=i;continue mainloop}catch{i=a+1;continue mainloop}}else if(e.slice(a-5,a)===`https`||e.slice(a-4,a)===`http`){let t=e.slice(a+4).match(Xf),o=t?a+4+t.index:n,s=e[a-1]===`s`?5:4;try{let t=new URL(e.slice(a-s,o));if(t.hostname.indexOf(`.`)===-1)throw Error(`invalid url`);if(r!==a-s&&(yield{type:`text`,text:e.slice(r,a-s)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(t.pathname)){yield{type:`image`,url:t.toString()},i=o,r=i;continue mainloop}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(t.pathname)){yield{type:`video`,url:t.toString()},i=o,r=i;continue mainloop}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(t.pathname)){yield{type:`audio`,url:t.toString()},i=o,r=i;continue mainloop}yield{type:`url`,url:t.toString()},i=o,r=i;continue mainloop}catch{i=o+1;continue mainloop}}else if(e.slice(a-3,a)===`wss`||e.slice(a-2,a)===`ws`){let t=e.slice(a+4).match(Xf),o=t?a+4+t.index:n,s=e[a-1]===`s`?3:2;try{let t=new URL(e.slice(a-s,o));if(t.hostname.indexOf(`.`)===-1)throw Error(`invalid ws url`);r!==a-s&&(yield{type:`text`,text:e.slice(r,a-s)}),yield{type:`relay`,url:t.toString()},i=o,r=i;continue mainloop}catch{i=o+1;continue mainloop}}else{for(let n=0;n<t.length;n++){let o=t[n];if(e[a+o.shortcode.length+1]===`:`&&e.slice(a+1,a+o.shortcode.length+1)===o.shortcode){r!==a&&(yield{type:`text`,text:e.slice(r,a)}),yield o,i=a+o.shortcode.length+2,r=i;continue mainloop}}i=a+1;continue mainloop}}r!==n&&(yield{type:`text`,text:e.slice(r)})}K({},{channelCreateEvent:()=>$f,channelHideMessageEvent:()=>np,channelMessageEvent:()=>tp,channelMetadataEvent:()=>ep,channelMuteUserEvent:()=>rp});var $f=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return Fl({kind:iu,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},ep=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return Fl({kind:au,tags:[[`e`,e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},tp=(e,t)=>{let n=[[`e`,e.channel_create_event_id,e.relay_url,`root`]];return e.reply_to_channel_message_event_id&&n.push([`e`,e.reply_to_channel_message_event_id,e.relay_url,`reply`]),Fl({kind:ou,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},np=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return Fl({kind:su,tags:[[`e`,e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},rp=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return Fl({kind:cu,tags:[[`p`,e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)};K({},{EMOJI_SHORTCODE_REGEX:()=>ip,matchAll:()=>op,regex:()=>ap,replaceAll:()=>sp});var ip=/:(\w+):/,ap=()=>RegExp(`\\B${ip.source}\\B`,`g`);function*op(e){let t=e.matchAll(ap());for(let e of t)try{let[t,n]=e;yield{shortcode:t,name:n,start:e.index,end:e.index+t.length}}catch{}}function sp(e,t){return e.replaceAll(ap(),(e,n)=>t({shortcode:e,name:n}))}K({},{useFetchImplementation:()=>lp,validateGithub:()=>up});var cp;try{cp=fetch}catch{}function lp(e){cp=e}async function up(e,t,n){try{return await(await cp(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}K({},{makeNwcRequestEvent:()=>fp,parseConnectionString:()=>dp});function dp(e){let{host:t,pathname:n,searchParams:r}=new URL(e),i=n||t,a=r.get(`relay`),o=r.get(`secret`);if(!i||!a||!o)throw Error(`invalid connection string`);return{pubkey:i,relay:a,secret:o}}async function fp(e,t,n){let r={method:`pay_invoice`,params:{invoice:n}},i=qd(t,e,JSON.stringify(r));return Fl({kind:qu,created_at:Math.round(Date.now()/1e3),content:i,tags:[[`p`,e]]},t)}K({},{normalizeIdentifier:()=>pp});function pp(e){return e=e.trim().toLowerCase(),e=e.normalize(`NFKC`),Array.from(e).map(e=>/\p{Letter}/u.test(e)||/\p{Number}/u.test(e)?e:`-`).join(``)}K({},{getSatoshisAmountFromBolt11:()=>bp,getZapEndpoint:()=>gp,makeZapReceipt:()=>yp,makeZapRequest:()=>_p,useFetchImplementation:()=>hp,validateZapRequest:()=>vp});var mp;try{mp=fetch}catch{}function hp(e){mp=e}async function gp(e){try{let t=``,{lud06:n,lud16:r}=JSON.parse(e.content);if(r){let[e,n]=r.split(`@`);t=new URL(`/.well-known/lnurlp/${e}`,`https://${n}`).toString()}else if(n){let{words:e}=Rs.decode(n,1e3),r=Rs.fromWords(e);t=xl.decode(r)}else return null;let i=await(await mp(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function _p(e){let t={kind:9734,created_at:Math.round(Date.now()/1e3),content:e.comment||``,tags:[[`p`,`pubkey`in e?e.pubkey:e.event.pubkey],[`amount`,e.amount.toString()],[`relays`,...e.relays]]};if(`event`in e){if(t.tags.push([`e`,e.event.id]),q(e.event.kind)){let n=[`a`,`${e.event.kind}:${e.event.pubkey}:`];t.tags.push(n)}else if(J(e.event.kind)){let n=e.event.tags.find(([e,t])=>e===`d`&&t);if(!n)throw Error(`d tag not found or is empty`);let r=[`a`,`${e.event.kind}:${e.event.pubkey}:${n[1]}`];t.tags.push(r)}t.tags.push([`k`,e.event.kind.toString()])}return t}function vp(e){let t;try{t=JSON.parse(e)}catch{return`Invalid zap request JSON.`}if(!bl(t))return`Zap request is not a valid Nostr event.`;if(!Il(t))return`Invalid signature on zap request.`;let n=t.tags.find(([e,t])=>e===`p`&&t);if(!n)return`Zap request doesn't have a 'p' tag.`;if(!n[1].match(/^[a-f0-9]{64}$/))return`Zap request 'p' tag is not valid hex.`;let r=t.tags.find(([e,t])=>e===`e`&&t);return r&&!r[1].match(/^[a-f0-9]{64}$/)?`Zap request 'e' tag is not valid hex.`:t.tags.find(([e,t])=>e===`relays`&&t)?null:`Zap request doesn't have a 'relays' tag.`}function yp({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),a=i.tags.filter(([e])=>e===`e`||e===`p`||e===`a`),o={kind:9735,created_at:Math.round(r.getTime()/1e3),content:``,tags:[...a,[`P`,i.pubkey],[`bolt11`,n],[`description`,e]]};return t&&o.tags.push([`preimage`,t]),o}function bp(e){if(e.length<50)return 0;e=e.substring(0,50);let t=e.lastIndexOf(`1`);if(t===-1)return 0;let n=e.substring(0,t);if(!n.startsWith(`lnbc`))return 0;let r=n.substring(4);if(r.length<1)return 0;let i=r[r.length-1],a=i.charCodeAt(0)-48,o=a>=0&&a<=9,s=r.length-1;if(o&&s++,s<1)return 0;let c=parseInt(r.substring(0,s));switch(i){case`m`:return c*1e5;case`u`:return c*100;case`n`:return c/10;case`p`:return c/1e4;default:return c*1e8}}K({},{Negentropy:()=>Mp,NegentropyStorageVector:()=>jp,NegentropySync:()=>Fp});var xp=97,Sp=32,Cp=16,wp={Skip:0,Fingerprint:1,IdList:2},Tp=class{_raw;length;constructor(e){typeof e==`number`?(this._raw=new Uint8Array(e),this.length=0):e instanceof Uint8Array?(this._raw=new Uint8Array(e),this.length=e.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(e){if(e instanceof Tp&&(e=e.unwrap()),typeof e.length!=`number`)throw Error(`bad length`);let t=e.length+this.length;if(this.capacity<t){let e=this._raw,n=Math.max(this.capacity*2,t);this._raw=new Uint8Array(n),this._raw.set(e)}this._raw.set(e,this.length),this.length+=e.length}shift(){let e=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,e}shiftN(e=1){let t=this._raw.subarray(0,e);return this._raw=this._raw.subarray(e),this.length-=e,t}};function Ep(e){let t=0;for(;;){if(e.length===0)throw Error(`parse ends prematurely`);let n=e.shift();if(t=t<<7|n&127,!(n&128))break}return t}function Dp(e){if(e===0)return new Tp(new Uint8Array([0]));let t=[];for(;e!==0;)t.push(e&127),e>>>=7;t.reverse();for(let e=0;e<t.length-1;e++)t[e]|=128;return new Tp(new Uint8Array(t))}function Op(e){return kp(e,1)[0]}function kp(e,t){if(e.length<t)throw Error(`parse ends prematurely`);return e.shiftN(t)}var Ap=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(Sp)}add(e){let t=0,n=0,r=new DataView(this.buf.buffer),i=new DataView(e.buffer);for(let e=0;e<8;e++){let a=e*4,o=r.getUint32(a,!0),s=i.getUint32(a,!0),c=o;c+=t,c+=s,c>4294967295&&(n=1),r.setUint32(a,c&4294967295,!0),t=n,n=0}}negate(){let e=new DataView(this.buf.buffer);for(let t=0;t<8;t++){let n=t*4;e.setUint32(n,~e.getUint32(n,!0))}let t=new Uint8Array(Sp);t[0]=1,this.add(t)}getFingerprint(e){let t=new Tp;return t.extend(this.buf),t.extend(Dp(e)),ds(t.unwrap()).subarray(0,Cp)}},jp=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(e,t){if(this.sealed)throw Error(`already sealed`);let n=Qs(t);if(n.byteLength!==Sp)throw Error(`bad id size for added item`);this.items.push({timestamp:e,id:n})}seal(){if(this.sealed)throw Error(`already sealed`);this.sealed=!0,this.items.sort(Pp);for(let e=1;e<this.items.length;e++)if(Pp(this.items[e-1],this.items[e])===0)throw Error(`duplicate item inserted`)}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(e){if(this._checkSealed(),e>=this.items.length)throw Error(`out of range`);return this.items[e]}iterate(e,t,n){this._checkSealed(),this._checkBounds(e,t);for(let r=e;r<t&&n(this.items[r],r);++r);}findLowerBound(e,t,n){return this._checkSealed(),this._checkBounds(e,t),this._binarySearch(this.items,e,t,e=>Pp(e,n)<0)}fingerprint(e,t){let n=new Ap;return n.setToZero(),this.iterate(e,t,e=>(n.add(e.id),!0)),n.getFingerprint(t-e)}_checkSealed(){if(!this.sealed)throw Error(`not sealed`)}_checkBounds(e,t){if(e>t||t>this.items.length)throw Error(`bad range`)}_binarySearch(e,t,n,r){let i=n-t;for(;i>0;){let n=t,a=Math.floor(i/2);n+=a,r(e[n])?(t=++n,i-=a+1):i=a}return t}},Mp=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(e,t=6e4){if(t<4096)throw Error(`frameSizeLimit too small`);this.storage=e,this.frameSizeLimit=t,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(e,t){return{timestamp:e,id:t||new Uint8Array}}initiate(){let e=new Tp;return e.extend(new Uint8Array([xp])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),e),Ys(e.unwrap())}reconcile(e,t,n){let r=new Tp(Qs(e));this.lastTimestampIn=this.lastTimestampOut=0;let i=new Tp;i.extend(new Uint8Array([xp]));let a=Op(r);if(a<96||a>111)throw Error(`invalid negentropy protocol version byte`);if(a!==xp)throw Error(`unsupported negentropy protocol version requested: `+(a-96));let o=this.storage.size(),s=this._bound(0),c=0,l=!1;for(;r.length!==0;){let e=new Tp,a=()=>{l&&(l=!1,e.extend(this.encodeBound(s)),e.extend(Dp(wp.Skip)))},u=this.decodeBound(r),d=Ep(r),f=c,p=this.storage.findLowerBound(c,o,u);if(d===wp.Skip)l=!0;else if(d===wp.Fingerprint)Np(kp(r,Cp),this.storage.fingerprint(f,p))===0?l=!0:(a(),this.splitRange(f,p,u,e));else if(d===wp.IdList){let e=Ep(r),i={};for(let t=0;t<e;t++){let e=kp(r,Sp);i[Ys(e)]=e}if(l=!0,this.storage.iterate(f,p,e=>{let n=e.id,r=Ys(n);return i[r]?delete i[Ys(n)]:t?.(r),!0}),n)for(let e of Object.values(i))n(Ys(e))}else throw Error(`unexpected mode`);if(this.exceededFrameSizeLimit(i.length+e.length)){let e=this.storage.fingerprint(p,o);i.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),i.extend(Dp(wp.Fingerprint)),i.extend(e);break}else i.extend(e);c=p,s=u}return i.length===1?null:Ys(i.unwrap())}splitRange(e,t,n,r){let i=t-e;if(i<32)r.extend(this.encodeBound(n)),r.extend(Dp(wp.IdList)),r.extend(Dp(i)),this.storage.iterate(e,t,e=>(r.extend(e.id),!0));else{let a=Math.floor(i/16),o=i%16,s=e;for(let e=0;e<16;e++){let i=a+(e<o?1:0),c=this.storage.fingerprint(s,s+i);s+=i;let l;if(s===t)l=n;else{let e,t;this.storage.iterate(s-1,s+1,(n,r)=>(r===s-1?e=n:t=n,!0)),l=this.getMinimalBound(e,t)}r.extend(this.encodeBound(l)),r.extend(Dp(wp.Fingerprint)),r.extend(c)}}}exceededFrameSizeLimit(e){return e>this.frameSizeLimit-200}decodeTimestampIn(e){let t=Ep(e);return t=t===0?Number.MAX_VALUE:t-1,this.lastTimestampIn===Number.MAX_VALUE||t===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(t+=this.lastTimestampIn,this.lastTimestampIn=t,t)}decodeBound(e){let t=this.decodeTimestampIn(e),n=Ep(e);if(n>Sp)throw Error(`bound key too long`);return{timestamp:t,id:kp(e,n)}}encodeTimestampOut(e){if(e===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,Dp(0);let t=e;return e-=this.lastTimestampOut,this.lastTimestampOut=t,Dp(e+1)}encodeBound(e){let t=new Tp;return t.extend(this.encodeTimestampOut(e.timestamp)),t.extend(Dp(e.id.length)),t.extend(e.id),t}getMinimalBound(e,t){if(t.timestamp!==e.timestamp)return this._bound(t.timestamp);{let n=0,r=t.id,i=e.id;for(let e=0;e<Sp&&r[e]===i[e];e++)n++;return this._bound(t.timestamp,t.id.subarray(0,n+1))}}};function Np(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}function Pp(e,t){return e.timestamp===t.timestamp?Np(e.id,t.id):e.timestamp-t.timestamp}var Fp=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(e,t,n,r={}){this.relay=e,this.storage=t,this.neg=new Mp(t),this.onhave=r.onhave,this.onneed=r.onneed,this.filter=n,this.subscription=this.relay.prepareSubscription([{}],{label:r.label||`negentropy`}),this.subscription.oncustom=e=>{switch(e[0]){case`NEG-MSG`:e.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${e}`);try{let t=this.neg.reconcile(e[2],this.onhave,this.onneed);t?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${t}"]`):(this.close(),r.onclose?.())}catch(e){console.error(`negentropy reconcile error:`,e),r?.onclose?.(`reconcile error: ${e}`)}break;case`NEG-CLOSE`:{let t=e[2];console.warn(`negentropy error:`,t),r.onclose?.(t);break}case`NEG-ERR`:r.onclose?.()}}}async start(){let e=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${e}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}};K({},{getToken:()=>Lp,hashPayload:()=>Wp,unpackEventFromToken:()=>zp,validateEvent:()=>Kp,validateEventKind:()=>Vp,validateEventMethodTag:()=>Up,validateEventPayloadTag:()=>Gp,validateEventTimestamp:()=>Bp,validateEventUrlTag:()=>Hp,validateToken:()=>Rp});var Ip=`Nostr `;async function Lp(e,t,n,r=!1,i){let a={kind:Xu,tags:[[`u`,e],[`method`,t]],created_at:Math.round(new Date().getTime()/1e3),content:``};i&&a.tags.push([`payload`,Wp(i)]);let o=await n(a);return(r?Ip:``)+Ds.encode(Sl.encode(JSON.stringify(o)))}async function Rp(e,t,n){return await Kp(await zp(e).catch(e=>{throw e}),t,n).catch(e=>{throw e})}async function zp(e){if(!e)throw Error(`Missing token`);e=e.replace(Ip,``);let t=xl.decode(Ds.decode(e));if(!t||t.length===0||!t.startsWith(`{`))throw Error(`Invalid token`);return JSON.parse(t)}function Bp(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Vp(e){return e.kind===Xu}function Hp(e,t){let n=e.tags.find(e=>e[0]===`u`);return n?n.length>0&&n[1]===t:!1}function Up(e,t){let n=e.tags.find(e=>e[0]===`method`);return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Wp(e){return Vo(ds(Sl.encode(JSON.stringify(e))))}function Gp(e,t){let n=e.tags.find(e=>e[0]===`payload`);if(!n)return!1;let r=Wp(t);return n.length>0&&n[1]===r}async function Kp(e,t,n,r){if(!Il(e))throw Error(`Invalid nostr event, signature invalid`);if(!Vp(e))throw Error(`Invalid nostr event, kind invalid`);if(!Bp(e))throw Error(`Invalid nostr event, created_at timestamp invalid`);if(!Hp(e,t))throw Error(`Invalid nostr event, url tag invalid`);if(!Up(e,n))throw Error(`Invalid nostr event, method tag invalid`);if(r&&typeof r==`object`&&Object.keys(r).length>0&&!Gp(e,r))throw Error(`Invalid nostr event, payload tag does not match request body hash`);return!0}function qp(...e){return Ti(Ar(e))}function Jp(e){try{let t=Ad.decode(e);if(t.type===`naddr`){let e=t.data;return`${e.kind}:${e.pubkey}:${e.identifier}`}return e}catch{return e}}var Yp=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Z=s(((e,t)=>{t.exports=Yp()}))(),Xp=(0,b.createContext)(void 0);const Zp=({children:e})=>{let[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)(null),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(null),p=(0,b.useCallback)(e=>{n(e.app),i(e.space),o(e.isAuthor),c(()=>e.onViewEditSource),u(()=>e.onInvite),f(()=>e.onExit)},[]);return(0,Z.jsx)(Xp.Provider,{value:{app:t,space:r,isAuthor:a,onViewEditSource:s,onInvite:l,onExit:d,setAppActions:p},children:e})},Qp=()=>{let e=(0,b.useContext)(Xp);if(e===void 0)throw Error(`useAppActions must be used within AppActionsProvider`);return e};var $p=Object.defineProperty,em=(e,t)=>{for(var n in t)$p(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})};function tm(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function nm(e,...t){if(!(e instanceof Uint8Array))throw Error(`Expected Uint8Array`);if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function rm(e){if(typeof e!=`function`||typeof e.create!=`function`)throw Error(`Hash should be wrapped by utils.wrapConstructor`);tm(e.outputLen),tm(e.blockLen)}function im(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function am(e,t){nm(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}var om=typeof globalThis==`object`&&`crypto`in globalThis?globalThis.crypto:void 0,sm=e=>e instanceof Uint8Array,cm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),lm=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);function um(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function dm(e){if(typeof e==`string`&&(e=um(e)),!sm(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function fm(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!sm(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}var pm=class{clone(){return this._cloneInto()}};({}).toString;function mm(e){let t=t=>e().update(dm(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function hm(e=32){if(om&&typeof om.getRandomValues==`function`)return om.getRandomValues(new Uint8Array(e));throw Error(`crypto.getRandomValues must be defined`)}function gm(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var _m=class extends pm{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cm(this.buffer)}update(e){im(this);let{view:t,buffer:n,blockLen:r}=this;e=dm(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o===r){let t=cm(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){im(this),am(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;gm(n,r-8,BigInt(this.length*8),i),this.process(n,0);let o=cm(e),s=this.outputLen;if(s%4)throw Error(`_sha2: outputLen should be aligned to 32bit`);let c=s/4,l=this.get();if(c>l.length)throw Error(`_sha2: outputLen bigger than state`);for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||=new this.constructor,e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}},vm=(e,t,n)=>e&t^~e&n,ym=(e,t,n)=>e&t^e&n^t&n,bm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sm=new Uint32Array(64),Cm=class extends _m{constructor(){super(64,32,8,!1),this.A=xm[0]|0,this.B=xm[1]|0,this.C=xm[2]|0,this.D=xm[3]|0,this.E=xm[4]|0,this.F=xm[5]|0,this.G=xm[6]|0,this.H=xm[7]|0}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:s}=this;return[e,t,n,r,i,a,o,s]}set(e,t,n,r,i,a,o,s){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=s|0}process(e,t){for(let n=0;n<16;n++,t+=4)Sm[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=Sm[e-15],n=Sm[e-2],r=lm(t,7)^lm(t,18)^t>>>3;Sm[e]=(lm(n,17)^lm(n,19)^n>>>10)+Sm[e-7]+r+Sm[e-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){let t=lm(o,6)^lm(o,11)^lm(o,25),u=l+t+vm(o,s,c)+bm[e]+Sm[e]|0,d=(lm(n,2)^lm(n,13)^lm(n,22))+ym(n,r,i)|0;l=c,c=s,s=o,o=a+u|0,a=i,i=r,r=n,n=u+d|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,o,s,c,l)}roundClean(){Sm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},wm=mm(()=>new Cm),Tm={};em(Tm,{validateObject:()=>Qm,utf8ToBytes:()=>Um,numberToVarBytesBE:()=>zm,numberToHexUnpadded:()=>Mm,numberToBytesLE:()=>Rm,numberToBytesBE:()=>Lm,hexToNumber:()=>Nm,hexToBytes:()=>Pm,equalBytes:()=>Hm,ensureBytes:()=>Bm,createHmacDrbg:()=>Xm,concatBytes:()=>Vm,bytesToNumberLE:()=>Im,bytesToNumberBE:()=>Fm,bytesToHex:()=>jm,bitSet:()=>Km,bitMask:()=>qm,bitLen:()=>Wm,bitGet:()=>Gm});var Em=BigInt(0),Dm=BigInt(1),Om=BigInt(2),km=e=>e instanceof Uint8Array,Am=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function jm(e){if(!km(e))throw Error(`Uint8Array expected`);let t=``;for(let n=0;n<e.length;n++)t+=Am[e[n]];return t}function Mm(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Nm(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);return BigInt(e===``?`0`:`0x${e}`)}function Pm(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){let r=t*2,i=e.slice(r,r+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw Error(`Invalid byte sequence`);n[t]=a}return n}function Fm(e){return Nm(jm(e))}function Im(e){if(!km(e))throw Error(`Uint8Array expected`);return Nm(jm(Uint8Array.from(e).reverse()))}function Lm(e,t){return Pm(e.toString(16).padStart(t*2,`0`))}function Rm(e,t){return Lm(e,t).reverse()}function zm(e){return Pm(Mm(e))}function Bm(e,t,n){let r;if(typeof t==`string`)try{r=Pm(t)}catch(n){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else if(km(t))r=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=r.length;if(typeof n==`number`&&i!==n)throw Error(`${e} expected ${n} bytes, got ${i}`);return r}function Vm(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!km(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}function Hm(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Um(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Wm(e){let t;for(t=0;e>Em;e>>=Dm,t+=1);return t}function Gm(e,t){return e>>BigInt(t)&Dm}var Km=(e,t,n)=>e|(n?Dm:Em)<<BigInt(t),qm=e=>(Om<<BigInt(e-1))-Dm,Jm=e=>new Uint8Array(e),Ym=e=>Uint8Array.from(e);function Xm(e,t,n){if(typeof e!=`number`||e<2)throw Error(`hashLen must be a number`);if(typeof t!=`number`||t<2)throw Error(`qByteLen must be a number`);if(typeof n!=`function`)throw Error(`hmacFn must be a function`);let r=Jm(e),i=Jm(e),a=0,o=()=>{r.fill(1),i.fill(0),a=0},s=(...e)=>n(i,r,...e),c=(e=Jm())=>{i=s(Ym([0]),e),r=s(),e.length!==0&&(i=s(Ym([1]),e),r=s())},l=()=>{if(a++>=1e3)throw Error(`drbg: tried 1000 values`);let e=0,n=[];for(;e<t;){r=s();let t=r.slice();n.push(t),e+=r.length}return Vm(...n)};return(e,t)=>{o(),c(e);let n;for(;!(n=t(l()));)c();return o(),n}}var Zm={bigint:e=>typeof e==`bigint`,function:e=>typeof e==`function`,boolean:e=>typeof e==`boolean`,string:e=>typeof e==`string`,stringOrUint8Array:e=>typeof e==`string`||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e==`function`&&Number.isSafeInteger(e.outputLen)};function Qm(e,t,n={}){let r=(t,n,r)=>{let i=Zm[n];if(typeof i!=`function`)throw Error(`Invalid validator "${n}", expected function`);let a=e[t];if(!(r&&a===void 0)&&!i(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${n}`)};for(let[e,n]of Object.entries(t))r(e,n,!1);for(let[e,t]of Object.entries(n))r(e,t,!0);return e}var $m=BigInt(0),eh=BigInt(1),th=BigInt(2),nh=BigInt(3),rh=BigInt(4),ih=BigInt(5),ah=BigInt(8);BigInt(9);var oh=BigInt(16);function sh(e,t){let n=e%t;return n>=$m?n:t+n}function ch(e,t,n){if(n<=$m||t<$m)throw Error(`Expected power/modulo > 0`);if(n===eh)return $m;let r=eh;for(;t>$m;)t&eh&&(r=r*e%n),e=e*e%n,t>>=eh;return r}function lh(e,t,n){let r=e;for(;t-- >$m;)r*=r,r%=n;return r}function uh(e,t){if(e===$m||t<=$m)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=sh(e,t),r=t,i=$m,a=eh,o=eh,s=$m;for(;n!==$m;){let e=r/n,t=r%n,c=i-o*e,l=a-s*e;r=n,n=t,i=o,a=s,o=c,s=l}if(r!==eh)throw Error(`invert: does not exist`);return sh(i,t)}function dh(e){let t=(e-eh)/th,n,r,i;for(n=e-eh,r=0;n%th===$m;n/=th,r++);for(i=th;i<e&&ch(i,t,e)!==e-eh;i++);if(r===1){let t=(e+eh)/rh;return function(e,n){let r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error(`Cannot find square root`);return r}}let a=(n+eh)/th;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw Error(`Cannot find square root`);let s=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,a),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);let n=e.pow(c,eh<<BigInt(s-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),s=t}return l}}function fh(e){if(e%rh===nh){let t=(e+eh)/rh;return function(e,n){let r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw Error(`Cannot find square root`);return r}}if(e%ah===ih){let t=(e-ih)/ah;return function(e,n){let r=e.mul(n,th),i=e.pow(r,t),a=e.mul(n,i),o=e.mul(e.mul(a,th),i),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),n))throw Error(`Cannot find square root`);return s}}return e%oh,dh(e)}var ph=[`create`,`isValid`,`is0`,`neg`,`inv`,`sqrt`,`sqr`,`eql`,`add`,`sub`,`mul`,`pow`,`div`,`addN`,`subN`,`mulN`,`sqrN`];function mh(e){return Qm(e,ph.reduce((e,t)=>(e[t]=`function`,e),{ORDER:`bigint`,MASK:`bigint`,BYTES:`isSafeInteger`,BITS:`isSafeInteger`}))}function hh(e,t,n){if(n<$m)throw Error(`Expected power > 0`);if(n===$m)return e.ONE;if(n===eh)return t;let r=e.ONE,i=t;for(;n>$m;)n&eh&&(r=e.mul(r,i)),i=e.sqr(i),n>>=eh;return r}function gh(e,t){let n=Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}function _h(e,t){let n=t===void 0?e.toString(2).length:t;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function vh(e,t,n=!1,r={}){if(e<=$m)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=_h(e,t);if(a>2048)throw Error(`Field lengths over 2048 bytes are not supported`);let o=fh(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:qm(i),ZERO:$m,ONE:eh,create:t=>sh(t,e),isValid:t=>{if(typeof t!=`bigint`)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return $m<=t&&t<e},is0:e=>e===$m,isOdd:e=>(e&eh)===eh,neg:t=>sh(-t,e),eql:(e,t)=>e===t,sqr:t=>sh(t*t,e),add:(t,n)=>sh(t+n,e),sub:(t,n)=>sh(t-n,e),mul:(t,n)=>sh(t*n,e),pow:(e,t)=>hh(s,e,t),div:(t,n)=>sh(t*uh(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>uh(t,e),sqrt:r.sqrt||(e=>o(s,e)),invertBatch:e=>gh(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Rm(e,a):Lm(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?Im(e):Fm(e)}});return Object.freeze(s)}function yh(e){if(typeof e!=`bigint`)throw Error(`field order must be bigint`);let t=e.toString(2).length;return Math.ceil(t/8)}function bh(e){let t=yh(e);return t+Math.ceil(t/2)}function xh(e,t,n=!1){let r=e.length,i=yh(t),a=bh(t);if(r<16||r<a||r>1024)throw Error(`expected ${a}-1024 bytes of input, got ${r}`);let o=sh(n?Fm(e):Im(e),t-eh)+eh;return n?Rm(o,i):Lm(o,i)}var Sh=BigInt(0),Ch=BigInt(1);function wh(e,t){let n=(e,t)=>{let n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Sh;)n&Ch&&(r=r.add(i)),i=i.double(),n>>=Ch;return r},precomputeWindow(e,t){let{windows:n,windowSize:i}=r(t),a=[],o=e,s=o;for(let e=0;e<n;e++){s=o,a.push(s);for(let e=1;e<i;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(t,i,a){let{windows:o,windowSize:s}=r(t),c=e.ZERO,l=e.BASE,u=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<o;e++){let t=e*s,r=Number(a&u);a>>=f,r>s&&(r-=d,a+=Ch);let o=t,p=t+Math.abs(r)-1,m=e%2!=0,h=r<0;r===0?l=l.add(n(m,i[o])):c=c.add(n(h,i[p]))}return{p:c,f:l}},wNAFCached(e,t,n,r){let i=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,i),i!==1&&t.set(e,r(a))),this.wNAF(i,a,n)}}}function Th(e){return mh(e.Fp),Qm(e,{n:`bigint`,h:`bigint`,Gx:`field`,Gy:`field`},{nBitLength:`isSafeInteger`,nByteLength:`isSafeInteger`}),Object.freeze({..._h(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Eh(e){let t=Th(e);Qm(t,{a:`field`,b:`field`},{allowedPrivateKeyLengths:`array`,wrapPrivateKey:`boolean`,isTorsionFree:`function`,clearCofactor:`function`,allowInfinityPoint:`boolean`,fromBytes:`function`,toBytes:`function`});let{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw Error(`Endomorphism can only be defined for Koblitz curves that have a=0`);if(typeof n!=`object`||typeof n.beta!=`bigint`||typeof n.splitScalar!=`function`)throw Error(`Expected endomorphism with beta: bigint and splitScalar: function`)}return Object.freeze({...t})}var{bytesToNumberBE:Dh,hexToBytes:Oh}=Tm,kh={Err:class extends Error{constructor(e=``){super(e)}},_parseInt(e){let{Err:t}=kh;if(e.length<2||e[0]!==2)throw new t(`Invalid signature integer tag`);let n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t(`Invalid signature integer: wrong length`);if(r[0]&128)throw new t(`Invalid signature integer: negative`);if(r[0]===0&&!(r[1]&128))throw new t(`Invalid signature integer: unnecessary leading zero`);return{d:Dh(r),l:e.subarray(n+2)}},toSig(e){let{Err:t}=kh,n=typeof e==`string`?Oh(e):e;if(!(n instanceof Uint8Array))throw Error(`ui8a expected`);let r=n.length;if(r<2||n[0]!=48)throw new t(`Invalid signature tag`);if(n[1]!==r-2)throw new t(`Invalid signature: incorrect length`);let{d:i,l:a}=kh._parseInt(n.subarray(2)),{d:o,l:s}=kh._parseInt(a);if(s.length)throw new t(`Invalid signature: left bytes after parsing`);return{r:i,s:o}},hexFromSig(e){let t=e=>Number.parseInt(e[0],16)&8?`00`+e:e,n=e=>{let t=e.toString(16);return t.length&1?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),a=r.length/2,o=i.length/2,s=n(a),c=n(o);return`30${n(o+a+4)}02${c}${i}02${s}${r}`}},Ah=BigInt(0),jh=BigInt(1),Mh=BigInt(3);function Nh(e){let t=Eh(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{let i=t.toAffine();return Vm(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){let{a:r,b:i}=t,a=n.sqr(e),o=n.mul(a,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw Error(`bad generator point: equation left != right`);function o(e){return typeof e==`bigint`&&Ah<e&&e<t.n}function s(e){if(!o(e))throw Error(`Expected valid bigint: 0 < bigint < curve.n`)}function c(e){let{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:a}=t;if(n&&typeof e!=`bigint`){if(e instanceof Uint8Array&&(e=jm(e)),typeof e!=`string`||!n.includes(e.length))throw Error(`Invalid key`);e=e.padStart(r*2,`0`)}let o;try{o=typeof e==`bigint`?e:Fm(Bm(`private key`,e,r))}catch{throw Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=sh(o,a)),s(o),o}let l=new Map;function u(e){if(!(e instanceof d))throw Error(`ProjectivePoint expected`)}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,e==null||!n.isValid(e))throw Error(`x required`);if(t==null||!n.isValid(t))throw Error(`y required`);if(r==null||!n.isValid(r))throw Error(`z required`)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error(`invalid affine point`);if(e instanceof d)throw Error(`projective point not allowed`);let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(Bm(`pointHex`,e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw Error(`bad point: ZERO`)}let{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw Error(`bad point: x or y not FE`);let i=n.sqr(r),o=a(e);if(!n.eql(i,o))throw Error(`bad point: equation left != right`);if(!this.isTorsionFree())throw Error(`bad point: not in prime-order subgroup`)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error(`Field doesn't support isOdd`)}equals(e){u(e);let{px:t,py:r,pz:i}=this,{px:a,py:o,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(a,i)),l=n.eql(n.mul(r,s),n.mul(o,i));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:r}=t,i=n.mul(r,Mh),{px:a,py:o,pz:s}=this,{ZERO:c,ZERO:l,ZERO:u}=n,f=n.mul(a,a),p=n.mul(o,o),m=n.mul(s,s),h=n.mul(a,o);return h=n.add(h,h),u=n.mul(a,s),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,m),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),l=n.mul(c,l),c=n.mul(h,c),u=n.mul(i,u),m=n.mul(e,m),h=n.sub(f,m),h=n.mul(e,h),h=n.add(h,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,m),f=n.mul(f,h),l=n.add(l,f),m=n.mul(o,s),m=n.add(m,m),f=n.mul(m,h),c=n.sub(c,f),u=n.mul(m,p),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){u(e);let{px:r,py:i,pz:a}=this,{px:o,py:s,pz:c}=e,{ZERO:l,ZERO:f,ZERO:p}=n,m=t.a,h=n.mul(t.b,Mh),g=n.mul(r,o),_=n.mul(i,s),v=n.mul(a,c),y=n.add(r,i),b=n.add(o,s);y=n.mul(y,b),b=n.add(g,_),y=n.sub(y,b),b=n.add(r,a);let x=n.add(o,c);return b=n.mul(b,x),x=n.add(g,v),b=n.sub(b,x),x=n.add(i,a),l=n.add(s,c),x=n.mul(x,l),l=n.add(_,v),x=n.sub(x,l),p=n.mul(m,b),l=n.mul(h,v),p=n.add(l,p),l=n.sub(_,p),p=n.add(_,p),f=n.mul(l,p),_=n.add(g,g),_=n.add(_,g),v=n.mul(m,v),b=n.mul(h,b),_=n.add(_,v),v=n.sub(g,v),v=n.mul(m,v),b=n.add(b,v),g=n.mul(_,b),f=n.add(f,g),g=n.mul(x,b),l=n.mul(y,l),l=n.sub(l,g),g=n.mul(y,_),p=n.mul(x,p),p=n.add(p,g),new d(l,f,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,l,e,e=>{let t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)})}multiplyUnsafe(e){let r=d.ZERO;if(e===Ah)return r;if(s(e),e===jh)return this;let{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:a,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=r,f=r,m=this;for(;o>Ah||l>Ah;)o&jh&&(u=u.add(m)),l&jh&&(f=f.add(m)),m=m.double(),o>>=jh,l>>=jh;return a&&(u=u.negate()),c&&(f=f.negate()),f=new d(n.mul(f.px,i.beta),f.py,f.pz),u.add(f)}multiply(e){s(e);let r=e,i,a,{endo:o}=t;if(o){let{k1neg:e,k1:t,k2neg:s,k2:c}=o.splitScalar(r),{p:l,f:u}=this.wNAF(t),{p:f,f:m}=this.wNAF(c);l=p.constTimeNegate(e,l),f=p.constTimeNegate(s,f),f=new d(n.mul(f.px,o.beta),f.py,f.pz),i=l.add(f),a=u.add(m)}else{let{p:e,f:t}=this.wNAF(r);i=e,a=t}return d.normalizeZ([i,a])[0]}multiplyAndAddUnsafe(e,t,n){let r=d.BASE,i=(e,t)=>t===Ah||t===jh||!e.equals(r)?e.multiplyUnsafe(t):e.multiply(t),a=i(this,t).add(i(e,n));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:i}=this,a=this.is0();e??=a?n.ONE:n.inv(i);let o=n.mul(t,e),s=n.mul(r,e),c=n.mul(i,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error(`invZ was invalid`);return{x:o,y:s}}isTorsionFree(){let{h:e,isTorsionFree:n}=t;if(e===jh)return!0;if(n)return n(d,this);throw Error(`isTorsionFree() has not been declared for the elliptic curve`)}clearCofactor(){let{h:e,clearCofactor:n}=t;return e===jh?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return jm(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let f=t.nBitLength,p=wh(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:o}}function Ph(e){let t=Th(e);return Qm(t,{hash:`hash`,hmac:`function`,randomBytes:`function`},{bits2int:`function`,bits2int_modN:`function`,lowS:`boolean`}),Object.freeze({lowS:!0,...t})}function Fh(e){let t=Ph(e),{Fp:n,n:r}=t,i=n.BYTES+1,a=2*n.BYTES+1;function o(e){return Ah<e&&e<n.ORDER}function s(e){return sh(e,r)}function c(e){return uh(e,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=Nh({...t,toBytes(e,t,r){let i=t.toAffine(),a=n.toBytes(i.x),o=Vm;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],s=e.subarray(1);if(t===i&&(r===2||r===3)){let e=Fm(s);if(!o(e))throw Error(`Point is not on curve`);let t=d(e),i=n.sqrt(t),a=(i&jh)===jh;return(r&1)==1!==a&&(i=n.neg(i)),{x:e,y:i}}else if(t===a&&r===4)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};else throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),p=e=>jm(Lm(e,t.nByteLength));function m(e){return e>r>>jh}function h(e){return m(e)?s(-e):e}let g=(e,t,n)=>Fm(e.slice(t,n));class _{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){let n=t.nByteLength;return e=Bm(`compactSignature`,e,n*2),new _(g(e,0,n),g(e,n,2*n))}static fromDER(e){let{r:t,s:n}=kh.toSig(Bm(`DER`,e));return new _(t,n)}assertValidity(){if(!f(this.r))throw Error(`r must be 0 < r < CURVE.n`);if(!f(this.s))throw Error(`s must be 0 < s < CURVE.n`)}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){let{r,s:i,recovery:a}=this,o=C(Bm(`msgHash`,e));if(a==null||![0,1,2,3].includes(a))throw Error(`recovery id invalid`);let u=a===2||a===3?r+t.n:r;if(u>=n.ORDER)throw Error(`recovery id 2 or 3 invalid`);let d=a&1?`03`:`02`,f=l.fromHex(d+p(u)),m=c(u),h=s(-o*m),g=s(i*m),_=l.BASE.multiplyAndAddUnsafe(f,h,g);if(!_)throw Error(`point at infinify`);return _.assertValidity(),_}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Pm(this.toDERHex())}toDERHex(){return kh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pm(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let v={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=bh(t.n);return xh(t.randomBytes(e),t.n)},precompute(e=8,t=l.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)}function b(e){let t=e instanceof Uint8Array,n=typeof e==`string`,r=(t||n)&&e.length;return t?r===i||r===a:n?r===2*i||r===2*a:e instanceof l}function x(e,t,n=!0){if(b(e))throw Error(`first arg must be private key`);if(!b(t))throw Error(`second arg must be public key`);return l.fromHex(t).multiply(u(e)).toRawBytes(n)}let S=t.bits2int||function(e){let n=Fm(e),r=e.length*8-t.nBitLength;return r>0?n>>BigInt(r):n},C=t.bits2int_modN||function(e){return s(S(e))},w=qm(t.nBitLength);function T(e){if(typeof e!=`bigint`)throw Error(`bigint expected`);if(!(Ah<=e&&e<w))throw Error(`bigint expected < 2^${t.nBitLength}`);return Lm(e,t.nByteLength)}function E(e,r,i=D){if([`recovered`,`canonical`].some(e=>e in i))throw Error(`sign() legacy options not supported`);let{hash:a,randomBytes:o}=t,{lowS:d,prehash:p,extraEntropy:g}=i;d??=!0,e=Bm(`msgHash`,e),p&&(e=Bm(`prehashed msgHash`,a(e)));let v=C(e),y=u(r),b=[T(y),T(v)];if(g!=null){let e=g===!0?o(n.BYTES):g;b.push(Bm(`extraEntropy`,e))}let x=Vm(...b),w=v;function E(e){let t=S(e);if(!f(t))return;let n=c(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Ah)return;let a=s(n*s(w+i*y));if(a===Ah)return;let o=(r.x===i?0:2)|Number(r.y&jh),u=a;return d&&m(a)&&(u=h(a),o^=1),new _(i,u,o)}return{seed:x,k2sig:E}}let D={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function k(e,n,r=D){let{seed:i,k2sig:a}=E(e,n,r),o=t;return Xm(o.hash.outputLen,o.nByteLength,o.hmac)(i,a)}l.BASE._setWindowSize(8);function A(e,n,r,i=O){let a=e;if(n=Bm(`msgHash`,n),r=Bm(`publicKey`,r),`strict`in i)throw Error(`options.strict was renamed to lowS`);let{lowS:o,prehash:u}=i,d,f;try{if(typeof a==`string`||a instanceof Uint8Array)try{d=_.fromDER(a)}catch(e){if(!(e instanceof kh.Err))throw e;d=_.fromCompact(a)}else if(typeof a==`object`&&typeof a.r==`bigint`&&typeof a.s==`bigint`){let{r:e,s:t}=a;d=new _(e,t)}else throw Error(`PARSE`);f=l.fromHex(r)}catch(e){if(e.message===`PARSE`)throw Error(`signature must be Signature instance, Uint8Array or hex string`);return!1}if(o&&d.hasHighS())return!1;u&&(n=t.hash(n));let{r:p,s:m}=d,h=C(n),g=c(m),v=s(h*g),y=s(p*g),b=l.BASE.multiplyAndAddUnsafe(f,v,y)?.toAffine();return b?s(b.x)===p:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:x,sign:k,verify:A,ProjectivePoint:l,Signature:_,utils:v}}var Ih=class extends pm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rm(e);let n=dm(t);if(this.iHash=e.create(),typeof this.iHash.update!=`function`)throw Error(`Expected instance of class which extends utils.Hash`);this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return im(this),this.iHash.update(e),this}digestInto(e){im(this),nm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Lh=(e,t,n)=>new Ih(e,t).update(n).digest();Lh.create=(e,t)=>new Ih(e,t);function Rh(e){return{hash:e,hmac:(t,...n)=>Lh(e,t,fm(...n)),randomBytes:hm}}function zh(e,t){let n=t=>Fh({...e,...Rh(t)});return Object.freeze({...n(t),create:n})}var Bh=BigInt(`0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f`),Vh=BigInt(`0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141`),Hh=BigInt(1),Uh=BigInt(2),Wh=(e,t)=>(e+t/Uh)/t;function Gh(e){let t=Bh,n=BigInt(3),r=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=lh(lh(lh(u,n,t)*u%t,n,t)*u%t,Uh,t)*l%t,f=lh(d,i,t)*d%t,p=lh(f,a,t)*f%t,m=lh(p,s,t)*p%t,h=lh(lh(lh(lh(lh(lh(m,c,t)*m%t,s,t)*p%t,n,t)*u%t,o,t)*f%t,r,t)*l%t,Uh,t);if(!Kh.eql(Kh.sqr(h),e))throw Error(`Cannot find square root`);return h}var Kh=vh(Bh,void 0,void 0,{sqrt:Gh}),qh=zh({a:BigInt(0),b:BigInt(7),Fp:Kh,n:Vh,Gx:BigInt(`55066263022277343669578718895168534326250603453777594175500187360389116729240`),Gy:BigInt(`32670510020758816978083085130507043184471273380659243275938904335757337482424`),h:BigInt(1),lowS:!0,endo:{beta:BigInt(`0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee`),splitScalar:e=>{let t=Vh,n=BigInt(`0x3086d221a7d46bcde86c90e49284eb15`),r=-Hh*BigInt(`0xe4437ed6010e88286f547fa90abfe4c3`),i=BigInt(`0x114ca50f7a8e2f3f657c1108d9d44cfd8`),a=n,o=BigInt(`0x100000000000000000000000000000000`),s=Wh(a*e,t),c=Wh(-r*e,t),l=sh(e-s*n-c*i,t),u=sh(-s*r-c*a,t),d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw Error(`splitScalar: Endomorphism failed, k=`+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},wm),Jh=BigInt(0),Yh=e=>typeof e==`bigint`&&Jh<e&&e<Bh,Xh=e=>typeof e==`bigint`&&Jh<e&&e<Vh,Zh={};function Qh(e,...t){let n=Zh[e];if(n===void 0){let t=wm(Uint8Array.from(e,e=>e.charCodeAt(0)));n=Vm(t,t),Zh[e]=n}return wm(Vm(n,...t))}var $h=e=>e.toRawBytes(!0).slice(1),eg=e=>Lm(e,32),tg=e=>sh(e,Bh),ng=e=>sh(e,Vh),rg=qh.ProjectivePoint,ig=(e,t,n)=>rg.BASE.multiplyAndAddUnsafe(e,t,n);function ag(e){let t=qh.utils.normPrivateKeyToScalar(e),n=rg.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:ng(-t),bytes:$h(n)}}function og(e){if(!Yh(e))throw Error(`bad x: need 0 < x < p`);let t=Gh(tg(tg(e*e)*e+BigInt(7)));t%Uh!==Jh&&(t=tg(-t));let n=new rg(e,t,Hh);return n.assertValidity(),n}function sg(...e){return ng(Fm(Qh(`BIP0340/challenge`,...e)))}function cg(e){return ag(e).bytes}function lg(e,t,n=hm(32)){let r=Bm(`message`,e),{bytes:i,scalar:a}=ag(t),o=ng(Fm(Qh(`BIP0340/nonce`,eg(a^Fm(Qh(`BIP0340/aux`,Bm(`auxRand`,n,32)))),i,r)));if(o===Jh)throw Error(`sign failed: k is zero`);let{bytes:s,scalar:c}=ag(o),l=sg(s,i,r),u=new Uint8Array(64);if(u.set(s,0),u.set(eg(ng(c+l*a)),32),!ug(u,r,i))throw Error(`sign: Invalid signature produced`);return u}function ug(e,t,n){let r=Bm(`signature`,e,64),i=Bm(`message`,t),a=Bm(`publicKey`,n,32);try{let e=og(Fm(a)),t=Fm(r.subarray(0,32));if(!Yh(t))return!1;let n=Fm(r.subarray(32,64));if(!Xh(n))return!1;let o=ig(e,n,ng(-sg(eg(t),$h(e),i)));return!(!o||!o.hasEvenY()||o.toAffine().x!==t)}catch{return!1}}var dg=(()=>({getPublicKey:cg,sign:lg,verify:ug,utils:{randomPrivateKey:qh.utils.randomPrivateKey,lift_x:og,pointToBytes:$h,numberToBytesBE:Lm,bytesToNumberBE:Fm,taggedHash:Qh,mod:sh}}))(),fg=typeof globalThis==`object`&&`crypto`in globalThis?globalThis.crypto:void 0,pg=e=>e instanceof Uint8Array,mg=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),hg=(e,t)=>e<<32-t|e>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);var gg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function _g(e){if(!pg(e))throw Error(`Uint8Array expected`);let t=``;for(let n=0;n<e.length;n++)t+=gg[e[n]];return t}function vg(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){let r=t*2,i=e.slice(r,r+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw Error(`Invalid byte sequence`);n[t]=a}return n}function yg(e){if(typeof e!=`string`)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bg(e){if(typeof e==`string`&&(e=yg(e)),!pg(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}function xg(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;return e.forEach(e=>{if(!pg(e))throw Error(`Uint8Array expected`);t.set(e,n),n+=e.length}),t}var Sg=class{clone(){return this._cloneInto()}};function Cg(e){let t=t=>e().update(bg(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function wg(e=32){if(fg&&typeof fg.getRandomValues==`function`)return fg.getRandomValues(new Uint8Array(e));throw Error(`crypto.getRandomValues must be defined`)}function Tg(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function Eg(e){if(typeof e!=`boolean`)throw Error(`Expected boolean, not ${e}`)}function Dg(e,...t){if(!(e instanceof Uint8Array))throw Error(`Expected Uint8Array`);if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Og(e){if(typeof e!=`function`||typeof e.create!=`function`)throw Error(`Hash should be wrapped by utils.wrapConstructor`);Tg(e.outputLen),Tg(e.blockLen)}function kg(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function Ag(e,t){Dg(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}var jg={number:Tg,bool:Eg,bytes:Dg,hash:Og,exists:kg,output:Ag};function Mg(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var Ng=class extends Sg{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=mg(this.buffer)}update(e){jg.exists(this);let{view:t,buffer:n,blockLen:r}=this;e=bg(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);if(o===r){let t=mg(e);for(;r<=i-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jg.exists(this),jg.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:r,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;Mg(n,r-8,BigInt(this.length*8),i),this.process(n,0);let o=mg(e),s=this.outputLen;if(s%4)throw Error(`_sha2: outputLen should be aligned to 32bit`);let c=s/4,l=this.get();if(c>l.length)throw Error(`_sha2: outputLen bigger than state`);for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||=new this.constructor,e.set(...this.get());let{blockLen:t,buffer:n,length:r,finished:i,destroyed:a,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=a,r%t&&e.buffer.set(n),e}},Pg=(e,t,n)=>e&t^~e&n,Fg=(e,t,n)=>e&t^e&n^t&n,Ig=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rg=new Uint32Array(64),zg=class extends Ng{constructor(){super(64,32,8,!1),this.A=Lg[0]|0,this.B=Lg[1]|0,this.C=Lg[2]|0,this.D=Lg[3]|0,this.E=Lg[4]|0,this.F=Lg[5]|0,this.G=Lg[6]|0,this.H=Lg[7]|0}get(){let{A:e,B:t,C:n,D:r,E:i,F:a,G:o,H:s}=this;return[e,t,n,r,i,a,o,s]}set(e,t,n,r,i,a,o,s){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=s|0}process(e,t){for(let n=0;n<16;n++,t+=4)Rg[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=Rg[e-15],n=Rg[e-2],r=hg(t,7)^hg(t,18)^t>>>3;Rg[e]=(hg(n,17)^hg(n,19)^n>>>10)+Rg[e-7]+r+Rg[e-16]|0}let{A:n,B:r,C:i,D:a,E:o,F:s,G:c,H:l}=this;for(let e=0;e<64;e++){let t=hg(o,6)^hg(o,11)^hg(o,25),u=l+t+Pg(o,s,c)+Ig[e]+Rg[e]|0,d=(hg(n,2)^hg(n,13)^hg(n,22))+Fg(n,r,i)|0;l=c,c=s,s=o,o=a+u|0,a=i,i=r,r=n,n=u+d|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,a,o,s,c,l)}roundClean(){Rg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Bg=class extends zg{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Vg=Cg(()=>new zg);Cg(()=>new Bg);function Hg(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)}function Ug(...e){let t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce((e,n)=>e?t(e,n.encode):n.encode,void 0),decode:e.reduce((e,n)=>e?t(e,n.decode):n.decode,void 0)}}function Wg(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`number`)throw Error(`alphabet.encode input should be an array of numbers`);return t.map(t=>{if(Hg(t),t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`string`)throw Error(`alphabet.decode input should be array of strings`);return t.map(t=>{if(typeof t!=`string`)throw Error(`alphabet.decode: not string element=${t}`);let n=e.indexOf(t);if(n===-1)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})}}}function Gg(e=``){if(typeof e!=`string`)throw Error(`join separator should be string`);return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`string`)throw Error(`join.encode input should be array of strings`);for(let e of t)if(typeof e!=`string`)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(typeof t!=`string`)throw Error(`join.decode input should be string`);return t.split(e)}}}function Kg(e,t=`=`){if(Hg(e),typeof t!=`string`)throw Error(`padding chr should be string`);return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!=`string`)throw Error(`padding.encode input should be array of strings`);for(let e of n)if(typeof e!=`string`)throw Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!=`string`)throw Error(`padding.encode input should be array of strings`);for(let e of n)if(typeof e!=`string`)throw Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw Error(`Invalid padding: string should have whole number of bytes`);for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw Error(`Invalid padding: string has too much padding`);return n.slice(0,r)}}}function qg(e){if(typeof e!=`function`)throw Error(`normalize fn should be function`);return{encode:e=>e,decode:t=>e(t)}}function Jg(e,t,n){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw Error(`convertRadix: data should be array`);if(!e.length)return[];let r=0,i=[],a=Array.from(e);for(a.forEach(e=>{if(Hg(e),e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,o=!0;for(let i=r;i<a.length;i++){let s=a[i],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!==t*e||(e=c%n,a[i]=Math.floor(c/n),!Number.isSafeInteger(a[i])||a[i]*n+e!==c))throw Error(`convertRadix: carry overflow`);if(o)a[i]?o=!1:r=i;else continue}if(i.push(e),o)break}for(let t=0;t<e.length-1&&e[t]===0;t++)i.push(0);return i.reverse()}var Yg=(e,t)=>t?Yg(t,e%t):e,Xg=(e,t)=>e+(t-Yg(e,t));function Zg(e,t,n,r){if(!Array.isArray(e))throw Error(`convertRadix2: data should be array`);if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw Error(`convertRadix2: wrong to=${n}`);if(Xg(t,n)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Xg(t,n)}`);let i=0,a=0,o=2**n-1,s=[];for(let r of e){if(Hg(r),r>=2**t)throw Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,a+t>32)throw Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)s.push((i>>a-n&o)>>>0);i&=2**a-1}if(i=i<<n-a&o,!r&&a>=t)throw Error(`Excess padding`);if(!r&&i)throw Error(`Non-zero padding: ${i}`);return r&&a>0&&s.push(i>>>0),s}function Qg(e){return Hg(e),{encode:t=>{if(!(t instanceof Uint8Array))throw Error(`radix.encode input should be Uint8Array`);return Jg(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!=`number`)throw Error(`radix.decode input should be array of strings`);return Uint8Array.from(Jg(t,e,2**8))}}}function $g(e,t=!1){if(Hg(e),e<=0||e>32)throw Error(`radix2: bits should be in (0..32]`);if(Xg(8,e)>32||Xg(e,8)>32)throw Error(`radix2: carry overflow`);return{encode:n=>{if(!(n instanceof Uint8Array))throw Error(`radix2.encode input should be Uint8Array`);return Zg(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!=`number`)throw Error(`radix2.decode input should be array of strings`);return Uint8Array.from(Zg(n,e,8,t))}}}function e_(e){if(typeof e!=`function`)throw Error(`unsafeWrapper fn should be function`);return function(...t){try{return e.apply(null,t)}catch{}}}var t_=Ug($g(4),Wg(`0123456789ABCDEF`),Gg(``)),n_=Ug($g(5),Wg(`ABCDEFGHIJKLMNOPQRSTUVWXYZ234567`),Kg(5),Gg(``));Ug($g(5),Wg(`0123456789ABCDEFGHIJKLMNOPQRSTUV`),Kg(5),Gg(``)),Ug($g(5),Wg(`0123456789ABCDEFGHJKMNPQRSTVWXYZ`),Gg(``),qg(e=>e.toUpperCase().replace(/O/g,`0`).replace(/[IL]/g,`1`)));var r_=Ug($g(6),Wg(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`),Kg(6),Gg(``)),i_=Ug($g(6),Wg(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`),Kg(6),Gg(``)),a_=e=>Ug(Qg(58),Wg(e),Gg(``)),o_=a_(`123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz`);a_(`123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ`),a_(`rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz`);var s_=[0,2,3,5,6,7,9,10,11],c_={encode(e){let t=``;for(let n=0;n<e.length;n+=8){let r=e.subarray(n,n+8);t+=o_.encode(r).padStart(s_[r.length],`1`)}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){let r=e.slice(n,n+11),i=s_.indexOf(r.length),a=o_.decode(r);for(let e=0;e<a.length-i;e++)if(a[e]!==0)throw Error(`base58xmr: wrong padding`);t=t.concat(Array.from(a.slice(a.length-i)))}return Uint8Array.from(t)}},l_=Ug(Wg(`qpzry9x8gf2tvdw0s3jn54khce6mua7l`),Gg(``)),u_=[996825010,642813549,513874426,1027748829,705979059];function d_(e){let t=e>>25,n=(e&33554431)<<5;for(let e=0;e<u_.length;e++)(t>>e&1)==1&&(n^=u_[e]);return n}function f_(e,t,n=1){let r=e.length,i=1;for(let t=0;t<r;t++){let n=e.charCodeAt(t);if(n<33||n>126)throw Error(`Invalid prefix (${e})`);i=d_(i)^n>>5}i=d_(i);for(let t=0;t<r;t++)i=d_(i)^e.charCodeAt(t)&31;for(let e of t)i=d_(i)^e;for(let e=0;e<6;e++)i=d_(i);return i^=n,l_.encode(Zg([i%2**30],30,5,!1))}function p_(e){let t=e===`bech32`?1:734539939,n=$g(5),r=n.decode,i=n.encode,a=e_(r);function o(e,n,r=90){if(typeof e!=`string`)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(!Array.isArray(n)||n.length&&typeof n[0]!=`number`)throw Error(`bech32.encode words should be array of numbers, not ${typeof n}`);let i=e.length+7+n.length;if(r!==!1&&i>r)throw TypeError(`Length ${i} exceeds limit ${r}`);return e=e.toLowerCase(),`${e}1${l_.encode(n)}${f_(e,n,t)}`}function s(e,n=90){if(typeof e!=`string`)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||n!==!1&&e.length>n)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);let r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw Error(`String must be lowercase or uppercase`);e=r;let i=e.lastIndexOf(`1`);if(i===0||i===-1)throw Error(`Letter "1" must be present between prefix and data only`);let a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)throw Error(`Data must be at least 6 characters long`);let s=l_.decode(o).slice(0,-6),c=f_(a,s,t);if(!o.endsWith(c))throw Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:a,words:s}}let c=e_(s);function l(e){let{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}}return{encode:o,decode:s,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:a,toWords:i}}var m_=p_(`bech32`);p_(`bech32m`);var h_={utf8:{encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex:Ug($g(4),Wg(`0123456789abcdef`),Gg(``),qg(e=>{if(typeof e!=`string`||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),base16:t_,base32:n_,base64:r_,base64url:i_,base58:o_,base58xmr:c_};`${Object.keys(h_).join(`, `)}`;function g_(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function __(e){if(typeof e!=`boolean`)throw Error(`boolean expected, not ${e}`)}function v_(e){return e instanceof Uint8Array||typeof e==`object`&&!!e&&e.constructor.name===`Uint8Array`}function y_(e,...t){if(!v_(e))throw Error(`Uint8Array expected`);if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function b_(e,t=!0){if(e.destroyed)throw Error(`Hash instance has been destroyed`);if(t&&e.finished)throw Error(`Hash#digest() has already been called`)}function x_(e,t){y_(e);let n=t.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}var S_=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Q=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),C_=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw Error(`Non little-endian hardware is not supported`);var w_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,`0`));function T_(e){y_(e);let t=``;for(let n=0;n<e.length;n++)t+=w_[e[n]];return t}var E_={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function D_(e){if(e>=E_._0&&e<=E_._9)return e-E_._0;if(e>=E_._A&&e<=E_._F)return e-(E_._A-10);if(e>=E_._a&&e<=E_._f)return e-(E_._a-10)}function O_(e){if(typeof e!=`string`)throw Error(`hex string expected, got `+typeof e);let t=e.length,n=t/2;if(t%2)throw Error(`padded hex string expected, got unpadded hex of length `+t);let r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){let n=D_(e.charCodeAt(i)),a=D_(e.charCodeAt(i+1));if(n===void 0||a===void 0){let t=e[i]+e[i+1];throw Error(`hex string expected, got non-hex character "`+t+`" at index `+i)}r[t]=n*16+a}return r}function k_(e){if(typeof e!=`string`)throw Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function A_(e){if(typeof e==`string`)e=k_(e);else if(v_(e))e=e.slice();else throw Error(`Uint8Array expected, got ${typeof e}`);return e}function j_(e,t){if(typeof t!=`object`||!t)throw Error(`options must be defined`);return Object.assign(e,t)}function M_(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}var N_=(e,t)=>(Object.assign(t,e),t);function P_(e,t,n,r){if(typeof e.setBigUint64==`function`)return e.setBigUint64(t,n,r);let i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,s,r)}var F_=16,I_=new Uint8Array(16),L_=Q(I_),R_=225,z_=(e,t,n,r)=>{let i=r&1;return{s3:n<<31|r>>>1,s2:t<<31|n>>>1,s1:e<<31|t>>>1,s0:e>>>1^R_<<24&-(i&1)}},B_=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255|0;function V_(e){e.reverse();let t=e[15]&1,n=0;for(let t=0;t<e.length;t++){let r=e[t];e[t]=r>>>1|n,n=(r&1)<<7}return e[0]^=-t&225,e}var H_=e=>e>64*1024?8:e>1024?4:2,U_=class{constructor(e,t){this.blockLen=F_,this.outputLen=F_,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=A_(e),y_(e,16);let n=C_(e),r=n.getUint32(0,!1),i=n.getUint32(4,!1),a=n.getUint32(8,!1),o=n.getUint32(12,!1),s=[];for(let e=0;e<128;e++)s.push({s0:B_(r),s1:B_(i),s2:B_(a),s3:B_(o)}),{s0:r,s1:i,s2:a,s3:o}=z_(r,i,a,o);let c=H_(t||1024);if(![1,2,4,8].includes(c))throw Error(`ghash: wrong window size=${c}, should be 2, 4 or 8`);this.W=c;let l=128/c,u=this.windowSize=2**c,d=[];for(let e=0;e<l;e++)for(let t=0;t<u;t++){let n=0,r=0,i=0,a=0;for(let o=0;o<c;o++){if(!(t>>>c-o-1&1))continue;let{s0:l,s1:u,s2:d,s3:f}=s[c*e+o];n^=l,r^=u,i^=d,a^=f}d.push({s0:n,s1:r,s2:i,s3:a})}this.t=d}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;let{W:i,t:a,windowSize:o}=this,s=0,c=0,l=0,u=0,d=(1<<i)-1,f=0;for(let p of[e,t,n,r])for(let e=0;e<4;e++){let t=p>>>8*e&255;for(let e=8/i-1;e>=0;e--){let n=t>>>i*e&d,{s0:r,s1:p,s2:m,s3:h}=a[f*o+n];s^=r,c^=p,l^=m,u^=h,f+=1}}this.s0=s,this.s1=c,this.s2=l,this.s3=u}update(e){e=A_(e),b_(this);let t=Q(e),n=Math.floor(e.length/F_),r=e.length%F_;for(let e=0;e<n;e++)this._updateBlock(t[e*4+0],t[e*4+1],t[e*4+2],t[e*4+3]);return r&&(I_.set(e.subarray(n*F_)),this._updateBlock(L_[0],L_[1],L_[2],L_[3]),L_.fill(0)),this}destroy(){let{t:e}=this;for(let t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){b_(this),x_(e,this),this.finished=!0;let{s0:t,s1:n,s2:r,s3:i}=this,a=Q(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e}digest(){let e=new Uint8Array(F_);return this.digestInto(e),this.destroy(),e}},W_=class extends U_{constructor(e,t){e=A_(e);let n=V_(e.slice());super(n,t),n.fill(0)}update(e){e=A_(e),b_(this);let t=Q(e),n=e.length%F_,r=Math.floor(e.length/F_);for(let e=0;e<r;e++)this._updateBlock(B_(t[e*4+3]),B_(t[e*4+2]),B_(t[e*4+1]),B_(t[e*4+0]));return n&&(I_.set(e.subarray(r*F_)),this._updateBlock(B_(L_[3]),B_(L_[2]),B_(L_[1]),B_(L_[0])),L_.fill(0)),this}digestInto(e){b_(this),x_(e,this),this.finished=!0;let{s0:t,s1:n,s2:r,s3:i}=this,a=Q(e);return a[0]=t,a[1]=n,a[2]=r,a[3]=i,e.reverse()}};function G_(e){let t=(t,n)=>e(n,t.length).update(A_(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}var K_=G_((e,t)=>new U_(e,t)),q_=G_((e,t)=>new W_(e,t)),J_=16,Y_=4,X_=new Uint8Array(J_),Z_=283;function Q_(e){return e<<1^Z_&-(e>>7)}function $_(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Q_(e);return n}var ev=(()=>{let e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=Q_(n))e[t]=n;let t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),tv=ev.map((e,t)=>ev.indexOf(t)),nv=e=>e<<24|e>>>8,rv=e=>e<<8|e>>>24;function iv(e,t){if(e.length!==256)throw Error(`Wrong sbox length`);let n=new Uint32Array(256).map((n,r)=>t(e[r])),r=n.map(rv),i=r.map(rv),a=i.map(rv),o=new Uint32Array(256*256),s=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let t=0;t<256;t++)for(let l=0;l<256;l++){let u=t*256+l;o[u]=n[t]^r[l],s[u]=i[t]^a[l],c[u]=e[t]<<8|e[l]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:a,T01:o,T23:s}}var av=iv(ev,e=>$_(e,3)<<24|e<<16|e<<8|$_(e,2)),ov=iv(tv,e=>$_(e,11)<<24|$_(e,13)<<16|$_(e,9)<<8|$_(e,14)),sv=(()=>{let e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Q_(n))e[t]=n;return e})();function cv(e){y_(e);let t=e.length;if(![16,24,32].includes(t))throw Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);let{sbox2:n}=av,r=Q(e),i=r.length,a=e=>dv(n,e,e,e,e),o=new Uint32Array(t+28);o.set(r);for(let e=i;e<o.length;e++){let t=o[e-1];e%i===0?t=a(nv(t))^sv[e/i-1]:i>6&&e%i===4&&(t=a(t)),o[e]=o[e-i]^t}return o}function lv(e){let t=cv(e),n=t.slice(),r=t.length,{sbox2:i}=av,{T0:a,T1:o,T2:s,T3:c}=ov;for(let e=0;e<r;e+=4)for(let i=0;i<4;i++)n[e+i]=t[r-e-4+i];t.fill(0);for(let e=4;e<r-4;e++){let t=n[e],r=dv(i,t,t,t,t);n[e]=a[r&255]^o[r>>>8&255]^s[r>>>16&255]^c[r>>>24]}return n}function uv(e,t,n,r,i,a){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|a>>>24&255]}function dv(e,t,n,r,i){return e[t&255|n&65280]|e[r>>>16&255|i>>>16&65280]<<16}function fv(e,t,n,r,i){let{sbox2:a,T01:o,T23:s}=av,c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];let l=e.length/4-2;for(let a=0;a<l;a++){let a=e[c++]^uv(o,s,t,n,r,i),l=e[c++]^uv(o,s,n,r,i,t),u=e[c++]^uv(o,s,r,i,t,n),d=e[c++]^uv(o,s,i,t,n,r);t=a,n=l,r=u,i=d}return{s0:e[c++]^dv(a,t,n,r,i),s1:e[c++]^dv(a,n,r,i,t),s2:e[c++]^dv(a,r,i,t,n),s3:e[c++]^dv(a,i,t,n,r)}}function pv(e,t,n,r,i){let{sbox2:a,T01:o,T23:s}=ov,c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];let l=e.length/4-2;for(let a=0;a<l;a++){let a=e[c++]^uv(o,s,t,i,r,n),l=e[c++]^uv(o,s,n,t,i,r),u=e[c++]^uv(o,s,r,n,t,i),d=e[c++]^uv(o,s,i,r,n,t);t=a,n=l,r=u,i=d}return{s0:e[c++]^dv(a,t,i,r,n),s1:e[c++]^dv(a,n,t,i,r),s2:e[c++]^dv(a,r,n,t,i),s3:e[c++]^dv(a,i,r,n,t)}}function mv(e,t){if(!t)return new Uint8Array(e);if(y_(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function hv(e,t,n,r){y_(t,J_),y_(n);let i=n.length;r=mv(i,r);let a=t,o=Q(a),{s0:s,s1:c,s2:l,s3:u}=fv(e,o[0],o[1],o[2],o[3]),d=Q(n),f=Q(r);for(let t=0;t+4<=d.length;t+=4){f[t+0]=d[t+0]^s,f[t+1]=d[t+1]^c,f[t+2]=d[t+2]^l,f[t+3]=d[t+3]^u;let n=1;for(let e=a.length-1;e>=0;e--)n=n+(a[e]&255)|0,a[e]=n&255,n>>>=8;({s0:s,s1:c,s2:l,s3:u}=fv(e,o[0],o[1],o[2],o[3]))}let p=J_*Math.floor(d.length/Y_);if(p<i){let e=S_(new Uint32Array([s,c,l,u]));for(let t=p,a=0;t<i;t++,a++)r[t]=n[t]^e[a]}return r}function gv(e,t,n,r,i){y_(n,J_),y_(r),i=mv(r.length,i);let a=n,o=Q(a),s=C_(a),c=Q(r),l=Q(i),u=t?0:12,d=r.length,f=s.getUint32(u,t),{s0:p,s1:m,s2:h,s3:g}=fv(e,o[0],o[1],o[2],o[3]);for(let n=0;n+4<=c.length;n+=4)l[n+0]=c[n+0]^p,l[n+1]=c[n+1]^m,l[n+2]=c[n+2]^h,l[n+3]=c[n+3]^g,f=f+1>>>0,s.setUint32(u,f,t),{s0:p,s1:m,s2:h,s3:g}=fv(e,o[0],o[1],o[2],o[3]);let _=J_*Math.floor(c.length/Y_);if(_<d){let e=S_(new Uint32Array([p,m,h,g]));for(let t=_,n=0;t<d;t++,n++)i[t]=r[t]^e[n]}return i}N_({blockSize:16,nonceLength:16},function(e,t){y_(e),y_(t,J_);function n(n,r){let i=cv(e),a=t.slice(),o=hv(i,a,n,r);return i.fill(0),a.fill(0),o}return{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}});function _v(e){if(y_(e),e.length%J_!==0)throw Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${J_}`)}function vv(e,t,n){let r=e.length,i=r%J_;if(!t&&i!==0)throw Error(`aec/(cbc-ecb): unpadded plaintext with disabled padding`);let a=Q(e);if(t){let e=J_-i;e||=J_,r+=e}let o=mv(r,n);return{b:a,o:Q(o),out:o}}function yv(e,t){if(!t)return e;let n=e.length;if(!n)throw Error(`aes/pcks5: empty ciphertext not allowed`);let r=e[n-1];if(r<=0||r>16)throw Error(`aes/pcks5: wrong padding byte: ${r}`);let i=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw Error(`aes/pcks5: wrong padding`);return i}function bv(e){let t=new Uint8Array(16),n=Q(t);t.set(e);let r=J_-e.length;for(let e=J_-r;e<J_;e++)t[e]=r;return n}N_({blockSize:16},function(e,t={}){y_(e);let n=!t.disablePadding;return{encrypt:(t,r)=>{y_(t);let{b:i,o:a,out:o}=vv(t,n,r),s=cv(e),c=0;for(;c+4<=i.length;){let{s0:e,s1:t,s2:n,s3:r}=fv(s,i[c+0],i[c+1],i[c+2],i[c+3]);a[c++]=e,a[c++]=t,a[c++]=n,a[c++]=r}if(n){let e=bv(t.subarray(c*4)),{s0:n,s1:r,s2:i,s3:o}=fv(s,e[0],e[1],e[2],e[3]);a[c++]=n,a[c++]=r,a[c++]=i,a[c++]=o}return s.fill(0),o},decrypt:(t,r)=>{_v(t);let i=lv(e),a=mv(t.length,r),o=Q(t),s=Q(a);for(let e=0;e+4<=o.length;){let{s0:t,s1:n,s2:r,s3:a}=pv(i,o[e+0],o[e+1],o[e+2],o[e+3]);s[e++]=t,s[e++]=n,s[e++]=r,s[e++]=a}return i.fill(0),yv(a,n)}}});var xv=N_({blockSize:16,nonceLength:16},function(e,t,n={}){y_(e),y_(t,16);let r=!n.disablePadding;return{encrypt:(n,i)=>{let a=cv(e),{b:o,o:s,out:c}=vv(n,r,i),l=Q(t),u=l[0],d=l[1],f=l[2],p=l[3],m=0;for(;m+4<=o.length;)u^=o[m+0],d^=o[m+1],f^=o[m+2],p^=o[m+3],{s0:u,s1:d,s2:f,s3:p}=fv(a,u,d,f,p),s[m++]=u,s[m++]=d,s[m++]=f,s[m++]=p;if(r){let e=bv(n.subarray(m*4));u^=e[0],d^=e[1],f^=e[2],p^=e[3],{s0:u,s1:d,s2:f,s3:p}=fv(a,u,d,f,p),s[m++]=u,s[m++]=d,s[m++]=f,s[m++]=p}return a.fill(0),c},decrypt:(n,i)=>{_v(n);let a=lv(e),o=Q(t),s=mv(n.length,i),c=Q(n),l=Q(s),u=o[0],d=o[1],f=o[2],p=o[3];for(let e=0;e+4<=c.length;){let t=u,n=d,r=f,i=p;u=c[e+0],d=c[e+1],f=c[e+2],p=c[e+3];let{s0:o,s1:s,s2:m,s3:h}=pv(a,u,d,f,p);l[e++]=o^t,l[e++]=s^n,l[e++]=m^r,l[e++]=h^i}return a.fill(0),yv(s,r)}}});N_({blockSize:16,nonceLength:16},function(e,t){y_(e),y_(t,16);function n(n,r,i){let a=cv(e),o=n.length;i=mv(o,i);let s=Q(n),c=Q(i),l=r?c:s,u=Q(t),d=u[0],f=u[1],p=u[2],m=u[3];for(let e=0;e+4<=s.length;){let{s0:t,s1:n,s2:r,s3:i}=fv(a,d,f,p,m);c[e+0]=s[e+0]^t,c[e+1]=s[e+1]^n,c[e+2]=s[e+2]^r,c[e+3]=s[e+3]^i,d=l[e++],f=l[e++],p=l[e++],m=l[e++]}let h=J_*Math.floor(s.length/Y_);if(h<o){({s0:d,s1:f,s2:p,s3:m}=fv(a,d,f,p,m));let e=S_(new Uint32Array([d,f,p,m]));for(let t=h,r=0;t<o;t++,r++)i[t]=n[t]^e[r];e.fill(0)}return a.fill(0),i}return{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}});function Sv(e,t,n,r,i){let a=e.create(n,r.length+(i?.length||0));i&&a.update(i),a.update(r);let o=new Uint8Array(16),s=C_(o);return i&&P_(s,0,BigInt(i.length*8),t),P_(s,8,BigInt(r.length*8),t),a.update(o),a.digest()}N_({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){if(y_(t),t.length===0)throw Error(`aes/gcm: empty nonce`);function r(e,t,r){let i=Sv(K_,!1,e,r,n);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function i(){let n=cv(e),r=X_.slice(),i=X_.slice();if(gv(n,!1,i,i,r),t.length===12)i.set(t);else{let e=X_.slice();P_(C_(e),8,BigInt(t.length*8),!1),K_.create(r).update(t).update(e).digestInto(i)}return{xk:n,authKey:r,counter:i,tagMask:gv(n,!1,i,X_)}}return{encrypt:e=>{y_(e);let{xk:t,authKey:n,counter:a,tagMask:o}=i(),s=new Uint8Array(e.length+16);gv(t,!1,a,e,s);let c=r(n,o,s.subarray(0,s.length-16));return s.set(c,e.length),t.fill(0),s},decrypt:e=>{if(y_(e),e.length<16)throw Error(`aes/gcm: ciphertext less than tagLen (16)`);let{xk:t,authKey:n,counter:a,tagMask:o}=i(),s=e.subarray(0,-16),c=e.subarray(-16);if(!M_(r(n,o,s),c))throw Error(`aes/gcm: invalid ghash tag`);let l=gv(t,!1,a,s);return n.fill(0),o.fill(0),t.fill(0),l}}});var Cv=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};N_({blockSize:16,nonceLength:12,tagLength:16},function(e,t,n){let r=Cv(`AAD`,0,2**36),i=Cv(`plaintext`,0,2**36),a=Cv(`nonce`,12,12),o=Cv(`ciphertext`,16,2**36+16);y_(t),a(t.length),n&&(y_(n),r(n.length));function s(){let n=e.length;if(n!==16&&n!==24&&n!==32)throw Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);let r=cv(e),i=new Uint8Array(n),a=new Uint8Array(16),o=Q(t),s=0,c=o[0],l=o[1],u=o[2],d=0;for(let e of[a,i].map(Q)){let t=Q(e);for(let e=0;e<t.length;e+=2){let{s0:n,s1:i}=fv(r,s,c,l,u);t[e+0]=n,t[e+1]=i,s=++d}}return r.fill(0),{authKey:a,encKey:cv(i)}}function c(e,r,i){let a=Sv(q_,!0,r,i,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;let o=Q(a),s=o[0],c=o[1],l=o[2],u=o[3];return{s0:s,s1:c,s2:l,s3:u}=fv(e,s,c,l,u),o[0]=s,o[1]=c,o[2]=l,o[3]=u,a}function l(e,t,n){let r=t.slice();return r[15]|=128,gv(e,!0,r,n)}return{encrypt:e=>{y_(e),i(e.length);let{encKey:t,authKey:n}=s(),r=c(t,n,e),a=new Uint8Array(e.length+16);return a.set(r,e.length),a.set(l(t,r,e)),t.fill(0),n.fill(0),a},decrypt:e=>{y_(e),o(e.length);let t=e.subarray(-16),{encKey:n,authKey:r}=s(),i=l(n,t,e.subarray(0,-16)),a=c(n,r,i);if(n.fill(0),r.fill(0),!M_(t,a))throw Error(`invalid polyval tag`);return i}}});var wv=(e,t)=>e[t++]&255|(e[t++]&255)<<8,Tv=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=A_(e),y_(e,32);let t=wv(e,0),n=wv(e,2),r=wv(e,4),i=wv(e,6),a=wv(e,8),o=wv(e,10),s=wv(e,12),c=wv(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|n<<3)&8191,this.r[2]=(n>>>10|r<<6)&7939,this.r[3]=(r>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|s<<5)&8065,this.r[8]=(s>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=wv(e,16+2*t)}process(e,t,n=!1){let r=n?0:2048,{h:i,r:a}=this,o=a[0],s=a[1],c=a[2],l=a[3],u=a[4],d=a[5],f=a[6],p=a[7],m=a[8],h=a[9],g=wv(e,t+0),_=wv(e,t+2),v=wv(e,t+4),y=wv(e,t+6),b=wv(e,t+8),x=wv(e,t+10),S=wv(e,t+12),C=wv(e,t+14),w=i[0]+(g&8191),T=i[1]+((g>>>13|_<<3)&8191),E=i[2]+((_>>>10|v<<6)&8191),D=i[3]+((v>>>7|y<<9)&8191),O=i[4]+((y>>>4|b<<12)&8191),k=i[5]+(b>>>1&8191),A=i[6]+((b>>>14|x<<2)&8191),j=i[7]+((x>>>11|S<<5)&8191),M=i[8]+((S>>>8|C<<8)&8191),N=i[9]+(C>>>5|r),P=0,F=P+w*o+T*(5*h)+E*(5*m)+D*(5*p)+O*(5*f);P=F>>>13,F&=8191,F+=k*(5*d)+A*(5*u)+j*(5*l)+M*(5*c)+N*(5*s),P+=F>>>13,F&=8191;let I=P+w*s+T*o+E*(5*h)+D*(5*m)+O*(5*p);P=I>>>13,I&=8191,I+=k*(5*f)+A*(5*d)+j*(5*u)+M*(5*l)+N*(5*c),P+=I>>>13,I&=8191;let L=P+w*c+T*s+E*o+D*(5*h)+O*(5*m);P=L>>>13,L&=8191,L+=k*(5*p)+A*(5*f)+j*(5*d)+M*(5*u)+N*(5*l),P+=L>>>13,L&=8191;let R=P+w*l+T*c+E*s+D*o+O*(5*h);P=R>>>13,R&=8191,R+=k*(5*m)+A*(5*p)+j*(5*f)+M*(5*d)+N*(5*u),P+=R>>>13,R&=8191;let ee=P+w*u+T*l+E*c+D*s+O*o;P=ee>>>13,ee&=8191,ee+=k*(5*h)+A*(5*m)+j*(5*p)+M*(5*f)+N*(5*d),P+=ee>>>13,ee&=8191;let te=P+w*d+T*u+E*l+D*c+O*s;P=te>>>13,te&=8191,te+=k*o+A*(5*h)+j*(5*m)+M*(5*p)+N*(5*f),P+=te>>>13,te&=8191;let ne=P+w*f+T*d+E*u+D*l+O*c;P=ne>>>13,ne&=8191,ne+=k*s+A*o+j*(5*h)+M*(5*m)+N*(5*p),P+=ne>>>13,ne&=8191;let re=P+w*p+T*f+E*d+D*u+O*l;P=re>>>13,re&=8191,re+=k*c+A*s+j*o+M*(5*h)+N*(5*m),P+=re>>>13,re&=8191;let z=P+w*m+T*p+E*f+D*d+O*u;P=z>>>13,z&=8191,z+=k*l+A*c+j*s+M*o+N*(5*h),P+=z>>>13,z&=8191;let ie=P+w*h+T*m+E*p+D*f+O*d;P=ie>>>13,ie&=8191,ie+=k*u+A*l+j*c+M*s+N*o,P+=ie>>>13,ie&=8191,P=(P<<2)+P|0,P=P+F|0,F=P&8191,P>>>=13,I+=P,i[0]=F,i[1]=I,i[2]=L,i[3]=R,i[4]=ee,i[5]=te,i[6]=ne,i[7]=re,i[8]=z,i[9]=ie}finalize(){let{h:e,pad:t}=this,n=new Uint16Array(10),r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=r*5,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(r^1)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=a&65535;for(let n=1;n<8;n++)a=(e[n]+t[n]|0)+(a>>>16)|0,e[n]=a&65535}update(e){b_(this);let{buffer:t,blockLen:n}=this;e=A_(e);let r=e.length;for(let i=0;i<r;){let a=Math.min(n-this.pos,r-i);if(a===n){for(;n<=r-i;i+=n)this.process(e,i);continue}t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){b_(this),x_(e,this),this.finished=!0;let{buffer:t,h:n}=this,{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}};function Ev(e){let t=(t,n)=>e(n).update(A_(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}Ev(e=>new Tv(e));var Dv=e=>Uint8Array.from(e.split(``).map(e=>e.charCodeAt(0))),Ov=Dv(`expand 16-byte k`),kv=Dv(`expand 32-byte k`),Av=Q(Ov),jv=Q(kv);jv.slice();function Mv(e,t){return e<<t|e>>>32-t}function Nv(e){return e.byteOffset%4==0}var Pv=64,Fv=16,Iv=2**32-1,Lv=new Uint32Array;function Rv(e,t,n,r,i,a,o,s){let c=i.length,l=new Uint8Array(Pv),u=Q(l),d=Nv(i)&&Nv(a),f=d?Q(i):Lv,p=d?Q(a):Lv;for(let m=0;m<c;o++){if(e(t,n,r,u,o,s),o>=Iv)throw Error(`arx: counter overflow`);let h=Math.min(Pv,c-m);if(d&&h===Pv){let e=m/4;if(m%4!=0)throw Error(`arx: invalid block position`);for(let t=0,n;t<Fv;t++)n=e+t,p[n]=f[n]^u[t];m+=Pv;continue}for(let e=0,t;e<h;e++)t=m+e,a[t]=i[t]^l[e];m+=h}}function zv(e,t){let{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:a,rounds:o}=j_({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!=`function`)throw Error(`core must be a function`);return g_(i),g_(o),__(a),__(n),(t,s,c,l,u=0)=>{y_(t),y_(s),y_(c);let d=c.length;if(l||=new Uint8Array(d),y_(l),g_(u),u<0||u>=Iv)throw Error(`arx: counter overflow`);if(l.length<d)throw Error(`arx: output (${l.length}) is shorter than data (${d})`);let f=[],p=t.length,m,h;if(p===32)m=t.slice(),f.push(m),h=jv;else if(p===16&&n)m=new Uint8Array(32),m.set(t),m.set(t,16),h=Av,f.push(m);else throw Error(`arx: invalid 32-byte key, got length=${p}`);Nv(s)||(s=s.slice(),f.push(s));let g=Q(m);if(r){if(s.length!==24)throw Error(`arx: extended nonce must be 24 bytes`);r(h,g,Q(s.subarray(0,16)),g),s=s.subarray(16)}let _=16-i;if(_!==s.length)throw Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){let e=new Uint8Array(12);e.set(s,a?0:12-s.length),s=e,f.push(s)}let v=Q(s);for(Rv(e,h,g,v,c,l,u,o);f.length>0;)f.pop().fill(0);return l}}function Bv(e,t,n,r,i,a=20){let o=e[0],s=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],p=t[3],m=t[4],h=t[5],g=t[6],_=t[7],v=i,y=n[0],b=n[1],x=n[2],S=o,C=s,w=c,T=l,E=u,D=d,O=f,k=p,A=m,j=h,M=g,N=_,P=v,F=y,I=b,L=x;for(let e=0;e<a;e+=2)S=S+E|0,P=Mv(P^S,16),A=A+P|0,E=Mv(E^A,12),S=S+E|0,P=Mv(P^S,8),A=A+P|0,E=Mv(E^A,7),C=C+D|0,F=Mv(F^C,16),j=j+F|0,D=Mv(D^j,12),C=C+D|0,F=Mv(F^C,8),j=j+F|0,D=Mv(D^j,7),w=w+O|0,I=Mv(I^w,16),M=M+I|0,O=Mv(O^M,12),w=w+O|0,I=Mv(I^w,8),M=M+I|0,O=Mv(O^M,7),T=T+k|0,L=Mv(L^T,16),N=N+L|0,k=Mv(k^N,12),T=T+k|0,L=Mv(L^T,8),N=N+L|0,k=Mv(k^N,7),S=S+D|0,L=Mv(L^S,16),M=M+L|0,D=Mv(D^M,12),S=S+D|0,L=Mv(L^S,8),M=M+L|0,D=Mv(D^M,7),C=C+O|0,P=Mv(P^C,16),N=N+P|0,O=Mv(O^N,12),C=C+O|0,P=Mv(P^C,8),N=N+P|0,O=Mv(O^N,7),w=w+k|0,F=Mv(F^w,16),A=A+F|0,k=Mv(k^A,12),w=w+k|0,F=Mv(F^w,8),A=A+F|0,k=Mv(k^A,7),T=T+E|0,I=Mv(I^T,16),j=j+I|0,E=Mv(E^j,12),T=T+E|0,I=Mv(I^T,8),j=j+I|0,E=Mv(E^j,7);let R=0;r[R++]=o+S|0,r[R++]=s+C|0,r[R++]=c+w|0,r[R++]=l+T|0,r[R++]=u+E|0,r[R++]=d+D|0,r[R++]=f+O|0,r[R++]=p+k|0,r[R++]=m+A|0,r[R++]=h+j|0,r[R++]=g+M|0,r[R++]=_+N|0,r[R++]=v+P|0,r[R++]=y+F|0,r[R++]=b+I|0,r[R++]=x+L|0}var Vv=zv(Bv,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Hv=class extends Sg{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,jg.hash(e);let n=bg(t);if(this.iHash=e.create(),typeof this.iHash.update!=`function`)throw Error(`Expected instance of class which extends utils.Hash`);this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return jg.exists(this),this.iHash.update(e),this}digestInto(e){jg.exists(this),jg.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Uv=(e,t,n)=>new Hv(e,t).update(n).digest();Uv.create=(e,t)=>new Hv(e,t);function Wv(e,t,n){return jg.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Uv(e,bg(n),bg(t))}var Gv=new Uint8Array([0]),Kv=new Uint8Array;function qv(e,t,n,r=32){if(jg.hash(e),jg.number(r),r>255*e.outputLen)throw Error(`Length should be <= 255*HashLen`);let i=Math.ceil(r/e.outputLen);n===void 0&&(n=Kv);let a=new Uint8Array(i*e.outputLen),o=Uv.create(e,t),s=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let t=0;t<i;t++)Gv[0]=t+1,s.update(t===0?Kv:c).update(n).update(Gv).digestInto(c),a.set(c,e.outputLen*t),o._cloneInto(s);return o.destroy(),s.destroy(),c.fill(0),Gv.fill(0),a.slice(0,r)}var Jv=Object.defineProperty,Yv=(e,t)=>{for(var n in t)Jv(e,n,{get:t[n],enumerable:!0})},Xv=Symbol(`verified`),Zv=e=>e instanceof Object;function Qv(e){if(!Zv(e)||typeof e.kind!=`number`||typeof e.content!=`string`||typeof e.created_at!=`number`||typeof e.pubkey!=`string`||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if(typeof n[e]!=`string`)return!1}return!0}Yv({},{Queue:()=>oy,QueueNode:()=>ay,binarySearch:()=>iy,bytesToHex:()=>_g,hexToBytes:()=>vg,insertEventIntoAscendingList:()=>ry,insertEventIntoDescendingList:()=>ny,normalizeURL:()=>ty,utf8Decoder:()=>$v,utf8Encoder:()=>ey});var $v=new TextDecoder(`utf-8`),ey=new TextEncoder;function ty(e){try{e.indexOf(`://`)===-1&&(e=`wss://`+e);let t=new URL(e);return t.protocol===`http:`?t.protocol=`ws:`:t.protocol===`https:`&&(t.protocol=`wss:`),t.pathname=t.pathname.replace(/\/+/g,`/`),t.pathname.endsWith(`/`)&&(t.pathname=t.pathname.slice(0,-1)),(t.port===`80`&&t.protocol===`ws:`||t.port===`443`&&t.protocol===`wss:`)&&(t.port=``),t.searchParams.sort(),t.hash=``,t.toString()}catch{throw Error(`Invalid URL: ${e}`)}}function ny(e,t){let[n,r]=iy(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at);return r||e.splice(n,0,t),e}function ry(e,t){let[n,r]=iy(e,e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at);return r||e.splice(n,0,t),e}function iy(e,t){let n=0,r=e.length-1;for(;n<=r;){let i=Math.floor((n+r)/2),a=t(e[i]);if(a===0)return[i,!0];a<0?r=i-1:n=i+1}return[n,!1]}var ay=class{value;next=null;prev=null;constructor(e){this.value=e}},oy=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){let t=new ay(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){let e=this.first;return this.first=null,this.last=null,e.value}let e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},sy=class{generateSecretKey(){return dg.utils.randomPrivateKey()}getPublicKey(e){return _g(dg.getPublicKey(e))}finalizeEvent(e,t){let n=e;return n.pubkey=_g(dg.getPublicKey(t)),n.id=ly(n),n.sig=_g(dg.sign(ly(n),t)),n[Xv]=!0,n}verifyEvent(e){if(typeof e[Xv]==`boolean`)return e[Xv];let t=ly(e);if(t!==e.id)return e[Xv]=!1,!1;try{let n=dg.verify(e.sig,t,e.pubkey);return e[Xv]=n,n}catch{return e[Xv]=!1,!1}}};function cy(e){if(!Qv(e))throw Error(`can't serialize event with wrong or missing properties`);return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function ly(e){return _g(Vg(ey.encode(cy(e))))}var uy=new sy,dy=uy.generateSecretKey,fy=uy.getPublicKey,py=uy.finalizeEvent,my=uy.verifyEvent;Yv({},{Application:()=>Gb,BadgeAward:()=>ky,BadgeDefinition:()=>Rb,BlockedRelaysList:()=>_b,BlossomServerList:()=>wb,BookmarkList:()=>mb,Bookmarksets:()=>Fb,Calendar:()=>Qb,CalendarEventRSVP:()=>$b,ChannelCreation:()=>zy,ChannelHideMessage:()=>Hy,ChannelMessage:()=>Vy,ChannelMetadata:()=>By,ChannelMuteUser:()=>Uy,ChatMessage:()=>Ay,ClassifiedListing:()=>Jb,ClientAuth:()=>Db,Comment:()=>Jy,CommunitiesList:()=>hb,CommunityDefinition:()=>rx,CommunityPostApproval:()=>nb,Contacts:()=>wy,CreateOrUpdateProduct:()=>Vb,CreateOrUpdateStall:()=>Bb,Curationsets:()=>Ib,Date:()=>Xb,DirectMessageRelaysList:()=>Sb,DraftClassifiedListing:()=>Yb,DraftLong:()=>Ub,Emojisets:()=>Wb,EncryptedDirectMessage:()=>Ty,EventDeletion:()=>Ey,FavoriteRelays:()=>yb,FileMessage:()=>Py,FileMetadata:()=>qy,FileServerPreference:()=>Cb,Followsets:()=>Mb,ForumThread:()=>jy,GenericRepost:()=>Fy,Genericlists:()=>Nb,GiftWrap:()=>Gy,GroupMetadata:()=>ix,HTTPAuth:()=>jb,Handlerinformation:()=>nx,Handlerrecommendation:()=>tx,Highlights:()=>lb,InterestsList:()=>bb,Interestsets:()=>zb,JobFeedback:()=>ab,JobRequest:()=>rb,JobResult:()=>ib,Label:()=>tb,LightningPubRPC:()=>Eb,LiveChatMessage:()=>Yy,LiveEvent:()=>Kb,LongFormArticle:()=>Hb,Metadata:()=>xy,Mutelist:()=>db,NWCWalletInfo:()=>Tb,NWCWalletRequest:()=>Ob,NWCWalletResponse:()=>kb,NormalVideo:()=>Ly,NostrConnect:()=>Ab,OpenTimestamps:()=>Wy,Photo:()=>Iy,Pinlist:()=>fb,Poll:()=>Ky,PollResponse:()=>ub,PrivateDirectMessage:()=>Ny,ProblemTracker:()=>Qy,ProfileBadges:()=>Lb,PublicChatsList:()=>gb,Reaction:()=>Oy,RecommendRelay:()=>Cy,RelayList:()=>pb,RelayReview:()=>ex,Relaysets:()=>Pb,Report:()=>$y,Reporting:()=>eb,Repost:()=>Dy,Seal:()=>My,SearchRelaysList:()=>vb,ShortTextNote:()=>Sy,ShortVideo:()=>Ry,Time:()=>Zb,UserEmojiList:()=>xb,UserStatuses:()=>qb,Voice:()=>Xy,VoiceComment:()=>Zy,Zap:()=>cb,ZapGoal:()=>ob,ZapRequest:()=>sb,classifyKind:()=>yy,isAddressableKind:()=>vy,isEphemeralKind:()=>_y,isKind:()=>by,isRegularKind:()=>hy,isReplaceableKind:()=>gy});function hy(e){return e<1e4&&e!==0&&e!==3}function gy(e){return e===0||e===3||1e4<=e&&e<2e4}function _y(e){return 2e4<=e&&e<3e4}function vy(e){return 3e4<=e&&e<4e4}function yy(e){return hy(e)?`regular`:gy(e)?`replaceable`:_y(e)?`ephemeral`:vy(e)?`parameterized`:`unknown`}function by(e,t){let n=t instanceof Array?t:[t];return Qv(e)&&n.includes(e.kind)||!1}var xy=0,Sy=1,Cy=2,wy=3,Ty=4,Ey=5,Dy=6,Oy=7,ky=8,Ay=9,jy=11,My=13,Ny=14,Py=15,Fy=16,Iy=20,Ly=21,Ry=22,zy=40,By=41,Vy=42,Hy=43,Uy=44,Wy=1040,Gy=1059,Ky=1068,qy=1063,Jy=1111,Yy=1311,Xy=1222,Zy=1244,Qy=1971,$y=1984,eb=1984,tb=1985,nb=4550,rb=5999,ib=6999,ab=7e3,ob=9041,sb=9734,cb=9735,lb=9802,ub=1018,db=1e4,fb=10001,pb=10002,mb=10003,hb=10004,gb=10005,_b=10006,vb=10007,yb=10012,bb=10015,xb=10030,Sb=10050,Cb=10096,wb=10063,Tb=13194,Eb=21e3,Db=22242,Ob=23194,kb=23195,Ab=24133,jb=27235,Mb=3e4,Nb=30001,Pb=30002,Fb=30003,Ib=30004,Lb=30008,Rb=30009,zb=30015,Bb=30017,Vb=30018,Hb=30023,Ub=30024,Wb=30030,Gb=30078,Kb=30311,qb=30315,Jb=30402,Yb=30403,Xb=31922,Zb=31923,Qb=31924,$b=31925,ex=31987,tx=31989,nx=31990,rx=34550,ix=39e3;Yv({},{getHex64:()=>ax,getInt:()=>ox,getSubscriptionId:()=>sx,matchEventId:()=>cx,matchEventKind:()=>ux,matchEventPubkey:()=>lx});function ax(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf(`"`)+r+1;return e.slice(i,i+64)}function ox(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),a=Math.min(i.indexOf(`,`),i.indexOf(`}`));return parseInt(i.slice(0,a),10)}function sx(e){let t=e.slice(0,22).indexOf(`"EVENT"`);if(t===-1)return null;let n=e.slice(t+7+1).indexOf(`"`);if(n===-1)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf(`"`);if(i===-1)return null;let a=r+1+i;return e.slice(r+1,a)}function cx(e,t){return t===ax(e,`id`)}function lx(e,t){return t===ax(e,`pubkey`)}function ux(e,t){return t===ox(e,`kind`)}Yv({},{makeAuthEvent:()=>dx});function dx(e,t){return{kind:Db,created_at:Math.floor(Date.now()/1e3),tags:[[`relay`,e],[`challenge`,t]],content:``}}var fx={};Yv(fx,{BECH32_REGEX:()=>hx,Bech32MaxSize:()=>mx,NostrTypeGuard:()=>px,decode:()=>vx,decodeNostrURI:()=>_x,encodeBytes:()=>wx,naddrEncode:()=>Dx,neventEncode:()=>Ex,noteEncode:()=>Sx,nprofileEncode:()=>Tx,npubEncode:()=>xx,nsecEncode:()=>bx});var px={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||``),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||``),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||``),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||``),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||``),isNote:e=>/^note1[a-z\d]+$/.test(e||``),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||``)},mx=5e3,hx=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function gx(e){let t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function _x(e){try{return e.startsWith(`nostr:`)&&(e=e.substring(6)),vx(e)}catch{return{type:`invalid`,data:null}}}function vx(e){let{prefix:t,words:n}=m_.decode(e,mx),r=new Uint8Array(m_.fromWords(n));switch(t){case`nprofile`:{let e=yx(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for nprofile`);if(e[0][0].length!==32)throw Error(`TLV 0 should be 32 bytes`);return{type:`nprofile`,data:{pubkey:_g(e[0][0]),relays:e[1]?e[1].map(e=>$v.decode(e)):[]}}}case`nevent`:{let e=yx(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for nevent`);if(e[0][0].length!==32)throw Error(`TLV 0 should be 32 bytes`);if(e[2]&&e[2][0].length!==32)throw Error(`TLV 2 should be 32 bytes`);if(e[3]&&e[3][0].length!==4)throw Error(`TLV 3 should be 4 bytes`);return{type:`nevent`,data:{id:_g(e[0][0]),relays:e[1]?e[1].map(e=>$v.decode(e)):[],author:e[2]?.[0]?_g(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(_g(e[3][0]),16):void 0}}}case`naddr`:{let e=yx(r);if(!e[0]?.[0])throw Error(`missing TLV 0 for naddr`);if(!e[2]?.[0])throw Error(`missing TLV 2 for naddr`);if(e[2][0].length!==32)throw Error(`TLV 2 should be 32 bytes`);if(!e[3]?.[0])throw Error(`missing TLV 3 for naddr`);if(e[3][0].length!==4)throw Error(`TLV 3 should be 4 bytes`);return{type:`naddr`,data:{identifier:$v.decode(e[0][0]),pubkey:_g(e[2][0]),kind:parseInt(_g(e[3][0]),16),relays:e[1]?e[1].map(e=>$v.decode(e)):[]}}}case`nsec`:return{type:t,data:r};case`npub`:case`note`:return{type:t,data:_g(r)};default:throw Error(`unknown prefix ${t}`)}}function yx(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function bx(e){return wx(`nsec`,e)}function xx(e){return wx(`npub`,vg(e))}function Sx(e){return wx(`note`,vg(e))}function Cx(e,t){let n=m_.toWords(t);return m_.encode(e,n,mx)}function wx(e,t){return Cx(e,t)}function Tx(e){return Cx(`nprofile`,Ox({0:[vg(e.pubkey)],1:(e.relays||[]).map(e=>ey.encode(e))}))}function Ex(e){let t;return e.kind!==void 0&&(t=gx(e.kind)),Cx(`nevent`,Ox({0:[vg(e.id)],1:(e.relays||[]).map(e=>ey.encode(e)),2:e.author?[vg(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function Dx(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Cx(`naddr`,Ox({0:[ey.encode(e.identifier)],1:(e.relays||[]).map(e=>ey.encode(e)),2:[vg(e.pubkey)],3:[new Uint8Array(t)]}))}function Ox(e){let t=[];return Object.entries(e).reverse().forEach(([e,n])=>{n.forEach(n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)})}),xg(...t)}var kx={};Yv(kx,{decrypt:()=>jx,encrypt:()=>Ax});function Ax(e,t,n){let r=e instanceof Uint8Array?_g(e):e,i=Mx(qh.getSharedSecret(r,`02`+t)),a=Uint8Array.from(wg(16)),o=ey.encode(n),s=xv(i,a).encrypt(o);return`${r_.encode(new Uint8Array(s))}?iv=${r_.encode(new Uint8Array(a.buffer))}`}function jx(e,t,n){let r=e instanceof Uint8Array?_g(e):e,[i,a]=n.split(`?iv=`),o=Mx(qh.getSharedSecret(r,`02`+t)),s=r_.decode(a),c=r_.decode(i),l=xv(o,s).decrypt(c);return $v.decode(l)}function Mx(e){return e.slice(1,33)}Yv({},{NIP05_REGEX:()=>Nx,isNip05:()=>Px,isValid:()=>zx,queryProfile:()=>Rx,searchDomain:()=>Lx,useFetchImplementation:()=>Ix});var Nx=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Px=e=>Nx.test(e||``),Fx;try{Fx=fetch}catch{}function Ix(e){Fx=e}async function Lx(e,t=``){try{let n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Fx(n,{redirect:`manual`});if(r.status!==200)throw Error(`Wrong response code`);return(await r.json()).names}catch{return{}}}async function Rx(e){let t=e.match(Nx);if(!t)return null;let[,n=`_`,r]=t;try{let e=`https://${r}/.well-known/nostr.json?name=${n}`,t=await Fx(e,{redirect:`manual`});if(t.status!==200)throw Error(`Wrong response code`);let i=await t.json(),a=i.names[n];return a?{pubkey:a,relays:i.relays?.[a]}:null}catch{return null}}async function zx(e,t){let n=await Rx(t);return n?n.pubkey===e:!1}Yv({},{parse:()=>Bx});function Bx(e){let t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]},n,r;for(let i=e.tags.length-1;i>=0;i--){let a=e.tags[i];if(a[0]===`e`&&a[1]){let[e,i,o,s,c]=a,l={id:i,relays:o?[o]:[],author:c};if(s===`root`){t.root=l;continue}if(s===`reply`){t.reply=l;continue}if(s===`mention`){t.mentions.push(l);continue}n?r=l:n=l,t.mentions.push(l);continue}if(a[0]===`q`&&a[1]){let[e,n,r]=a;t.quotes.push({id:n,relays:r?[r]:[]})}if(a[0]===`p`&&a[1]){t.profiles.push({pubkey:a[1],relays:a[2]?[a[2]]:[]});continue}}return t.root||=r||n||t.reply,t.reply||=n||t.root,[t.reply,t.root].forEach(e=>{if(!e)return;let n=t.mentions.indexOf(e);if(n!==-1&&t.mentions.splice(n,1),e.author){let n=t.profiles.find(t=>t.pubkey===e.author);n&&n.relays&&(e.relays||=[],n.relays.forEach(t=>{e.relays?.indexOf(t)===-1&&e.relays.push(t)}),n.relays=e.relays)}}),t.mentions.forEach(e=>{if(e.author){let n=t.profiles.find(t=>t.pubkey===e.author);n&&n.relays&&(e.relays||=[],n.relays.forEach(t=>{e.relays.indexOf(t)===-1&&e.relays.push(t)}),n.relays=e.relays)}}),t}Yv({},{fetchRelayInformation:()=>Hx,useFetchImplementation:()=>Vx});function Vx(e){}async function Hx(e){return await(await fetch(e.replace(`ws://`,`http://`).replace(`wss://`,`https://`),{headers:{Accept:`application/nostr+json`}})).json()}Yv({},{fastEventHash:()=>Gx,getPow:()=>Ux,minePow:()=>Wx});function Ux(e){let t=0;for(let n=0;n<64;n+=8){let r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function Wx(e,t){let n=0,r=e,i=[`nonce`,n.toString(),t.toString()];for(r.tags.push(i);;){let e=Math.floor(new Date().getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=Gx(r),Ux(r.id)>=t)break}return r}function Gx(e){return _g(Vg(ey.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}Yv({},{unwrapEvent:()=>SS,unwrapManyEvents:()=>CS,wrapEvent:()=>bS,wrapManyEvents:()=>xS}),Yv({},{createRumor:()=>fS,createSeal:()=>pS,createWrap:()=>mS,unwrapEvent:()=>_S,unwrapManyEvents:()=>vS,wrapEvent:()=>hS,wrapManyEvents:()=>gS});var Kx={};Yv(Kx,{decrypt:()=>iS,encrypt:()=>rS,getConversationKey:()=>Yx,v2:()=>aS});var qx=1,Jx=65535;function Yx(e,t){return Wv(Vg,qh.getSharedSecret(e,`02`+t).subarray(1,33),`nip44-v2`)}function Xx(e,t){let n=qv(Vg,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Zx(e){if(!Number.isSafeInteger(e)||e<1)throw Error(`expected positive integer`);if(e<=32)return 32;let t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Qx(e){if(!Number.isSafeInteger(e)||e<qx||e>Jx)throw Error(`invalid plaintext size: must be between 1 and 65535 bytes`);let t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function $x(e){let t=ey.encode(e),n=t.length;return xg(Qx(n),t,new Uint8Array(Zx(n)-n))}function eS(e){let t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<qx||t>Jx||n.length!==t||e.length!==2+Zx(t))throw Error(`invalid padding`);return $v.decode(n)}function tS(e,t,n){if(n.length!==32)throw Error(`AAD associated data must be 32 bytes`);return Uv(Vg,e,xg(n,t))}function nS(e){if(typeof e!=`string`)throw Error(`payload must be a valid string`);let t=e.length;if(t<132||t>87472)throw Error(`invalid payload length: `+t);if(e[0]===`#`)throw Error(`unknown encryption version`);let n;try{n=r_.decode(e)}catch(e){throw Error(`invalid base64: `+e.message)}let r=n.length;if(r<99||r>65603)throw Error(`invalid data length: `+r);let i=n[0];if(i!==2)throw Error(`unknown encryption version `+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function rS(e,t,n=wg(32)){let{chacha_key:r,chacha_nonce:i,hmac_key:a}=Xx(t,n),o=Vv(r,i,$x(e)),s=tS(a,o,n);return r_.encode(xg(new Uint8Array([2]),n,o,s))}function iS(e,t){let{nonce:n,ciphertext:r,mac:i}=nS(e),{chacha_key:a,chacha_nonce:o,hmac_key:s}=Xx(t,n);if(!M_(tS(s,r,n),i))throw Error(`invalid MAC`);return eS(Vv(a,o,r))}var aS={utils:{getConversationKey:Yx,calcPaddedLen:Zx},encrypt:rS,decrypt:iS},oS=2880*60,sS=()=>Math.round(Date.now()/1e3),cS=()=>Math.round(sS()-Math.random()*oS),lS=(e,t)=>Yx(e,t),uS=(e,t,n)=>rS(JSON.stringify(e),lS(t,n)),dS=(e,t)=>JSON.parse(iS(e.content,lS(t,e.pubkey)));function fS(e,t){let n={created_at:sS(),content:``,tags:[],...e,pubkey:fy(t)};return n.id=ly(n),n}function pS(e,t,n){return py({kind:My,content:uS(e,t,n),created_at:cS(),tags:[]},t)}function mS(e,t){let n=dy();return py({kind:Gy,content:uS(e,n,t),created_at:cS(),tags:[[`p`,t]]},n)}function hS(e,t,n){return mS(pS(fS(e,t),t,n),n)}function gS(e,t,n){if(!n||n.length===0)throw Error(`At least one recipient is required.`);let r=[hS(e,t,fy(t))];return n.forEach(n=>{r.push(hS(e,t,n))}),r}function _S(e,t){return dS(dS(e,t),t)}function vS(e,t){let n=[];return e.forEach(e=>{n.push(_S(e,t))}),n.sort((e,t)=>e.created_at-t.created_at),n}function yS(e,t,n,r){let i={created_at:Math.ceil(Date.now()/1e3),kind:Ny,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:e,relayUrl:t})=>{i.tags.push(t?[`p`,e,t]:[`p`,e])}),r&&i.tags.push([`e`,r.eventId,r.relayUrl||``,`reply`]),n&&i.tags.push([`subject`,n]),i}function bS(e,t,n,r,i){return hS(yS(t,n,r,i),e,t.publicKey)}function xS(e,t,n,r,i){if(!t||t.length===0)throw Error(`At least one recipient is required.`);return[{publicKey:fy(e)},...t].map(t=>bS(e,t,n,r,i))}var SS=_S,CS=vS;Yv({},{finishRepostEvent:()=>wS,getRepostedEvent:()=>ES,getRepostedEventPointer:()=>TS});function wS(e,t,n,r){let i,a=[...e.tags??[],[`e`,t.id,n],[`p`,t.pubkey]];return t.kind===Sy?i=Dy:(i=Fy,a.push([`k`,String(t.kind)])),py({kind:i,tags:a,content:e.content===``||t.tags?.find(e=>e[0]===`-`)?``:JSON.stringify(t),created_at:e.created_at},r)}function TS(e){if(![Dy,Fy].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let i=e.tags[r];i.length>=2&&(i[0]===`e`&&t===void 0?t=i:i[0]===`p`&&n===void 0&&(n=i))}if(t!==void 0)return{id:t[1],relays:[t[2],n?.[2]].filter(e=>typeof e==`string`),author:n?.[1]}}function ES(e,{skipVerification:t}={}){let n=TS(e);if(n===void 0||e.content===``)return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!my(r)))return r}Yv({},{NOSTR_URI_REGEX:()=>DS,parse:()=>kS,test:()=>OS});var DS=RegExp(`nostr:(${hx.source})`);function OS(e){return typeof e==`string`&&RegExp(`^${DS.source}$`).test(e)}function kS(e){let t=e.match(RegExp(`^${DS.source}$`));if(!t)throw Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:vx(t[1])}}Yv({},{finishReactionEvent:()=>AS,getReactedEventPointer:()=>jS});function AS(e,t,n){let r=t.tags.filter(e=>e.length>=2&&(e[0]===`e`||e[0]===`p`));return py({...e,kind:Oy,tags:[...e.tags??[],...r,[`e`,t.id],[`p`,t.pubkey]],content:e.content??`+`},n)}function jS(e){if(e.kind!==Oy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){let i=e.tags[r];i.length>=2&&(i[0]===`e`&&t===void 0?t=i:i[0]===`p`&&n===void 0&&(n=i))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(e=>e!==void 0),author:n[1]}}Yv({},{parse:()=>FS});var MS=/\W/m,NS=/[^\w\/] |[^\w\/]$|$|,| /m,PS=42;function*FS(e){let t=[];if(typeof e!=`string`){for(let n=0;n<e.tags.length;n++){let r=e.tags[n];r[0]===`emoji`&&r.length>=3&&t.push({type:`emoji`,shortcode:r[1],url:r[2]})}e=e.content}let n=e.length,r=0,i=0;mainloop:for(;i<n;){let a=e.indexOf(`:`,i),o=e.indexOf(`#`,i);if(a===-1&&o===-1)break mainloop;if(a===-1||o>=0&&o<a){if(o===0||e[o-1]===` `){let t=e.slice(o+1,o+PS).match(MS),a=t?o+1+t.index:n;yield{type:`text`,text:e.slice(r,o)},yield{type:`hashtag`,value:e.slice(o+1,a)},i=a,r=i;continue mainloop}i=o+1;continue mainloop}if(e.slice(a-5,a)===`nostr`){let t=e.slice(a+60).match(MS),o=t?a+60+t.index:n;try{let t,{data:n,type:s}=vx(e.slice(a+1,o));switch(s){case`npub`:t={pubkey:n};break;case`note`:t={id:n};break;case`nsec`:i=o+1;continue;default:t=n}r!==a-5&&(yield{type:`text`,text:e.slice(r,a-5)}),yield{type:`reference`,pointer:t},i=o,r=i;continue mainloop}catch{i=a+1;continue mainloop}}else if(e.slice(a-5,a)===`https`||e.slice(a-4,a)===`http`){let t=e.slice(a+4).match(NS),o=t?a+4+t.index:n,s=e[a-1]===`s`?5:4;try{let t=new URL(e.slice(a-s,o));if(t.hostname.indexOf(`.`)===-1)throw Error(`invalid url`);if(r!==a-s&&(yield{type:`text`,text:e.slice(r,a-s)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(t.pathname)){yield{type:`image`,url:t.toString()},i=o,r=i;continue mainloop}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(t.pathname)){yield{type:`video`,url:t.toString()},i=o,r=i;continue mainloop}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(t.pathname)){yield{type:`audio`,url:t.toString()},i=o,r=i;continue mainloop}yield{type:`url`,url:t.toString()},i=o,r=i;continue mainloop}catch{i=o+1;continue mainloop}}else if(e.slice(a-3,a)===`wss`||e.slice(a-2,a)===`ws`){let t=e.slice(a+4).match(NS),o=t?a+4+t.index:n,s=e[a-1]===`s`?3:2;try{let t=new URL(e.slice(a-s,o));if(t.hostname.indexOf(`.`)===-1)throw Error(`invalid ws url`);r!==a-s&&(yield{type:`text`,text:e.slice(r,a-s)}),yield{type:`relay`,url:t.toString()},i=o,r=i;continue mainloop}catch{i=o+1;continue mainloop}}else{for(let n=0;n<t.length;n++){let o=t[n];if(e[a+o.shortcode.length+1]===`:`&&e.slice(a+1,a+o.shortcode.length+1)===o.shortcode){r!==a&&(yield{type:`text`,text:e.slice(r,a)}),yield o,i=a+o.shortcode.length+2,r=i;continue mainloop}}i=a+1;continue mainloop}}r!==n&&(yield{type:`text`,text:e.slice(r)})}Yv({},{channelCreateEvent:()=>IS,channelHideMessageEvent:()=>zS,channelMessageEvent:()=>RS,channelMetadataEvent:()=>LS,channelMuteUserEvent:()=>BS});var IS=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return py({kind:zy,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},LS=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return py({kind:By,tags:[[`e`,e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},RS=(e,t)=>{let n=[[`e`,e.channel_create_event_id,e.relay_url,`root`]];return e.reply_to_channel_message_event_id&&n.push([`e`,e.reply_to_channel_message_event_id,e.relay_url,`reply`]),py({kind:Vy,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},zS=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return py({kind:Hy,tags:[[`e`,e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},BS=(e,t)=>{let n;if(typeof e.content==`object`)n=JSON.stringify(e.content);else if(typeof e.content==`string`)n=e.content;else return;return py({kind:Uy,tags:[[`p`,e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)};Yv({},{EMOJI_SHORTCODE_REGEX:()=>VS,matchAll:()=>US,regex:()=>HS,replaceAll:()=>WS});var VS=/:(\w+):/,HS=()=>RegExp(`\\B${VS.source}\\B`,`g`);function*US(e){let t=e.matchAll(HS());for(let e of t)try{let[t,n]=e;yield{shortcode:t,name:n,start:e.index,end:e.index+t.length}}catch{}}function WS(e,t){return e.replaceAll(HS(),(e,n)=>t({shortcode:e,name:n}))}Yv({},{useFetchImplementation:()=>KS,validateGithub:()=>qS});var GS;try{GS=fetch}catch{}function KS(e){GS=e}async function qS(e,t,n){try{return await(await GS(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}Yv({},{makeNwcRequestEvent:()=>YS,parseConnectionString:()=>JS});function JS(e){let{host:t,pathname:n,searchParams:r}=new URL(e),i=n||t,a=r.get(`relay`),o=r.get(`secret`);if(!i||!a||!o)throw Error(`invalid connection string`);return{pubkey:i,relay:a,secret:o}}async function YS(e,t,n){let r={method:`pay_invoice`,params:{invoice:n}},i=Ax(t,e,JSON.stringify(r));return py({kind:Ob,created_at:Math.round(Date.now()/1e3),content:i,tags:[[`p`,e]]},t)}Yv({},{normalizeIdentifier:()=>XS});function XS(e){return e=e.trim().toLowerCase(),e=e.normalize(`NFKC`),Array.from(e).map(e=>/\p{Letter}/u.test(e)||/\p{Number}/u.test(e)?e:`-`).join(``)}Yv({},{getSatoshisAmountFromBolt11:()=>rC,getZapEndpoint:()=>$S,makeZapReceipt:()=>nC,makeZapRequest:()=>eC,useFetchImplementation:()=>QS,validateZapRequest:()=>tC});var ZS;try{ZS=fetch}catch{}function QS(e){ZS=e}async function $S(e){try{let t=``,{lud06:n,lud16:r}=JSON.parse(e.content);if(r){let[e,n]=r.split(`@`);t=new URL(`/.well-known/lnurlp/${e}`,`https://${n}`).toString()}else if(n){let{words:e}=m_.decode(n,1e3),r=m_.fromWords(e);t=$v.decode(r)}else return null;let i=await(await ZS(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function eC(e){let t={kind:9734,created_at:Math.round(Date.now()/1e3),content:e.comment||``,tags:[[`p`,`pubkey`in e?e.pubkey:e.event.pubkey],[`amount`,e.amount.toString()],[`relays`,...e.relays]]};if(`event`in e){if(t.tags.push([`e`,e.event.id]),gy(e.event.kind)){let n=[`a`,`${e.event.kind}:${e.event.pubkey}:`];t.tags.push(n)}else if(vy(e.event.kind)){let n=e.event.tags.find(([e,t])=>e===`d`&&t);if(!n)throw Error(`d tag not found or is empty`);let r=[`a`,`${e.event.kind}:${e.event.pubkey}:${n[1]}`];t.tags.push(r)}t.tags.push([`k`,e.event.kind.toString()])}return t}function tC(e){let t;try{t=JSON.parse(e)}catch{return`Invalid zap request JSON.`}if(!Qv(t))return`Zap request is not a valid Nostr event.`;if(!my(t))return`Invalid signature on zap request.`;let n=t.tags.find(([e,t])=>e===`p`&&t);if(!n)return`Zap request doesn't have a 'p' tag.`;if(!n[1].match(/^[a-f0-9]{64}$/))return`Zap request 'p' tag is not valid hex.`;let r=t.tags.find(([e,t])=>e===`e`&&t);return r&&!r[1].match(/^[a-f0-9]{64}$/)?`Zap request 'e' tag is not valid hex.`:t.tags.find(([e,t])=>e===`relays`&&t)?null:`Zap request doesn't have a 'relays' tag.`}function nC({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e),a=i.tags.filter(([e])=>e===`e`||e===`p`||e===`a`),o={kind:9735,created_at:Math.round(r.getTime()/1e3),content:``,tags:[...a,[`P`,i.pubkey],[`bolt11`,n],[`description`,e]]};return t&&o.tags.push([`preimage`,t]),o}function rC(e){if(e.length<50)return 0;e=e.substring(0,50);let t=e.lastIndexOf(`1`);if(t===-1)return 0;let n=e.substring(0,t);if(!n.startsWith(`lnbc`))return 0;let r=n.substring(4);if(r.length<1)return 0;let i=r[r.length-1],a=i.charCodeAt(0)-48,o=a>=0&&a<=9,s=r.length-1;if(o&&s++,s<1)return 0;let c=parseInt(r.substring(0,s));switch(i){case`m`:return c*1e5;case`u`:return c*100;case`n`:return c/10;case`p`:return c/1e4;default:return c*1e8}}Yv({},{Negentropy:()=>hC,NegentropyStorageVector:()=>mC,NegentropySync:()=>vC});var iC=97,aC=32,oC=16,sC={Skip:0,Fingerprint:1,IdList:2},cC=class{_raw;length;constructor(e){typeof e==`number`?(this._raw=new Uint8Array(e),this.length=0):e instanceof Uint8Array?(this._raw=new Uint8Array(e),this.length=e.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(e){if(e instanceof cC&&(e=e.unwrap()),typeof e.length!=`number`)throw Error(`bad length`);let t=e.length+this.length;if(this.capacity<t){let e=this._raw,n=Math.max(this.capacity*2,t);this._raw=new Uint8Array(n),this._raw.set(e)}this._raw.set(e,this.length),this.length+=e.length}shift(){let e=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,e}shiftN(e=1){let t=this._raw.subarray(0,e);return this._raw=this._raw.subarray(e),this.length-=e,t}};function lC(e){let t=0;for(;;){if(e.length===0)throw Error(`parse ends prematurely`);let n=e.shift();if(t=t<<7|n&127,!(n&128))break}return t}function uC(e){if(e===0)return new cC(new Uint8Array([0]));let t=[];for(;e!==0;)t.push(e&127),e>>>=7;t.reverse();for(let e=0;e<t.length-1;e++)t[e]|=128;return new cC(new Uint8Array(t))}function dC(e){return fC(e,1)[0]}function fC(e,t){if(e.length<t)throw Error(`parse ends prematurely`);return e.shiftN(t)}var pC=class{buf;constructor(){this.setToZero()}setToZero(){this.buf=new Uint8Array(aC)}add(e){let t=0,n=0,r=new DataView(this.buf.buffer),i=new DataView(e.buffer);for(let e=0;e<8;e++){let a=e*4,o=r.getUint32(a,!0),s=i.getUint32(a,!0),c=o;c+=t,c+=s,c>4294967295&&(n=1),r.setUint32(a,c&4294967295,!0),t=n,n=0}}negate(){let e=new DataView(this.buf.buffer);for(let t=0;t<8;t++){let n=t*4;e.setUint32(n,~e.getUint32(n,!0))}let t=new Uint8Array(aC);t[0]=1,this.add(t)}getFingerprint(e){let t=new cC;return t.extend(this.buf),t.extend(uC(e)),Vg(t.unwrap()).subarray(0,oC)}},mC=class{items;sealed;constructor(){this.items=[],this.sealed=!1}insert(e,t){if(this.sealed)throw Error(`already sealed`);let n=O_(t);if(n.byteLength!==aC)throw Error(`bad id size for added item`);this.items.push({timestamp:e,id:n})}seal(){if(this.sealed)throw Error(`already sealed`);this.sealed=!0,this.items.sort(_C);for(let e=1;e<this.items.length;e++)if(_C(this.items[e-1],this.items[e])===0)throw Error(`duplicate item inserted`)}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(e){if(this._checkSealed(),e>=this.items.length)throw Error(`out of range`);return this.items[e]}iterate(e,t,n){this._checkSealed(),this._checkBounds(e,t);for(let r=e;r<t&&n(this.items[r],r);++r);}findLowerBound(e,t,n){return this._checkSealed(),this._checkBounds(e,t),this._binarySearch(this.items,e,t,e=>_C(e,n)<0)}fingerprint(e,t){let n=new pC;return n.setToZero(),this.iterate(e,t,e=>(n.add(e.id),!0)),n.getFingerprint(t-e)}_checkSealed(){if(!this.sealed)throw Error(`not sealed`)}_checkBounds(e,t){if(e>t||t>this.items.length)throw Error(`bad range`)}_binarySearch(e,t,n,r){let i=n-t;for(;i>0;){let n=t,a=Math.floor(i/2);n+=a,r(e[n])?(t=++n,i-=a+1):i=a}return t}},hC=class{storage;frameSizeLimit;lastTimestampIn;lastTimestampOut;constructor(e,t=6e4){if(t<4096)throw Error(`frameSizeLimit too small`);this.storage=e,this.frameSizeLimit=t,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(e,t){return{timestamp:e,id:t||new Uint8Array}}initiate(){let e=new cC;return e.extend(new Uint8Array([iC])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),e),T_(e.unwrap())}reconcile(e,t,n){let r=new cC(O_(e));this.lastTimestampIn=this.lastTimestampOut=0;let i=new cC;i.extend(new Uint8Array([iC]));let a=dC(r);if(a<96||a>111)throw Error(`invalid negentropy protocol version byte`);if(a!==iC)throw Error(`unsupported negentropy protocol version requested: `+(a-96));let o=this.storage.size(),s=this._bound(0),c=0,l=!1;for(;r.length!==0;){let e=new cC,a=()=>{l&&(l=!1,e.extend(this.encodeBound(s)),e.extend(uC(sC.Skip)))},u=this.decodeBound(r),d=lC(r),f=c,p=this.storage.findLowerBound(c,o,u);if(d===sC.Skip)l=!0;else if(d===sC.Fingerprint)gC(fC(r,oC),this.storage.fingerprint(f,p))===0?l=!0:(a(),this.splitRange(f,p,u,e));else if(d===sC.IdList){let e=lC(r),i={};for(let t=0;t<e;t++){let e=fC(r,aC);i[T_(e)]=e}if(l=!0,this.storage.iterate(f,p,e=>{let n=e.id,r=T_(n);return i[r]?delete i[T_(n)]:t?.(r),!0}),n)for(let e of Object.values(i))n(T_(e))}else throw Error(`unexpected mode`);if(this.exceededFrameSizeLimit(i.length+e.length)){let e=this.storage.fingerprint(p,o);i.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),i.extend(uC(sC.Fingerprint)),i.extend(e);break}else i.extend(e);c=p,s=u}return i.length===1?null:T_(i.unwrap())}splitRange(e,t,n,r){let i=t-e;if(i<32)r.extend(this.encodeBound(n)),r.extend(uC(sC.IdList)),r.extend(uC(i)),this.storage.iterate(e,t,e=>(r.extend(e.id),!0));else{let a=Math.floor(i/16),o=i%16,s=e;for(let e=0;e<16;e++){let i=a+(e<o?1:0),c=this.storage.fingerprint(s,s+i);s+=i;let l;if(s===t)l=n;else{let e,t;this.storage.iterate(s-1,s+1,(n,r)=>(r===s-1?e=n:t=n,!0)),l=this.getMinimalBound(e,t)}r.extend(this.encodeBound(l)),r.extend(uC(sC.Fingerprint)),r.extend(c)}}}exceededFrameSizeLimit(e){return e>this.frameSizeLimit-200}decodeTimestampIn(e){let t=lC(e);return t=t===0?Number.MAX_VALUE:t-1,this.lastTimestampIn===Number.MAX_VALUE||t===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(t+=this.lastTimestampIn,this.lastTimestampIn=t,t)}decodeBound(e){let t=this.decodeTimestampIn(e),n=lC(e);if(n>aC)throw Error(`bound key too long`);return{timestamp:t,id:fC(e,n)}}encodeTimestampOut(e){if(e===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,uC(0);let t=e;return e-=this.lastTimestampOut,this.lastTimestampOut=t,uC(e+1)}encodeBound(e){let t=new cC;return t.extend(this.encodeTimestampOut(e.timestamp)),t.extend(uC(e.id.length)),t.extend(e.id),t}getMinimalBound(e,t){if(t.timestamp!==e.timestamp)return this._bound(t.timestamp);{let n=0,r=t.id,i=e.id;for(let e=0;e<aC&&r[e]===i[e];e++)n++;return this._bound(t.timestamp,t.id.subarray(0,n+1))}}};function gC(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}function _C(e,t){return e.timestamp===t.timestamp?gC(e.id,t.id):e.timestamp-t.timestamp}var vC=class{relay;storage;neg;filter;subscription;onhave;onneed;constructor(e,t,n,r={}){this.relay=e,this.storage=t,this.neg=new hC(t),this.onhave=r.onhave,this.onneed=r.onneed,this.filter=n,this.subscription=this.relay.prepareSubscription([{}],{label:r.label||`negentropy`}),this.subscription.oncustom=e=>{switch(e[0]){case`NEG-MSG`:e.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${e}`);try{let t=this.neg.reconcile(e[2],this.onhave,this.onneed);t?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${t}"]`):(this.close(),r.onclose?.())}catch(e){console.error(`negentropy reconcile error:`,e),r?.onclose?.(`reconcile error: ${e}`)}break;case`NEG-CLOSE`:{let t=e[2];console.warn(`negentropy error:`,t),r.onclose?.(t);break}case`NEG-ERR`:r.onclose?.()}}}async start(){let e=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${e}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}};Yv({},{getToken:()=>bC,hashPayload:()=>DC,unpackEventFromToken:()=>SC,validateEvent:()=>kC,validateEventKind:()=>wC,validateEventMethodTag:()=>EC,validateEventPayloadTag:()=>OC,validateEventTimestamp:()=>CC,validateEventUrlTag:()=>TC,validateToken:()=>xC});var yC=`Nostr `;async function bC(e,t,n,r=!1,i){let a={kind:jb,tags:[[`u`,e],[`method`,t]],created_at:Math.round(new Date().getTime()/1e3),content:``};i&&a.tags.push([`payload`,DC(i)]);let o=await n(a);return(r?yC:``)+r_.encode(ey.encode(JSON.stringify(o)))}async function xC(e,t,n){return await kC(await SC(e).catch(e=>{throw e}),t,n).catch(e=>{throw e})}async function SC(e){if(!e)throw Error(`Missing token`);e=e.replace(yC,``);let t=$v.decode(r_.decode(e));if(!t||t.length===0||!t.startsWith(`{`))throw Error(`Invalid token`);return JSON.parse(t)}function CC(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function wC(e){return e.kind===jb}function TC(e,t){let n=e.tags.find(e=>e[0]===`u`);return n?n.length>0&&n[1]===t:!1}function EC(e,t){let n=e.tags.find(e=>e[0]===`method`);return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function DC(e){return _g(Vg(ey.encode(JSON.stringify(e))))}function OC(e,t){let n=e.tags.find(e=>e[0]===`payload`);if(!n)return!1;let r=DC(t);return n.length>0&&n[1]===r}async function kC(e,t,n,r){if(!my(e))throw Error(`Invalid nostr event, signature invalid`);if(!wC(e))throw Error(`Invalid nostr event, kind invalid`);if(!CC(e))throw Error(`Invalid nostr event, created_at timestamp invalid`);if(!TC(e,t))throw Error(`Invalid nostr event, url tag invalid`);if(!EC(e,n))throw Error(`Invalid nostr event, method tag invalid`);if(r&&typeof r==`object`&&Object.keys(r).length>0&&!OC(e,r))throw Error(`Invalid nostr event, payload tag does not match request body hash`);return!0}var AC=class{signer=null;pubkey=null;pendingPubKeyRequest=null;constructor(e){this.signer=e??window.nostr??null}isAvailable(){return this.signer!==null}async getPublicKey(){if(!this.signer)throw Error(`No signer available`);return this.pubkey?this.pubkey:(this.pendingPubKeyRequest||=(async()=>{try{return this.pubkey=await this.signer.getPublicKey(),this.pubkey}finally{this.pendingPubKeyRequest=null}})(),this.pendingPubKeyRequest)}async signEvent(e){if(!this.signer)throw Error(`No signer available`);let t=await this.getPublicKey(),n={...e,pubkey:t};return this.signer.signEvent(n)}async encrypt(e,t){if(!this.signer)throw Error(`No signer available`);if(this.signer.nip44?.encrypt)return this.signer.nip44.encrypt(e,t);if(this.signer.nip04?.encrypt)return console.warn(`[Signer] NIP-44 not available, falling back to NIP-04`),this.signer.nip04.encrypt(e,t);throw Error(`Signer does not support encryption (NIP-44 or NIP-04)`)}async decrypt(e,t){if(!this.signer)throw Error(`No signer available`);if(this.signer.nip44?.decrypt)return this.signer.nip44.decrypt(e,t);if(this.signer.nip04?.decrypt)return console.warn(`[Signer] NIP-44 not available, falling back to NIP-04`),this.signer.nip04.decrypt(e,t);throw Error(`Signer does not support decryption (NIP-44 or NIP-04)`)}},jC=[`public_read`,`public_write`,`storage_read`,`storage_write`,`space_read`,`space_write`,`spaces_read`,`spaces_write`,`dm_read`,`dm_write`];function MC(e){let t=[],n=e.match(/<meta\s+name=["']mirage-permissions["']\s+content=["']([^"']+)["']/i);if(n){let e=n[1].split(`,`).map(e=>e.trim());for(let n of e)jC.includes(n)?t.push(n):console.warn(`[Permissions] Unknown permission: ${n}`)}return{permissions:t}}var NC=class{sk;pubkey;constructor(e){this.sk=e,this.pubkey=fy(e)}async getPublicKey(){return this.pubkey}async signEvent(e){return py(e,this.sk)}nip04={encrypt:async(e,t)=>kx.encrypt(this.sk,e,t),decrypt:async(e,t)=>kx.decrypt(this.sk,e,t)};nip44={encrypt:async(e,t)=>{let n=Kx.v2.utils.getConversationKey(this.sk,e);return Kx.v2.encrypt(t,n)},decrypt:async(e,t)=>{let n=Kx.v2.utils.getConversationKey(this.sk,e);return Kx.v2.decrypt(t,n)}}};function PC(){return dy()}function FC(e){return fx.nsecEncode(e)}function IC(e){let{type:t,data:n}=fx.decode(e);if(t!==`nsec`)throw Error(`Invalid nsec: wrong type`);return n}function LC(e){try{if(e.startsWith(`nsec1`))return IC(e);if(e.length===64&&/^[0-9a-fA-F]+$/.test(e)){let t=new Uint8Array(32);for(let n=0;n<32;n++)t[n]=parseInt(e.substring(n*2,n*2+2),16);return t}}catch{}return null}function RC(e){let t=new NC(e);return window.nostr=t,t}var zC=null;function BC(){return zC||(zC=(async()=>{if(console.log(`[WebAuthn PRF] Starting PRF support check...`),console.warn(`[WebAuthn PRF]  NOTE: Windows Hello does NOT support PRF. You need a hardware security key (YubiKey, etc.) that supports hmac-secret. macOS Touch ID and Chrome on Android DO support PRF.`),!window.PublicKeyCredential)return console.warn(`[WebAuthn PRF] PublicKeyCredential API not available`),!1;if(!navigator.credentials?.create||!navigator.credentials?.get)return console.warn(`[WebAuthn PRF] navigator.credentials.create/get not available`),!1;if(!window.isSecureContext)return console.warn(`[WebAuthn PRF] Not in a secure context (HTTPS required)`),!1;console.log(`[WebAuthn PRF]  Secure context and WebAuthn API available`);try{if(typeof window.PublicKeyCredential.getClientCapabilities==`function`){let e=await window.PublicKeyCredential.getClientCapabilities(),t=!!e.prf||!!e[`extension:prf`];return console.log(`[WebAuthn PRF] PRF via getClientCapabilities: ${t}`),t||console.warn(`[WebAuthn PRF]  PRF not supported by current authenticator. If on Windows, Windows Hello doesn't support PRF - use a YubiKey or other security key.`),t}else console.log(`[WebAuthn PRF] getClientCapabilities not available, cannot determine PRF support without trying`)}catch(e){console.warn(`[WebAuthn PRF] getClientCapabilities threw:`,e)}return console.warn(`[WebAuthn PRF] Cannot detect PRF support. Will attempt registration, but note: Windows Hello does NOT support PRF.`),!0})(),zC)}var VC=new Uint8Array(32).fill(1);async function HC(e={}){let t=e.salt||VC;if(t.length!==32)throw Error(`PRF salt must be exactly 32 bytes (got ${t.length})`);console.log(`[WebAuthn PRF] Salt (first 8 bytes):`,Array.from(t.slice(0,8)));let n=crypto.getRandomValues(new Uint8Array(32));if(console.log(`[WebAuthn PRF] Challenge generated (32 bytes)`),e.credentialId){console.log(`[WebAuthn PRF] Starting Assertion (get) with credential ID...`),console.log(`[WebAuthn PRF] Credential ID (base64):`,JC(e.credentialId));let r=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),i={prf:{eval:{first:r}}};console.log(`[WebAuthn PRF] PRF extension (eval.first is ArrayBuffer):`,r instanceof ArrayBuffer?` ArrayBuffer`:` Not ArrayBuffer`);try{let t=window.location.hostname;console.log(`[WebAuthn PRF] Assertion RP ID: ${t}`);let r={challenge:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength),rpId:t,timeout:12e4,allowCredentials:[{id:e.credentialId.buffer.slice(e.credentialId.byteOffset,e.credentialId.byteOffset+e.credentialId.byteLength),type:`public-key`,transports:[`internal`,`hybrid`]}],userVerification:`required`,extensions:i};console.log(`[WebAuthn PRF] Calling navigator.credentials.get with extensions...`);let a=await navigator.credentials.get({publicKey:r});if(!a)throw Error(`WebAuthn assertion returned null (user canceled?)`);let o=a.getClientExtensionResults();console.log(`[WebAuthn PRF] Assertion Extension Results:`,JSON.stringify(o,null,2)),console.log(`[WebAuthn PRF] Raw results object keys:`,Object.keys(o));let s=o.prf||o[`extension:prf`];if(console.log(`[WebAuthn PRF] PRF result object:`,s),!s)throw console.error(`[WebAuthn PRF] No PRF in results. Full results:`,o),Error(`WebAuthn PRF: No prf extension in results. Your passkey provider may not support PRF. Google Password Manager has limited PRF support.`);if(!s.results)throw Error(`WebAuthn PRF: prf.results is missing. Authenticator may not support PRF.`);if(!s.results.first)throw Error(`WebAuthn PRF: prf.results.first is missing. PRF evaluation failed.`);let c=new Uint8Array(s.results.first);return console.log(`[WebAuthn PRF]  Key derived successfully (${c.length} bytes)`),{key:c,credentialId:new Uint8Array(a.rawId)}}catch(e){throw console.error(`[WebAuthn PRF] Assertion failed:`,e),e.name===`NotAllowedError`&&(console.error(`[WebAuthn PRF] NotAllowedError during assertion - Possible causes:`),console.error(`  1. User canceled or timed out`),console.error(`  2. Credential not found for this RP`),console.error(`  3. Google Password Manager may not support PRF`)),e}}else{console.log(`[WebAuthn PRF] Starting Attestation (create) to register new credential...`);let r=crypto.getRandomValues(new Uint8Array(16)),i=window.location.hostname;console.log(`[WebAuthn PRF] Generated user ID for credential`),console.log(`[WebAuthn PRF] RP ID: ${i}`),console.log(`[WebAuthn PRF] Full origin: ${window.location.origin}`);let a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);try{let t=await navigator.credentials.create({publicKey:{challenge:n,rp:{name:`Mirage`,id:i},user:{id:r,name:`mirage-user`,displayName:`Mirage User`},pubKeyCredParams:[{alg:-7,type:`public-key`},{alg:-257,type:`public-key`}],timeout:12e4,authenticatorSelection:{authenticatorAttachment:`platform`,residentKey:`required`,userVerification:`required`},extensions:{prf:{eval:{first:a}}}}});if(!t)throw Error(`WebAuthn credential creation returned null (user canceled?)`);let o=new Uint8Array(t.rawId);console.log(`[WebAuthn PRF]  Credential created successfully`),console.log(`[WebAuthn PRF] Credential ID (base64):`,JC(o));let s=t.getClientExtensionResults();console.log(`[WebAuthn PRF] Attestation Extension Results:`,JSON.stringify(s,null,2));let c=s.prf||s[`extension:prf`];if(c){if(console.log(`[WebAuthn PRF] PRF enabled: ${c.enabled}`),c.results&&c.results.first){console.log(`[WebAuthn PRF]  PRF key derived during creation!`);let e=new Uint8Array(c.results.first);return console.log(`[WebAuthn PRF]  Key derived successfully (${e.length} bytes)`),{key:e,credentialId:o}}if(c.enabled===!1)throw console.error(`[WebAuthn PRF] PRF explicitly disabled by authenticator`),Error(`WebAuthn PRF: Your device created a passkey but does not support PRF encryption. This feature requires a hardware security key or compatible platform authenticator.`)}return console.warn(`[WebAuthn PRF] PRF not evaluated during create, attempting follow-up get()...`),console.warn(`[WebAuthn PRF] Note: This may fail on mobile due to user gesture expiration`),HC({...e,credentialId:o})}catch(e){throw console.error(`[WebAuthn PRF] Attestation failed:`,e),e.name===`NotAllowedError`?(console.error(`[WebAuthn PRF] NotAllowedError - Possible causes:`),console.error(`  1. User canceled the operation`),console.error(`  2. User took too long (timeout)`),console.error(`  3. RP ID mismatch with current domain`),console.error(`  4. WebAuthn not triggered by user gesture`),console.error(`  Current RP ID: ${i}`)):e.name===`InvalidStateError`?console.error(`[WebAuthn PRF] InvalidStateError - Credential already exists for this user`):e.name===`SecurityError`&&console.error(`[WebAuthn PRF] SecurityError - RP ID is not valid for this origin`),e}}}async function UC(e,t){console.log(`[WebAuthn PRF] Encrypting ${t.length} characters...`),console.log(`[WebAuthn PRF] Key length: ${e.length} bytes`);let n=crypto.getRandomValues(new Uint8Array(12));console.log(`[WebAuthn PRF] Generated IV (12 bytes)`);try{let r=await crypto.subtle.importKey(`raw`,e.buffer,{name:`AES-GCM`,length:256},!1,[`encrypt`]);console.log(`[WebAuthn PRF]  Key imported for encryption`);let i=new TextEncoder().encode(t),a=await crypto.subtle.encrypt({name:`AES-GCM`,iv:n},r,i),o={ciphertext:JC(new Uint8Array(a)),iv:JC(n)};return console.log(`[WebAuthn PRF]  Encrypted to ${o.ciphertext.length} base64 characters`),o}catch(e){throw console.error(`[WebAuthn PRF] Encryption failed:`,e),e}}async function WC(e,t,n){console.log(`[WebAuthn PRF] Decrypting ${t.length} base64 characters...`),console.log(`[WebAuthn PRF] Key length: ${e.length} bytes`);try{let r=await crypto.subtle.importKey(`raw`,e.buffer,{name:`AES-GCM`,length:256},!1,[`decrypt`]);console.log(`[WebAuthn PRF]  Key imported for decryption`);let i=YC(n),a=YC(t);console.log(`[WebAuthn PRF] IV: ${i.length} bytes, Ciphertext: ${a.length} bytes`);let o=await crypto.subtle.decrypt({name:`AES-GCM`,iv:i.buffer},r,a.buffer),s=new TextDecoder().decode(o);return console.log(`[WebAuthn PRF]  Decrypted to ${s.length} characters`),s}catch(e){throw console.error(`[WebAuthn PRF] Decryption failed:`,e),e}}var GC=`mirage_identity_v1`;function KC(e){window.localStorage.setItem(GC,JSON.stringify(e))}function qC(){let e=window.localStorage.getItem(GC);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function JC(e){let t=Array.from(e,e=>String.fromCodePoint(e)).join(``);return btoa(t)}function YC(e){let t=atob(e);return Uint8Array.from(t,e=>e.codePointAt(0))}function XC(e){try{let t=fx.decode(e);if(t.type===`naddr`)return`${t.data.kind}:${t.data.pubkey}:${t.data.identifier}`}catch(e){console.warn(`[Host] Failed to decode naddr for canonical ID:`,e)}return e}var ZC=[`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/`,`https://fonts.googleapis.com/`,`https://fonts.gstatic.com/`],QC=class{config;signer;iframe=null;engineWorker;appPermissions={permissions:[]};relays;pendingInternalRequests=new Map;listeners={};constructor(e){this.config=e,this.signer=new AC(e.signer),this.relays=[...e.relays],console.log(`[Host] Spawning Engine Worker:`,e.engineUrl),this.engineWorker=new Worker(e.engineUrl),this.engineWorker.onmessage=this.handleEngineMessage.bind(this),this.engineWorker.onerror=e=>console.error(`[Host] Engine Worker Error:`,e),window.addEventListener(`message`,this.handleAppMessage.bind(this)),this.sendRelayConfig(`SET`,this.relays)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(e=>e!==t))}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>e(t))}addRelay(e){this.relays.includes(e)||(this.relays.push(e),this.sendRelayConfig(`ADD`,[e]))}removeRelay(e){let t=this.relays.indexOf(e);t!==-1&&(this.relays.splice(t,1),this.sendRelayConfig(`REMOVE`,[e]))}getRelays(){return[...this.relays]}async getRelayStats(){return(await this.sendToEngine({type:`ACTION_GET_RELAY_STATUS`,id:crypto.randomUUID()})).stats}setPubkey(e){console.log(`[Host] Setting pubkey on engine:`,e.slice(0,8)+`...`),this.engineWorker.postMessage({type:`SET_PUBKEY`,id:crypto.randomUUID(),pubkey:e})}setAppOrigin(e){console.log(`[Host] Setting app origin:`,e),this.engineWorker.postMessage({type:`SET_APP_ORIGIN`,id:crypto.randomUUID(),origin:e})}setSigner(e){this.signer=new AC(e)}sendRelayConfig(e,t){let n={type:`RELAY_CONFIG`,id:crypto.randomUUID(),action:e,relays:t};this.finalPostToEngine(n)}async mount(e,t,n){let r=n?.appId;this.appPermissions=MC(e),this.iframe=document.createElement(`iframe`),this.iframe.sandbox.add(`allow-scripts`),this.iframe.sandbox.add(`allow-forms`),this.iframe.sandbox.add(`allow-modals`),this.iframe.style.width=`100%`,this.iframe.style.height=`100%`,this.iframe.style.border=`none`;let i=this.injectBridge(e);this.iframe.srcdoc=i,t.innerHTML=``,t.appendChild(this.iframe),await new Promise(e=>{let t=async i=>{if(i.source===this.iframe?.contentWindow&&i.data?.type===`BRIDGE_READY`){if(window.removeEventListener(`message`,t),console.log(`[Host] Bridge ready`),r){let e=XC(r);console.log(`[Host] Setting app origin:`,e),this.engineWorker.postMessage({type:`SET_APP_ORIGIN`,id:crypto.randomUUID(),origin:e}),this.iframe?.contentWindow?.postMessage({type:`SET_APP_ORIGIN`,origin:e},`*`)}if(n?.spaceId){console.log(`[Host] Setting space context:`,n.spaceId);let e={type:`SET_SPACE_CONTEXT`,id:crypto.randomUUID(),spaceId:n.spaceId,spaceName:n.spaceName||``};this.engineWorker.postMessage(e),this.iframe?.contentWindow?.postMessage(e,`*`)}e()}};window.addEventListener(`message`,t)})}unmount(){this.iframe&&=(this.iframe.remove(),null),this.appPermissions={permissions:[]},this.engineWorker.postMessage({type:`SET_APP_ORIGIN`,id:crypto.randomUUID(),origin:`mirage`}),this.engineWorker.postMessage({type:`SET_SPACE_CONTEXT`,id:crypto.randomUUID(),spaceId:void 0,spaceName:void 0})}async createSpace(e,t){return this.request(`POST`,`/mirage/v1/admin/spaces`,{name:e,appOrigin:t})}async renameSpace(e,t){return this.request(`PUT`,`/mirage/v1/admin/spaces/${e}`,{name:t})}async listSpaces(){return this.request(`GET`,`/mirage/v1/admin/spaces`)}async getSpace(e){return this.request(`GET`,`/mirage/v1/admin/spaces/${e}`)}async deleteSpace(e){return this.request(`DELETE`,`/mirage/v1/admin/spaces/${e}`)}async inviteToSpace(e,t,n){return this.request(`POST`,`/mirage/v1/admin/spaces/${e}/invitations`,{pubkey:t,name:n})}async fetchApp(e){return this.sendToEngine({type:`ACTION_FETCH_APP`,id:crypto.randomUUID(),naddr:e})}async request(e,t,n){return this.sendToEngine({type:`API_REQUEST`,id:crypto.randomUUID(),method:e,path:t,body:n})}async sendToEngine(e){let t=performance.now();return new Promise((n,r)=>{let i=setTimeout(()=>{this.pendingInternalRequests.has(e.id)&&(this.pendingInternalRequests.delete(e.id),r(Error(`Engine request timed out after 15s: ${e.type}`)))},15e3);this.pendingInternalRequests.set(e.id,{resolve:e=>{clearTimeout(i),performance.now()-t,n(e)},reject:e=>{clearTimeout(i),r(e)}}),this.engineWorker.postMessage(e)})}injectBridge(e){let t=this.buildCspMeta(),n=`
      <script>
        // Immediately patch fetch to queue /mirage/ requests
        (function() {
          const originalFetch = window.fetch.bind(window);
          const pendingQueue = [];
          let bridgeReady = false;
          let resolveReady;
          const bridgeReadyPromise = new Promise(r => resolveReady = r);
          
          window.fetch = function(input, init) {
            const url = typeof input === 'string' ? input : input instanceof URL ? input.href : input.url;
            if (!url.startsWith('/mirage/')) {
              return originalFetch(input, init);
            }
            // Queue mirage requests until bridge is ready
            return bridgeReadyPromise.then(() => window.fetch(input, init));
          };
          
          // Expose ready signal for bridge to call
          window.__mirageBridgeReady = function(newFetch) {
            window.fetch = newFetch;
            bridgeReady = true;
            resolveReady();
          };
        })();
      <\/script>
    `,r=`
      <script type="module">
        console.log('[Bridge Loader] Fetching bridge...');
        try {
          const bridgeResponse = await fetch('${this.config.bridgeUrl}');
          if (!bridgeResponse.ok) throw new Error('Failed to load bridge: ' + bridgeResponse.status);
          const bridgeCode = await bridgeResponse.text();
          const bridgeBlob = new Blob([bridgeCode], { type: 'application/javascript' });
          const bridgeUrl = URL.createObjectURL(bridgeBlob);
          
          const { initBridge } = await import(bridgeUrl);
          console.log('[Bridge Loader] Bridge loaded, initializing...');
          // Host mode: we don't pass workerUrl because Host owns the worker
          await initBridge({ workerUrl: '' });
          console.log('[Bridge Loader] Bridge initialized!');
        } catch (err) {
          console.error('[Bridge Loader] Error:', err);
        }
      <\/script>
    `,i=t+e;return i.includes(`</head>`)?i.replace(`</head>`,n+r+`</head>`):i.includes(`<body>`)?i.replace(`<body>`,`<body>`+n+r):t+n+r+e}buildCspMeta(){let e=ZC.join(` `),t=ZC.join(` `),n=``;try{n=new URL(this.config.bridgeUrl,window.location.origin).origin}catch{n=window.location.origin}return`<meta http-equiv="Content-Security-Policy" content="${[`default-src * blob: data:`,`script-src 'unsafe-inline' 'unsafe-eval' blob:`,`style-src 'unsafe-inline' * ${e}`,`font-src * data: ${t}`,`img-src * blob: data:`,`connect-src blob: ${n}`,`frame-src blob: data:`,`media-src * blob: data:`].join(`; `)}">`}handleAppMessage(e){if(this.iframe&&e.source!==this.iframe.contentWindow)return;let t=e.data;t.type===`API_REQUEST`||t.type===`STREAM_OPEN`||t.type===`STREAM_CLOSE`?this.engineWorker.postMessage(t):t.type===`ACTION_SIGN_EVENT`&&this.handleSignRequest(t)}handleEngineMessage(e){let t=e.data;if(t.id&&this.pendingInternalRequests.has(t.id)){let e=this.pendingInternalRequests.get(t.id);e&&(this.pendingInternalRequests.delete(t.id),t.type===`ERROR`||t.error?e.reject(Error(t.error||`Unknown error`)):t.type===`API_RESPONSE`?e.resolve(t.body):t.type===`FETCH_APP_RESULT`?e.resolve(t.html):e.resolve(t));return}t.type===`API_RESPONSE`?this.postToIframe(t):t.type===`ACTION_SIGN_EVENT`?this.handleSignRequest(t,!0):t.type===`ACTION_ENCRYPT`?this.handleEncryptRequest(t):t.type===`ACTION_DECRYPT`?this.handleDecryptRequest(t):t.type===`STREAM_CHUNK`||t.type===`STREAM_CLOSE`||t.type===`STREAM_ERROR`?this.postToIframe(t):t.type===`NEW_SPACE_INVITE`&&this.emit(`new_space_invite`,t)}async handleEncryptRequest(e){try{if(!this.signer.isAvailable()){this.engineWorker.postMessage({type:`ENCRYPT_RESULT`,id:e.id,error:`No signer available`});return}let t=await this.signer.encrypt(e.pubkey,e.plaintext);this.engineWorker.postMessage({type:`ENCRYPT_RESULT`,id:e.id,ciphertext:t})}catch(t){this.engineWorker.postMessage({type:`ENCRYPT_RESULT`,id:e.id,error:t instanceof Error?t.message:`Encryption failed`})}}async handleDecryptRequest(e){try{if(!this.signer.isAvailable()){this.engineWorker.postMessage({type:`DECRYPT_RESULT`,id:e.id,error:`No signer available`});return}let t=await this.signer.decrypt(e.pubkey,e.ciphertext);this.engineWorker.postMessage({type:`DECRYPT_RESULT`,id:e.id,plaintext:t})}catch(t){this.engineWorker.postMessage({type:`DECRYPT_RESULT`,id:e.id,error:t instanceof Error?t.message:`Decryption failed`})}}async handleSignRequest(e,t=!1){try{if(!this.signer.isAvailable()){let n={type:`SIGNATURE_RESULT`,id:e.id,error:`No signer available`};t?this.engineWorker.postMessage(n):this.postToIframe(n);return}let n=await this.signer.signEvent(e.event),r={type:`SIGNATURE_RESULT`,id:e.id,signedEvent:n};t?this.engineWorker.postMessage(r):this.postToIframe(r)}catch(n){let r={type:`SIGNATURE_RESULT`,id:e.id,error:n instanceof Error?n.message:`Signing failed`};t?this.engineWorker.postMessage(r):this.postToIframe(r)}}postToIframe(e){this.iframe?.contentWindow&&this.iframe.contentWindow.postMessage(e,`*`)}finalPostToEngine(e){this.engineWorker.postMessage(e)}destroy(){this.unmount(),window.removeEventListener(`message`,this.handleAppMessage.bind(this)),this.engineWorker.terminate()}};const $C=[{url:`wss://relay.damus.io`,name:`Damus`},{url:`wss://nos.lol`,name:`Nos.lol`},{url:`wss://relay.nostr.band`,name:`Nostr.band`},{url:`wss://relay.snort.social`,name:`Snort`},{url:`wss://purplepag.es`,name:`Purple Pages`},{url:`wss://relay.primal.net`,name:`Primal`},{url:`wss://eden.nostr.land`,name:`Eden`},{url:`wss://relay.current.fyi`,name:`Current`},{url:`wss://offchain.pub`,name:`Offchain`},{url:`wss://relay.orangepill.dev`,name:`Orange Pill`}],ew=[`wss://relay.damus.io`];var tw=(0,b.createContext)({});function nw(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var rw=(0,b.createContext)(null),iw=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`}),aw=class extends b.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function ow({children:e,isPresent:t}){let n=(0,b.useId)(),r=(0,b.useRef)(null),i=(0,b.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,b.useContext)(iw);return(0,b.useInsertionEffect)(()=>{let{width:e,height:o,top:s,left:c}=i.current;if(t||!r.current||!e||!o)return;r.current.dataset.motionPopId=n;let l=document.createElement(`style`);return a&&(l.nonce=a),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),(0,Z.jsx)(aw,{isPresent:t,childRef:r,sizeRef:i,children:b.cloneElement(e,{ref:r})})}var sw=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{let s=nw(cw),c=(0,b.useId)(),l=(0,b.useCallback)(e=>{s.set(e,!0);for(let e of s.values())if(!e)return;r&&r()},[s,r]),u=(0,b.useMemo)(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:l,register:e=>(s.set(e,!1),()=>s.delete(e))}),a?[Math.random(),l]:[n,l]);return(0,b.useMemo)(()=>{s.forEach((e,t)=>s.set(t,!1))},[n]),b.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o===`popLayout`&&(e=(0,Z.jsx)(ow,{isPresent:n,children:e})),(0,Z.jsx)(rw.Provider,{value:u,children:e})};function cw(){return new Map}function lw(e=!0){let t=(0,b.useContext)(rw);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,b.useId)();(0,b.useEffect)(()=>{e&&i(a)},[e]);let o=(0,b.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var uw=e=>e.key||``;function dw(e){let t=[];return b.Children.forEach(e,e=>{(0,b.isValidElement)(e)&&t.push(e)}),t}var fw=typeof window<`u`,pw=fw?b.useLayoutEffect:b.useEffect,mw=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1})=>{let[s,c]=lw(o),l=(0,b.useMemo)(()=>dw(e),[e]),u=o&&!s?[]:l.map(uw),d=(0,b.useRef)(!0),f=(0,b.useRef)(l),p=nw(()=>new Map),[m,h]=(0,b.useState)(l),[g,_]=(0,b.useState)(l);pw(()=>{d.current=!1,f.current=l;for(let e=0;e<g.length;e++){let t=uw(g[e]);u.includes(t)?p.delete(t):p.get(t)!==!0&&p.set(t,!1)}},[g,u.length,u.join(`-`)]);let v=[];if(l!==m){let e=[...l];for(let t=0;t<g.length;t++){let n=g[t],r=uw(n);u.includes(r)||(e.splice(t,0,n),v.push(n))}a===`wait`&&v.length&&(e=v),_(dw(e)),h(l);return}let{forceRender:y}=(0,b.useContext)(tw);return(0,Z.jsx)(Z.Fragment,{children:g.map(e=>{let m=uw(e),h=o&&!s?!1:l===g||u.includes(m);return(0,Z.jsx)(sw,{isPresent:h,initial:!d.current||n?void 0:!1,custom:h?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:h?void 0:()=>{if(p.has(m))p.set(m,!0);else return;let e=!0;p.forEach(t=>{t||(e=!1)}),e&&(y?.(),_(f.current),o&&c?.(),r&&r())},children:e},m)})})},hw=e=>e,gw=hw,_w=hw;function vw(e){let t;return()=>(t===void 0&&(t=e()),t)}var yw=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},bw=e=>e*1e3,xw=e=>e/1e3,Sw={skipAnimations:!1,useManualTiming:!1};function Cw(e){let t=new Set,n=new Set,r=!1,i=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1};function s(t){a.has(t)&&(c.schedule(t),e()),t(o)}let c={schedule:(e,i=!1,o=!1)=>{let s=o&&r?t:n;return i&&a.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),a.delete(e)},process:e=>{if(o=e,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(s),t.clear(),r=!1,i&&(i=!1,c.process(e))}};return c}var ww=[`read`,`resolveKeyframes`,`update`,`preRender`,`render`,`postRender`],Tw=40;function Ew(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=ww.reduce((e,t)=>(e[t]=Cw(a),e),{}),{read:s,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:f}=o,p=()=>{let a=Sw.useManualTiming?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,Tw),1),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(p))},m=()=>{n=!0,r=!0,i.isProcessing||e(p)};return{schedule:ww.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||m(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<ww.length;t++)o[ww[t]].cancel(e)},state:i,steps:o}}var{schedule:Dw,cancel:Ow,state:kw,steps:Aw}=Ew(typeof requestAnimationFrame<`u`?requestAnimationFrame:hw,!0),jw=(0,b.createContext)({strict:!1}),Mw={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},Nw={};for(let e in Mw)Nw[e]={isEnabled:t=>Mw[e].some(e=>!!t[e])};function Pw(e){for(let t in e)Nw[t]={...Nw[t],...e[t]}}var Fw=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.ignoreStrict.viewport`.split(`.`));function Iw(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||Fw.has(e)}var Lw=c({default:()=>Rw}),Rw,zw=o((()=>{throw Rw={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),Bw=e=>!Iw(e);function Vw(e){e&&(Bw=t=>t.startsWith(`on`)?!Iw(t):e(t))}try{Vw((zw(),d(Lw)).default)}catch{}function Hw(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(Bw(i)||n===!0&&Iw(i)||!t&&!Iw(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}function Uw(e){if(typeof Proxy>`u`)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(n,r)=>r===`create`?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}var Ww=(0,b.createContext)({});function Gw(e){return typeof e==`string`||Array.isArray(e)}function Kw(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}var qw=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],Jw=[`initial`,...qw];function Yw(e){return Kw(e.animate)||Jw.some(t=>Gw(e[t]))}function Xw(e){return!!(Yw(e)||e.variants)}function Zw(e,t){if(Yw(e)){let{initial:t,animate:n}=e;return{initial:t===!1||Gw(t)?t:void 0,animate:Gw(n)?n:void 0}}return e.inherit===!1?{}:t}function Qw(e){let{initial:t,animate:n}=Zw(e,(0,b.useContext)(Ww));return(0,b.useMemo)(()=>({initial:t,animate:n}),[$w(t),$w(n)])}function $w(e){return Array.isArray(e)?e.join(` `):e}var eT=Symbol.for(`motionComponentSymbol`);function tT(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function nT(e,t,n){return(0,b.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==`function`?n(r):tT(n)&&(n.current=r))},[t])}var rT=e=>e.replace(/([a-z])([A-Z])/gu,`$1-$2`).toLowerCase(),iT=`data-`+rT(`framerAppearId`),{schedule:aT,cancel:oT}=Ew(queueMicrotask,!1),sT=(0,b.createContext)({});function cT(e,t,n,r,i){let{visualElement:a}=(0,b.useContext)(Ww),o=(0,b.useContext)(jw),s=(0,b.useContext)(rw),c=(0,b.useContext)(iw).reducedMotion,l=(0,b.useRef)(null);r||=o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:c}));let u=l.current,d=(0,b.useContext)(sT);u&&!u.projection&&i&&(u.type===`html`||u.type===`svg`)&&lT(l.current,n,i,d);let f=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{u&&f.current&&u.update(n,s)});let p=n[iT],m=(0,b.useRef)(!!p&&!window.MotionHandoffIsComplete?.call(window,p)&&window.MotionHasOptimisedAnimation?.call(window,p));return pw(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),aT.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,b.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&=(queueMicrotask(()=>{var e;(e=window.MotionHandoffMarkAsComplete)==null||e.call(window,p)}),!1))}),u}function lT(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:uT(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&tT(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}function uT(e){if(e)return e.options.allowProjection===!1?uT(e.parent):e.projection}function dT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Pw(e);function a(a,o){let s,c={...(0,b.useContext)(iw),...a,layoutId:fT(a)},{isStatic:l}=c,u=Qw(a),d=r(a,l);if(!l&&fw){pT(c,e);let n=mT(c);s=n.MeasureLayout,u.visualElement=cT(i,d,c,t,n.ProjectionNode)}return(0,Z.jsxs)(Ww.Provider,{value:u,children:[s&&u.visualElement?(0,Z.jsx)(s,{visualElement:u.visualElement,...c}):null,n(i,a,nT(d,u.visualElement,o),d,l,u.visualElement)]})}a.displayName=`motion.${typeof i==`string`?i:`create(${i.displayName??i.name??``})`}`;let o=(0,b.forwardRef)(a);return o[eT]=i,o}function fT({layoutId:e}){let t=(0,b.useContext)(tw).id;return t&&e!==void 0?t+`-`+e:e}function pT(e,t){(0,b.useContext)(jw).strict}function mT(e){let{drag:t,layout:n}=Nw;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}var hT=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function gT(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(hT.indexOf(e)>-1||/[A-Z]/u.test(e))}function _T(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function vT(e,t,n,r){if(typeof t==`function`){let[i,a]=_T(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=_T(r);t=t(n===void 0?e.custom:n,i,a)}return t}var yT=e=>Array.isArray(e),bT=e=>!!(e&&typeof e==`object`&&e.mix&&e.toValue),xT=e=>yT(e)?e[e.length-1]||0:e,ST=e=>!!(e&&e.getVelocity);function CT(e){let t=ST(e)?e.get():e;return bT(t)?t.toValue():t}function wT({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){let o={latestValues:ET(r,i,a,e),renderState:t()};return n&&(o.onMount=e=>n({props:r,current:e,...o}),o.onUpdate=e=>n(e)),o}var TT=e=>(t,n)=>{let r=(0,b.useContext)(Ww),i=(0,b.useContext)(rw),a=()=>wT(e,t,r,i);return n?a():nw(a)};function ET(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=CT(a[e]);let{initial:o,animate:s}=e,c=Yw(e),l=Xw(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!Kw(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=vT(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var DT=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],OT=new Set(DT),kT=e=>t=>typeof t==`string`&&t.startsWith(e),AT=kT(`--`),jT=kT(`var(--`),MT=e=>jT(e)?NT.test(e.split(`/*`)[0].trim()):!1,NT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,PT=(e,t)=>t&&typeof e==`number`?t.transform(e):e,FT=(e,t,n)=>n>t?t:n<e?e:n,IT={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},LT={...IT,transform:e=>FT(0,1,e)},RT={...IT,default:1},zT=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),BT=zT(`deg`),VT=zT(`%`),$=zT(`px`),HT=zT(`vh`),UT=zT(`vw`),WT={...VT,parse:e=>VT.parse(e)/100,transform:e=>VT.transform(e*100)},GT={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},KT={rotate:BT,rotateX:BT,rotateY:BT,rotateZ:BT,scale:RT,scaleX:RT,scaleY:RT,scaleZ:RT,skew:BT,skewX:BT,skewY:BT,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:LT,originX:WT,originY:WT,originZ:$},qT={...IT,transform:Math.round},JT={...GT,...KT,zIndex:qT,size:$,fillOpacity:LT,strokeOpacity:LT,numOctaves:qT},YT={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},XT=DT.length;function ZT(e,t,n){let r=``,i=!0;for(let a=0;a<XT;a++){let o=DT[a],s=e[o];if(s===void 0)continue;let c=!0;if(c=typeof s==`number`?s===(o.startsWith(`scale`)?1:0):parseFloat(s)===0,!c||n){let e=PT(s,JT[o]);if(!c){i=!1;let t=YT[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function QT(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(OT.has(e)){o=!0;continue}else if(AT(e)){i[e]=n;continue}else{let t=PT(n,JT[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=ZT(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}var $T={offset:`stroke-dashoffset`,array:`stroke-dasharray`},eE={offset:`strokeDashoffset`,array:`strokeDasharray`};function tE(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?$T:eE;e[a.offset]=$.transform(-r);let o=$.transform(t),s=$.transform(n);e[a.array]=`${o} ${s}`}function nE(e,t,n){return typeof e==`string`?e:$.transform(t+n*e)}function rE(e,t,n){return`${nE(t,e.x,e.width)} ${nE(n,e.y,e.height)}`}function iE(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:c=0,...l},u,d){if(QT(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=rE(m,i===void 0?.5:i,a===void 0?.5:a)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&tE(f,o,s,c,!1)}var aE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oE=()=>({...aE(),attrs:{}}),sE=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function cE(e,{style:t,vars:n},r,i){for(let a in Object.assign(e.style,t,i&&i.getProjectionStyles(r)),n)e.style.setProperty(a,n[a])}var lE=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]);function uE(e,t,n,r){for(let n in cE(e,t,void 0,r),t.attrs)e.setAttribute(lE.has(n)?n:rT(n),t.attrs[n])}var dE={};function fE(e){Object.assign(dE,e)}function pE(e,{layout:t,layoutId:n}){return OT.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!dE[e]||e===`opacity`)}function mE(e,t,n){let{style:r}=e,i={};for(let a in r)(ST(r[a])||t.style&&ST(t.style[a])||pE(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}function hE(e,t,n){let r=mE(e,t,n);for(let n in e)if(ST(e[n])||ST(t[n])){let t=DT.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}function gE(e,t){try{t.dimensions=typeof e.getBBox==`function`?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}var _E=[`x`,`y`,`width`,`height`,`cx`,`cy`,`r`],vE={useVisualState:TT({scrapeMotionValuesFromProps:hE,createRenderState:oE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(let e in i)if(OT.has(e)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let n=0;n<_E.length;n++){let r=_E[n];e[r]!==t[r]&&(o=!0)}o&&Dw.read(()=>{gE(n,r),Dw.render(()=>{iE(r,i,sE(n.tagName),e.transformTemplate),uE(n,r)})})}})},yE={useVisualState:TT({scrapeMotionValuesFromProps:mE,createRenderState:aE})};function bE(e,t,n){for(let r in t)!ST(t[r])&&!pE(r,n)&&(e[r]=t[r])}function xE({transformTemplate:e},t){return(0,b.useMemo)(()=>{let n=aE();return QT(n,t,e),Object.assign({},n.vars,n.style)},[t])}function SE(e,t){let n=e.style||{},r={};return bE(r,n,e),Object.assign(r,xE(e,t)),r}function CE(e,t){let n={},r=SE(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function wE(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=oE();return iE(n,t,sE(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};bE(t,e.style,e),i.style={...t,...i.style}}return i}function TE(e=!1){return(t,n,r,{latestValues:i},a)=>{let o=(gT(t)?wE:CE)(n,i,a,t),s=Hw(n,typeof t==`string`,e),c=t===b.Fragment?{}:{...s,...o,ref:r},{children:l}=n,u=(0,b.useMemo)(()=>ST(l)?l.get():l,[l]);return(0,b.createElement)(t,{...c,children:u})}}function EE(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return dT({...gT(n)?vE:yE,preloadedFeatures:e,useRender:TE(r),createVisualElement:t,Component:n})}}function DE(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function OE(e,t,n){let r=e.getProps();return vT(r,t,n===void 0?r.custom:n,e)}var kE=vw(()=>window.ScrollTimeline!==void 0),AE=class{constructor(e){this.stop=()=>this.runAll(`stop`),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>`finished`in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){let n=this.animations.map(n=>{if(kE()&&n.attachTimeline)return n.attachTimeline(e);if(typeof t==`function`)return t(n)});return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll(`time`)}set time(e){this.setAll(`time`,e)}get speed(){return this.getAll(`speed`)}set speed(e){this.setAll(`speed`,e)}get startTime(){return this.getAll(`startTime`)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll(`flatten`)}play(){this.runAll(`play`)}pause(){this.runAll(`pause`)}cancel(){this.runAll(`cancel`)}complete(){this.runAll(`complete`)}},jE=class extends AE{then(e,t){return Promise.all(this.animations).then(e).catch(t)}};function ME(e,t){return e?e[t]||e.default||e:void 0}var NE=2e4;function PE(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function FE(e){return typeof e==`function`}function IE(e,t){e.timeline=t,e.onfinish=null}var LE=e=>Array.isArray(e)&&typeof e[0]==`number`,RE={linearEasing:void 0};function zE(e,t){let n=vw(e);return()=>RE[t]??n()}var BE=zE(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),VE=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=e(yw(0,i-1,t))+`, `;return`linear(${r.substring(0,r.length-2)})`};function HE(e){return!!(typeof e==`function`&&BE()||!e||typeof e==`string`&&(e in WE||BE())||LE(e)||Array.isArray(e)&&e.every(HE))}var UE=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,WE={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:UE([0,.65,.55,1]),circOut:UE([.55,0,1,.45]),backIn:UE([.31,.01,.66,-.59]),backOut:UE([.33,1.53,.69,.99])};function GE(e,t){if(e)return typeof e==`function`&&BE()?VE(e,t):LE(e)?UE(e):Array.isArray(e)?e.map(e=>GE(e,t)||WE.easeOut):WE[e]}var KE={x:!1,y:!1};function qE(){return KE.x||KE.y}function JE(e,t,n){if(e instanceof Element)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function YE(e,t){let n=JE(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function XE(e){return t=>{t.pointerType===`touch`||qE()||e(t)}}function ZE(e,t,n={}){let[r,i,a]=YE(e,n),o=XE(e=>{let{target:n}=e,r=t(e);if(typeof r!=`function`||!n)return;let a=XE(e=>{r(e),n.removeEventListener(`pointerleave`,a)});n.addEventListener(`pointerleave`,a,i)});return r.forEach(e=>{e.addEventListener(`pointerenter`,o,i)}),a}var QE=(e,t)=>t?e===t?!0:QE(e,t.parentElement):!1,$E=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,eD=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function tD(e){return eD.has(e.tagName)||e.tabIndex!==-1}var nD=new WeakSet;function rD(e){return t=>{t.key===`Enter`&&e(t)}}function iD(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var aD=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=rD(()=>{if(nD.has(n))return;iD(n,`down`);let e=rD(()=>{iD(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>iD(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function oD(e){return $E(e)&&!qE()}function sD(e,t,n={}){let[r,i,a]=YE(e,n),o=e=>{let r=e.currentTarget;if(!oD(e)||nD.has(r))return;nD.add(r);let a=t(e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),!(!oD(e)||!nD.has(r))&&(nD.delete(r),typeof a==`function`&&a(e,{success:t}))},s=e=>{o(e,n.useGlobalTarget||QE(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{!tD(e)&&e.getAttribute(`tabindex`)===null&&(e.tabIndex=0),(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),e.addEventListener(`focus`,e=>aD(e,i),i)}),a}function cD(e){return e===`x`||e===`y`?KE[e]?null:(KE[e]=!0,()=>{KE[e]=!1}):KE.x||KE.y?null:(KE.x=KE.y=!0,()=>{KE.x=KE.y=!1})}var lD=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...DT]),uD;function dD(){uD=void 0}var fD={now:()=>(uD===void 0&&fD.set(kw.isProcessing||Sw.useManualTiming?kw.timestamp:performance.now()),uD),set:e=>{uD=e,queueMicrotask(dD)}};function pD(e,t){e.indexOf(t)===-1&&e.push(t)}function mD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var hD=class{constructor(){this.subscriptions=[]}add(e){return pD(this.subscriptions,e),()=>mD(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function gD(e,t){return t?e*(1e3/t):0}var _D=30,vD=e=>!isNaN(parseFloat(e)),yD={current:void 0},bD=class{constructor(e,t={}){this.version=`11.18.2`,this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let n=fD.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=fD.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new hD);let n=this.events[e].add(t);return e===`change`?()=>{n(),Dw.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return yD.current&&yD.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=fD.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_D)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,_D);return gD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function xD(e,t){return new bD(e,t)}function SD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xD(n))}function CD(e,t){let{transitionEnd:n={},transition:r={},...i}=OE(e,t)||{};for(let t in i={...i,...n},i)SD(e,t,xT(i[t]))}function wD(e){return!!(ST(e)&&e.add)}function TD(e,t){let n=e.getValue(`willChange`);if(wD(n))return n.add(t)}function ED(e){return e.props[iT]}var DD={current:!1},OD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kD=1e-7,AD=12;function jD(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=OD(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>kD&&++s<AD);return o}function MD(e,t,n,r){if(e===t&&n===r)return hw;let i=t=>jD(t,0,1,e,n);return e=>e===0||e===1?e:OD(i(e),t,r)}var ND=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,PD=e=>t=>1-e(1-t),FD=MD(.33,1.53,.69,.99),ID=PD(FD),LD=ND(ID),RD=e=>(e*=2)<1?.5*ID(e):.5*(2-2**(-10*(e-1))),zD=e=>1-Math.sin(Math.acos(e)),BD=PD(zD),VD=ND(zD),HD=e=>/^0[^.\s]+$/u.test(e);function UD(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||HD(e)}var WD=e=>Math.round(e*1e5)/1e5,GD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KD(e){return e==null}var qD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JD=(e,t)=>n=>!!(typeof n==`string`&&qD.test(n)&&n.startsWith(e)||t&&!KD(n)&&Object.prototype.hasOwnProperty.call(n,t)),YD=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(GD);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},XD=e=>FT(0,255,e),ZD={...IT,transform:e=>Math.round(XD(e))},QD={test:JD(`rgb`,`red`),parse:YD(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+ZD.transform(e)+`, `+ZD.transform(t)+`, `+ZD.transform(n)+`, `+WD(LT.transform(r))+`)`};function $D(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var eO={test:JD(`#`),parse:$D,transform:QD.transform},tO={test:JD(`hsl`,`hue`),parse:YD(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+VT.transform(WD(t))+`, `+VT.transform(WD(n))+`, `+WD(LT.transform(r))+`)`},nO={test:e=>QD.test(e)||eO.test(e)||tO.test(e),parse:e=>QD.test(e)?QD.parse(e):tO.test(e)?tO.parse(e):eO.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?QD.transform(e):tO.transform(e)},rO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iO(e){return isNaN(e)&&typeof e==`string`&&(e.match(GD)?.length||0)+(e.match(rO)?.length||0)>0}var aO=`number`,oO=`color`,sO=`var`,cO=`var(`,lO="${}",uO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dO(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(uO,e=>(nO.test(e)?(r.color.push(a),i.push(oO),n.push(nO.parse(e))):e.startsWith(cO)?(r.var.push(a),i.push(sO),n.push(e)):(r.number.push(a),i.push(aO),n.push(parseFloat(e))),++a,lO)).split(lO),indexes:r,types:i}}function fO(e){return dO(e).values}function pO(e){let{split:t,types:n}=dO(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===aO?i+=WD(e[a]):t===oO?i+=nO.transform(e[a]):i+=e[a]}return i}}var mO=e=>typeof e==`number`?0:e;function hO(e){let t=fO(e);return pO(e)(t.map(mO))}var gO={test:iO,parse:fO,createTransformer:pO,getAnimatableNone:hO},_O=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function vO(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(GD)||[];if(!r)return e;let i=n.replace(r,``),a=_O.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var yO=/\b([a-z-]*)\(.*?\)/gu,bO={...gO,getAnimatableNone:e=>{let t=e.match(yO);return t?t.map(vO).join(` `):e}},xO={...JT,color:nO,backgroundColor:nO,outlineColor:nO,fill:nO,stroke:nO,borderColor:nO,borderTopColor:nO,borderRightColor:nO,borderBottomColor:nO,borderLeftColor:nO,filter:bO,WebkitFilter:bO},SO=e=>xO[e];function CO(e,t){let n=SO(e);return n!==bO&&(n=gO),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var wO=new Set([`auto`,`none`,`0`]);function TO(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!wO.has(t)&&dO(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=CO(n,i)}var EO=e=>e===IT||e===$,DO=(e,t)=>parseFloat(e.split(`, `)[t]),OO=(e,t)=>(n,{transform:r})=>{if(r===`none`||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/u);if(i)return DO(i[1],t);{let t=r.match(/^matrix\((.+)\)$/u);return t?DO(t[1],e):0}},kO=new Set([`x`,`y`,`z`]),AO=DT.filter(e=>!kO.has(e));function jO(e){let t=[];return AO.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var MO={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:OO(4,13),y:OO(5,14)};MO.translateX=MO.x,MO.translateY=MO.y;var NO=new Set,PO=!1,FO=!1;function IO(){if(FO){let e=Array.from(NO).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=jO(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{var r;(r=e.getValue(t))==null||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}FO=!1,PO=!1,NO.forEach(e=>e.complete()),NO.clear()}function LO(){NO.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(FO=!0)})}function RO(){LO(),IO()}var zO=class{constructor(e,t,n,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(NO.add(this),PO||(PO=!0,Dw.read(LO),Dw.resolveKeyframes(IO))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),NO.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,NO.delete(this))}resume(){this.isComplete||this.scheduleResolve()}},BO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),VO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HO(e){let t=VO.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}var UO=4;function WO(e,t,n=1){_w(n<=UO,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,i]=HO(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return BO(e)?parseFloat(e):e}return MT(i)?WO(i,t,n+1):i}var GO=e=>t=>t.test(e),KO=[IT,$,VT,BT,UT,HT,{test:e=>e===`auto`,parse:e=>e}],qO=e=>KO.find(GO(e)),JO=class extends zO{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),MT(r))){let i=WO(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!lD.has(n)||e.length!==2)return;let[r,i]=e,a=qO(r),o=qO(i);if(a!==o)if(EO(a)&&EO(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)UD(e[t])&&n.push(t);n.length&&TO(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=MO[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=MO[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}},YO=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(gO.test(e)||e===`0`)&&!e.startsWith(`url(`));function XO(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZO(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=YO(i,t),s=YO(a,t);return gw(o===s,`You are trying to animate ${t} from "${i}" to "${a}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${a} via the \`style\` property.`),!o||!s?!1:XO(e)||(n===`spring`||FE(n))&&r}var QO=e=>e!==null;function $O(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(QO),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}var ek=40,tk=class{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fD.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>ek?this.resolvedAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&RO(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=fD.now(),this.hasAttemptedResolve=!0;let{name:n,type:r,velocity:i,delay:a,onComplete:o,onUpdate:s,isGenerator:c}=this.options;if(!c&&!ZO(e,n,r,i))if(DD.current||!a){s&&s($O(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}else this.options.duration=0;let l=this.initPlayback(e,t);l!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...l},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type=`keyframes`,this.options.ease=`linear`}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}},nk=(e,t,n)=>e+(t-e)*n;function rk(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ik({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=rk(s,r,e+1/3),a=rk(s,r,e),o=rk(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function ak(e,t){return n=>n>0?t:e}var ok=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},sk=[eO,QD,tO],ck=e=>sk.find(t=>t.test(e));function lk(e){let t=ck(e);if(gw(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let n=t.parse(e);return t===tO&&(n=ik(n)),n}var uk=(e,t)=>{let n=lk(e),r=lk(t);if(!n||!r)return ak(e,t);let i={...n};return e=>(i.red=ok(n.red,r.red,e),i.green=ok(n.green,r.green,e),i.blue=ok(n.blue,r.blue,e),i.alpha=nk(n.alpha,r.alpha,e),QD.transform(i))},dk=(e,t)=>n=>t(e(n)),fk=(...e)=>e.reduce(dk),pk=new Set([`none`,`hidden`]);function mk(e,t){return pk.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hk(e,t){return n=>nk(e,t,n)}function gk(e){return typeof e==`number`?hk:typeof e==`string`?MT(e)?ak:nO.test(e)?uk:bk:Array.isArray(e)?_k:typeof e==`object`?nO.test(e)?uk:vk:ak}function _k(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>gk(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function vk(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gk(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function yk(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var bk=(e,t)=>{let n=gO.createTransformer(t),r=dO(e),i=dO(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?pk.has(e)&&!i.values.length||pk.has(t)&&!r.values.length?mk(e,t):fk(_k(yk(r,i),i.values),n):(gw(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),ak(e,t))};function xk(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?nk(e,t,n):gk(e)(e,t)}var Sk=5;function Ck(e,t,n){let r=Math.max(t-Sk,0);return gD(n-e(r),t-r)}var wk={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tk=.001;function Ek({duration:e=wk.duration,bounce:t=wk.bounce,velocity:n=wk.velocity,mass:r=wk.mass}){let i,a;gw(e<=bw(wk.maxDuration),`Spring duration must be 10 seconds or less`);let o=1-t;o=FT(wk.minDamping,wk.maxDamping,o),e=FT(wk.minDuration,wk.maxDuration,xw(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=kk(t,o),c=Math.exp(-i);return Tk-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=kk(t**2,o);return(-i(t)+Tk>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-Tk+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=Ok(i,a,s);if(e=bw(e),isNaN(c))return{stiffness:wk.stiffness,damping:wk.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var Dk=12;function Ok(e,t,n){let r=n;for(let n=1;n<Dk;n++)r-=e(r)/t(r);return r}function kk(e,t){return e*Math.sqrt(1-t*t)}var Ak=[`duration`,`bounce`],jk=[`stiffness`,`damping`,`mass`];function Mk(e,t){return t.some(t=>e[t]!==void 0)}function Nk(e){let t={velocity:wk.velocity,stiffness:wk.stiffness,damping:wk.damping,mass:wk.mass,isResolvedFromDuration:!1,...e};if(!Mk(e,jk)&&Mk(e,Ak))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*FT(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:wk.mass,stiffness:i,damping:a}}else{let n=Ek(e);t={...t,...n,mass:wk.mass},t.isResolvedFromDuration=!0}return t}function Pk(e=wk.visualDuration,t=wk.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Nk({...n,velocity:-xw(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=xw(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?wk.restSpeed.granular:wk.restSpeed.default,i||=v?wk.restDelta.granular:wk.restDelta.default;let y;if(h<1){let e=kk(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=0;h<1&&(n=e===0?bw(m):Ck(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(PE(b),NE),t=VE(t=>b.next(e*t).value,e,30);return e+`ms `+t}};return b}function Fk({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=Pk({keyframes:[f.value,m(f.value)],velocity:Ck(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}var Ik=MD(.42,0,1,1),Lk=MD(0,0,.58,1),Rk=MD(.42,0,.58,1),zk=e=>Array.isArray(e)&&typeof e[0]!=`number`,Bk={linear:hw,easeIn:Ik,easeInOut:Rk,easeOut:Lk,circIn:zD,circInOut:VD,circOut:BD,backIn:ID,backInOut:LD,backOut:FD,anticipate:RD},Vk=e=>{if(LE(e)){_w(e.length===4,`Cubic bezier arrays must contain four numerical values.`);let[t,n,r,i]=e;return MD(t,n,r,i)}else if(typeof e==`string`)return _w(Bk[e]!==void 0,`Invalid easing type '${e}'`),Bk[e];return e};function Hk(e,t,n){let r=[],i=n||xk,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=fk(Array.isArray(t)?t[n]||hw:t,a)),r.push(a)}return r}function Uk(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(_w(a===t.length,`Both input and output ranges must be the same length`),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=Hk(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=yw(e[r],e[r+1],n);return s[r](i)};return n?t=>l(FT(e[0],e[a-1],t)):l}function Wk(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=yw(0,t,r);e.push(nk(n,1,i))}}function Gk(e){let t=[0];return Wk(t,e.length-1),t}function Kk(e,t){return e.map(e=>e*t)}function qk(e,t){return e.map(()=>t||Rk).splice(0,e.length-1)}function Jk({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=zk(r)?r.map(Vk):Vk(r),a={done:!1,value:t[0]},o=Uk(Kk(n&&n.length===t.length?n:Gk(t),e),t,{ease:Array.isArray(i)?i:qk(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var Yk=e=>{let t=({timestamp:t})=>e(t);return{start:()=>Dw.update(t,!0),stop:()=>Ow(t),now:()=>kw.isProcessing?kw.timestamp:fD.now()}},Xk={decay:Fk,inertia:Fk,tween:Jk,keyframes:Jk,spring:Pk},Zk=e=>e/100,Qk=class extends tk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState=`running`,this.startTime=null,this.state=`idle`,this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state===`idle`)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new(r?.KeyframeResolver||zO)(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let{type:t=`keyframes`,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,o=FE(t)?t:Xk[t]||Jk,s,c;o!==Jk&&typeof e[0]!=`number`&&(s=fk(Zk,xk(e[0],e[1])),e=[0,100]);let l=o({...this.options,keyframes:e});i===`mirror`&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),l.calculatedDuration===null&&(l.calculatedDuration=PE(l));let{calculatedDuration:u}=l,d=u+r,f=d*(n+1)-r;return{generator:l,mirroredGenerator:c,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:f}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState===`paused`||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){let{resolved:n}=this;if(!n){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:c,totalDuration:l,resolvedDuration:u}=n;if(this.startTime===null)return i.next(0);let{delay:d,repeat:f,repeatType:p,repeatDelay:m,onUpdate:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime===null?this.currentTime=Math.round(e-this.startTime)*this.speed:this.currentTime=this.holdTime;let g=this.currentTime-d*(this.speed>=0?1:-1),_=this.speed>=0?g<0:g>l;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=l);let v=this.currentTime,y=i;if(f){let e=Math.min(this.currentTime,l)/u,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,f+1),t%2&&(p===`reverse`?(n=1-n,m&&(n-=m/u)):p===`mirror`&&(y=a)),v=FT(0,1,n)*u}let b=_?{done:!1,value:s[0]}:y.next(v);o&&(b.value=o(b.value));let{done:x}=b;!_&&c!==null&&(x=this.speed>=0?this.currentTime>=l:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&r!==void 0&&(b.value=$O(s,this.options,r)),h&&h(b.value),S&&this.finish(),b}get duration(){let{resolved:e}=this;return e?xw(e.calculatedDuration):0}get time(){return xw(this.currentTime)}set time(e){e=bw(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xw(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState=`running`;return}if(this.isStopped)return;let{driver:e=Yk,onPlay:t,startTime:n}=this.options;this.driver||=e(e=>this.tick(e)),t&&t();let r=this.driver.now();this.holdTime===null?this.startTime?this.state===`finished`&&(this.startTime=r):this.startTime=n??this.calcStartTime():this.startTime=r-this.holdTime,this.state===`finished`&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state=`running`,this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState=`paused`;return}this.state=`paused`,this.holdTime=this.currentTime??0}complete(){this.state!==`running`&&this.play(),this.pendingPlayState=this.state=`finished`,this.holdTime=null}finish(){this.teardown(),this.state=`finished`;let{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state=`idle`,this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}},$k=new Set([`opacity`,`clipPath`,`filter`,`transform`]);function eA(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeInOut`,times:c}={}){let l={[t]:n};c&&(l.offset=c);let u=GE(s,i);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?`linear`:u,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`})}var tA=vw(()=>Object.hasOwnProperty.call(Element.prototype,`animate`)),nA=10,rA=2e4;function iA(e){return FE(e.type)||e.type===`spring`||!HE(e.ease)}function aA(e,t){let n=new Qk({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},i=[],a=0;for(;!r.done&&a<rA;)r=n.sample(a),i.push(r.value),a+=nA;return{times:void 0,keyframes:i,duration:a-nA,ease:`linear`}}var oA={anticipate:RD,backInOut:LD,circInOut:VD};function sA(e){return e in oA}var cA=class extends tk{constructor(e){super(e);let{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new JO(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:a,motionValue:o,name:s,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i==`string`&&BE()&&sA(i)&&(i=oA[i]),iA(this.options)){let{onComplete:t,onUpdate:o,motionValue:s,element:c,...l}=this.options,u=aA(e,l);e=u.keyframes,e.length===1&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,a=`keyframes`}let l=eA(o.owner.current,s,e,{...this.options,duration:n,times:r,ease:i});return l.startTime=c??this.calcStartTime(),this.pendingTimeline?(IE(l,this.pendingTimeline),this.pendingTimeline=void 0):l.onfinish=()=>{let{onComplete:n}=this.options;o.set($O(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:l,duration:n,times:r,type:a,ease:i,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return xw(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return xw(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.currentTime=bw(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:n}=t;n.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return`idle`;let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{let{resolved:t}=this;if(!t)return hw;let{animation:n}=t;IE(n,e)}return hw}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.playState===`finished`&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state===`idle`)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:n,duration:r,type:i,ease:a,times:o}=e;if(t.playState===`idle`||t.playState===`finished`)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:s,element:c,...l}=this.options,u=new Qk({...l,keyframes:n,duration:r,type:i,ease:a,times:o,isGenerator:!0}),d=bw(this.time);e.setWithVelocity(u.sample(d-nA).value,u.sample(d).value,nA)}let{onStop:s}=this.options;s&&s(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return tA()&&n&&$k.has(n)&&!s&&!c&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}},lA={type:`spring`,stiffness:500,damping:25,restSpeed:10},uA=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dA={type:`keyframes`,duration:.8},fA={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},pA=(e,{keyframes:t})=>t.length>2?dA:OT.has(e)?e.startsWith(`scale`)?uA(t[1]):lA:fA;function mA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var hA=(e,t,n,r={},i,a)=>o=>{let s=ME(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=bw(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};mA(s)||(u={...u,...pA(e,u)}),u.duration&&=bw(u.duration),u.repeatDelay&&=bw(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(DD.current||Sw.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),d&&!a&&t.get()!==void 0){let e=$O(u.keyframes,s);if(e!==void 0)return Dw.update(()=>{u.onUpdate(e),u.onComplete()}),new jE([])}return!a&&cA.supports(u)?new cA(u):new Qk(u)};function gA({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function _A(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);let c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||l&&gA(l,t))continue;let o={delay:n,...ME(a||{},t)},u=!1;if(window.MotionHandoffAnimation){let n=ED(e);if(n){let e=window.MotionHandoffAnimation(n,t,Dw);e!==null&&(o.startTime=e,u=!0)}}TD(e,t),r.start(hA(t,r,i,e.shouldReduceMotion&&lD.has(t)?{type:!1}:o,e,u));let d=r.animation;d&&c.push(d)}return o&&Promise.all(c).then(()=>{Dw.update(()=>{o&&CD(e,o)})}),c}function vA(e,t,n={}){let r=OE(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(_A(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return yA(e,t,a+r,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function yA(e,t,n=0,r=0,i=1,a){let o=[],s=(e.variantChildren.size-1)*r,c=i===1?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(bA).forEach((e,r)=>{e.notify(`AnimationStart`,t),o.push(vA(e,t,{...a,delay:n+c(r)}).then(()=>e.notify(`AnimationComplete`,t)))}),Promise.all(o)}function bA(e,t){return e.sortNodePosition(t)}function xA(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>vA(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=vA(e,t,n);else{let i=typeof t==`function`?OE(e,t,n.custom):t;r=Promise.all(_A(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}var SA=Jw.length;function CA(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&CA(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<SA;n++){let r=Jw[n],i=e.props[r];(Gw(i)||i===!1)&&(t[r]=i)}return t}var wA=[...qw].reverse(),TA=qw.length;function EA(e){return t=>Promise.all(t.map(({animation:t,options:n})=>xA(e,t,n)))}function DA(e){let t=EA(e),n=AA(),r=!0,i=t=>(n,r)=>{let i=OE(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=CA(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<TA;t++){let f=wA[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=Gw(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||Kw(m)||typeof m==`boolean`)continue;let v=OA(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},T=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=yT(t)&&yT(n)?!DE(t,n):t!==n,r?t==null?l.add(e):T(e):t!==void 0&&l.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1),y&&(!(_&&v)||b)&&c.push(...x.map(e=>({animation:e,options:{type:f}})))}if(l.size){let t={};l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){var i;if(n[t].isActive===r)return Promise.resolve();(i=e.variantChildren)==null||i.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let a=o(t);for(let e in n)n[e].protectedKeys={};return a}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=AA(),r=!0}}}function OA(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!DE(t,e):!1}function kA(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AA(){return{animate:kA(!0),whileInView:kA(),whileHover:kA(),whileTap:kA(),whileDrag:kA(),whileFocus:kA(),exit:kA()}}var jA=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},MA=class extends jA{constructor(e){super(e),e.animationState||=DA(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();Kw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}},NA=0,PA={animation:{Feature:MA},exit:{Feature:class extends jA{constructor(){super(...arguments),this.id=NA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function FA(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function IA(e){return{point:{x:e.pageX,y:e.pageY}}}var LA=e=>t=>$E(t)&&e(t,IA(t));function RA(e,t,n,r){return FA(e,t,LA(n),r)}var zA=(e,t)=>Math.abs(e-t);function BA(e,t){let n=zA(e.x,t.x),r=zA(e.y,t.y);return Math.sqrt(n**2+r**2)}var VA=class{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=WA(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=BA(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=kw;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=HA(t,this.transformPagePoint),Dw.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=WA(e.type===`pointercancel`?this.lastMoveEventInfo:HA(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!$E(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;let a=HA(IA(e),this.transformPagePoint),{point:o}=a,{timestamp:s}=kw;this.history=[{...o,timestamp:s}];let{onSessionStart:c}=t;c&&c(e,WA(a,this.history)),this.removeListeners=fk(RA(this.contextWindow,`pointermove`,this.handlePointerMove),RA(this.contextWindow,`pointerup`,this.handlePointerUp),RA(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ow(this.updatePoint)}};function HA(e,t){return t?{point:t(e.point)}:e}function UA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function WA({point:e},t){return{point:e,delta:UA(e,KA(t)),offset:UA(e,GA(t)),velocity:qA(t,.1)}}function GA(e){return e[0]}function KA(e){return e[e.length-1]}function qA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=KA(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>bw(t)));)n--;if(!r)return{x:0,y:0};let a=xw(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}var JA=1e-4,YA=1-JA,XA=1+JA,ZA=.01,QA=0-ZA,$A=0+ZA;function ej(e){return e.max-e.min}function tj(e,t,n){return Math.abs(e-t)<=n}function nj(e,t,n,r=.5){e.origin=r,e.originPoint=nk(t.min,t.max,e.origin),e.scale=ej(n)/ej(t),e.translate=nk(n.min,n.max,e.origin)-e.originPoint,(e.scale>=YA&&e.scale<=XA||isNaN(e.scale))&&(e.scale=1),(e.translate>=QA&&e.translate<=$A||isNaN(e.translate))&&(e.translate=0)}function rj(e,t,n,r){nj(e.x,t.x,n.x,r?r.originX:void 0),nj(e.y,t.y,n.y,r?r.originY:void 0)}function ij(e,t,n){e.min=n.min+t.min,e.max=e.min+ej(t)}function aj(e,t,n){ij(e.x,t.x,n.x),ij(e.y,t.y,n.y)}function oj(e,t,n){e.min=t.min-n.min,e.max=e.min+ej(t)}function sj(e,t,n){oj(e.x,t.x,n.x),oj(e.y,t.y,n.y)}function cj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?nk(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?nk(n,e,r.max):Math.min(e,n)),e}function lj(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function uj(e,{top:t,left:n,bottom:r,right:i}){return{x:lj(e.x,n,i),y:lj(e.y,t,r)}}function dj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fj(e,t){return{x:dj(e.x,t.x),y:dj(e.y,t.y)}}function pj(e,t){let n=.5,r=ej(e),i=ej(t);return i>r?n=yw(t.min,t.max-r,e.min):r>i&&(n=yw(e.min,e.max-i,t.min)),FT(0,1,n)}function mj(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var hj=.35;function gj(e=hj){return e===!1?e=0:e===!0&&(e=hj),{x:_j(e,`left`,`right`),y:_j(e,`top`,`bottom`)}}function _j(e,t,n){return{min:vj(e,t),max:vj(e,n)}}function vj(e,t){return typeof e==`number`?e:e[t]||0}var yj=()=>({translate:0,scale:1,origin:0,originPoint:0}),bj=()=>({x:yj(),y:yj()}),xj=()=>({min:0,max:0}),Sj=()=>({x:xj(),y:xj()});function Cj(e){return[e(`x`),e(`y`)]}function wj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Tj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ej(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dj(e){return e===void 0||e===1}function Oj({scale:e,scaleX:t,scaleY:n}){return!Dj(e)||!Dj(t)||!Dj(n)}function kj(e){return Oj(e)||Aj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Aj(e){return jj(e.x)||jj(e.y)}function jj(e){return e&&e!==`0%`}function Mj(e,t,n){return n+t*(e-n)}function Nj(e,t,n,r,i){return i!==void 0&&(e=Mj(e,i,r)),Mj(e,n,r)+t}function Pj(e,t=0,n=1,r,i){e.min=Nj(e.min,t,n,r,i),e.max=Nj(e.max,t,n,r,i)}function Fj(e,{x:t,y:n}){Pj(e.x,t.translate,t.scale,t.originPoint),Pj(e.y,n.translate,n.scale,n.originPoint)}var Ij=.999999999999,Lj=1.0000000000001;function Rj(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vj(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Fj(e,o)),r&&kj(a.latestValues)&&Vj(e,a.latestValues))}t.x<Lj&&t.x>Ij&&(t.x=1),t.y<Lj&&t.y>Ij&&(t.y=1)}function zj(e,t){e.min+=t,e.max+=t}function Bj(e,t,n,r,i=.5){Pj(e,t,n,nk(e.min,e.max,i),r)}function Vj(e,t){Bj(e.x,t.x,t.scaleX,t.scale,t.originX),Bj(e.y,t.y,t.scaleY,t.scale,t.originY)}function Hj(e,t){return wj(Ej(e.getBoundingClientRect(),t))}function Uj(e,t,n){let r=Hj(e,n),{scroll:i}=t;return i&&(zj(r.x,i.offset.x),zj(r.y,i.offset.y)),r}var Wj=({current:e})=>e?e.ownerDocument.defaultView:null,Gj=new WeakMap,Kj=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sj(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;let r=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(IA(e).point)},i=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cD(n),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cj(e=>{let t=this.getAxisMotionValue(e).get()||0;if(VT.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=ej(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&Dw.postRender(()=>i(e,t)),TD(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},a=(e,t)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Jj(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},o=(e,t)=>this.stop(e,t),s=()=>Cj(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new VA(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Wj(this.visualElement)})}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&Dw.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!qj(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=cj(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&tT(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=uj(n.layoutBox,e):this.constraints=!1,this.elastic=gj(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Cj(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=mj(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tT(e))return!1;let n=e.current;_w(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=Uj(n,r.root,this.visualElement.getTransformPagePoint()),a=fj(r.layout.layoutBox,i);if(t){let e=t(Tj(a));this.hasMutatedConstraints=!!e,e&&(a=wj(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=Cj(o=>{if(!qj(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return TD(this.visualElement,e),n.start(hA(e,n,0,t,this.visualElement,!1))}stopAnimation(){Cj(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cj(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Cj(t=>{let{drag:n}=this.getProps();if(!qj(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-nk(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!tT(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};Cj(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=pj({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Cj(t=>{if(!qj(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(nk(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Gj.set(this.visualElement,this);let e=this.visualElement.current,t=RA(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();tT(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Dw.read(n);let a=FA(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Cj(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=hj,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function qj(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Jj(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var Yj=class extends jA{constructor(e){super(e),this.removeGroupControls=hw,this.removeListeners=hw,this.controls=new Kj(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hw}unmount(){this.removeGroupControls(),this.removeListeners()}},Xj=e=>(t,n)=>{e&&Dw.postRender(()=>e(t,n))},Zj=class extends jA{constructor(){super(...arguments),this.removePointerDownListener=hw}onPointerDown(e){this.session=new VA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Wj(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Xj(e),onStart:Xj(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Dw.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=RA(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},Qj={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $j(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var eM={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if($.test(e))e=parseFloat(e);else return e;return`${$j(e,t.target.x)}% ${$j(e,t.target.y)}%`}},tM={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=gO.parse(e);if(i.length>5)return r;let a=gO.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=nk(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},nM=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;fE(iM),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qj.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Dw.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function rM(e){let[t,n]=lw(),r=(0,b.useContext)(tw);return(0,Z.jsx)(nM,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(sT),isPresent:t,safeToRemove:n})}var iM={borderRadius:{...eM,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:eM,borderTopRightRadius:eM,borderBottomLeftRadius:eM,borderBottomRightRadius:eM,boxShadow:tM};function aM(e,t,n){let r=ST(e)?e:xD(e);return r.start(hA(``,r,t,n)),r.animation}function oM(e){return e instanceof SVGElement&&e.tagName!==`svg`}var sM=(e,t)=>e.depth-t.depth,cM=class{constructor(){this.children=[],this.isDirty=!1}add(e){pD(this.children,e),this.isDirty=!0}remove(e){mD(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sM),this.isDirty=!1,this.children.forEach(e)}};function lM(e,t){let n=fD.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(Ow(r),e(a-t))};return Dw.read(r,!0),()=>Ow(r)}var uM=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],dM=uM.length,fM=e=>typeof e==`string`?parseFloat(e):e,pM=e=>typeof e==`number`||$.test(e);function mM(e,t,n,r,i,a){i?(e.opacity=nk(0,n.opacity===void 0?1:n.opacity,gM(r)),e.opacityExit=nk(t.opacity===void 0?1:t.opacity,0,_M(r))):a&&(e.opacity=nk(t.opacity===void 0?1:t.opacity,n.opacity===void 0?1:n.opacity,r));for(let i=0;i<dM;i++){let a=`border${uM[i]}Radius`,o=hM(t,a),s=hM(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||pM(o)===pM(s)?(e[a]=Math.max(nk(fM(o),fM(s),r),0),(VT.test(s)||VT.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=nk(t.rotate||0,n.rotate||0,r))}function hM(e,t){return e[t]===void 0?e.borderRadius:e[t]}var gM=vM(0,.5,BD),_M=vM(.5,.95,hw);function vM(e,t,n){return r=>r<e?0:r>t?1:n(yw(e,t,r))}function yM(e,t){e.min=t.min,e.max=t.max}function bM(e,t){yM(e.x,t.x),yM(e.y,t.y)}function xM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SM(e,t,n,r,i){return e-=t,e=Mj(e,1/n,r),i!==void 0&&(e=Mj(e,1/i,r)),e}function CM(e,t=0,n=1,r=.5,i,a=e,o=e){if(VT.test(t)&&(t=parseFloat(t),t=nk(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=nk(a.min,a.max,r);e===a&&(s-=t),e.min=SM(e.min,t,n,s,i),e.max=SM(e.max,t,n,s,i)}function wM(e,t,[n,r,i],a,o){CM(e,t[n],t[r],t[i],t.scale,a,o)}var TM=[`x`,`scaleX`,`originX`],EM=[`y`,`scaleY`,`originY`];function DM(e,t,n,r){wM(e.x,t,TM,n?n.x:void 0,r?r.x:void 0),wM(e.y,t,EM,n?n.y:void 0,r?r.y:void 0)}function OM(e){return e.translate===0&&e.scale===1}function kM(e){return OM(e.x)&&OM(e.y)}function AM(e,t){return e.min===t.min&&e.max===t.max}function jM(e,t){return AM(e.x,t.x)&&AM(e.y,t.y)}function MM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NM(e,t){return MM(e.x,t.x)&&MM(e.y,t.y)}function PM(e){return ej(e.x)/ej(e.y)}function FM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var IM=class{constructor(){this.members=[]}add(e){pD(this.members,e),e.scheduleRender()}remove(e){if(mD(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function LM(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var RM={type:`projectionFrame`,totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zM=typeof window<`u`&&window.MotionDebug!==void 0,BM=[``,`X`,`Y`,`Z`],VM={visibility:`hidden`},HM=1e3,UM=0;function WM(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=ED(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,Dw,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GM(r)}function KM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=UM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zM&&(RM.totalNodes=RM.resolvedTargetDeltas=RM.recalculatedProjection=0),this.nodes.forEach(YM),this.nodes.forEach(nN),this.nodes.forEach(rN),this.nodes.forEach(XM),zM&&window.MotionDebug.record(RM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new cM)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new hD),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oM(t),this.instance=t;let{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=lM(r,250),Qj.hasAnimatedSinceResize&&(Qj.hasAnimatedSinceResize=!1,this.nodes.forEach(tN))})}r&&this.root.registerSharedNode(r,this),this.options.animate!==!1&&a&&(r||i)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||a.getDefaultTransition()||uN,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=a.getProps(),c=!this.targetLayout||!NM(this.targetLayout,r)||n,l=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,l);let t={...ME(i,`layout`),onPlay:o,onComplete:s};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||tN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ow(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iN),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QM);return}this.isUpdating||this.nodes.forEach($M),this.isUpdating=!1,this.nodes.forEach(eN),this.nodes.forEach(qM),this.nodes.forEach(JM),this.clearAllSnapshots();let e=fD.now();kw.delta=FT(0,1e3/60,e-kw.timestamp),kw.timestamp=e,kw.isProcessing=!0,Aw.update.process(kw),Aw.preRender.process(kw),Aw.render.process(kw),kw.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZM),this.sharedNodes.forEach(aN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dw.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dw.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sj(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!kM(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||kj(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),mN(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return Sj();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(gN))){let{scroll:e}=this.root;e&&(zj(t.x,e.offset.x),zj(t.y,e.offset.y))}return t}removeElementScroll(e){let t=Sj();if(bM(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&bM(t,e),zj(t.x,i.offset.x),zj(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=Sj();bM(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Vj(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),kj(r.latestValues)&&Vj(n,r.latestValues)}return kj(this.latestValues)&&Vj(n,this.latestValues),n}removeTransform(e){let t=Sj();bM(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!kj(n.latestValues))continue;Oj(n.latestValues)&&n.updateSnapshot();let r=Sj();bM(r,n.measurePageBox()),DM(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return kj(this.latestValues)&&DM(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kw.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=kw.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sj(),this.relativeTargetOrigin=Sj(),sj(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),bM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Sj(),this.targetWithTransforms=Sj()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bM(this.target,this.layout.layoutBox),Fj(this.target,this.targetDelta)):bM(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sj(),this.relativeTargetOrigin=Sj(),sj(this.relativeTargetOrigin,this.target,e.target),bM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zM&&RM.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Oj(this.parent.latestValues)||Aj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===kw.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;bM(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;Rj(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=Sj());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xM(this.prevProjectionDelta.x,this.projectionDelta.x),xM(this.prevProjectionDelta.y,this.projectionDelta.y)),rj(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!FM(this.projectionDelta.x,this.prevProjectionDelta.x)||!FM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),zM&&RM.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if((t=this.options.visualElement)==null||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bj(),this.projectionDelta=bj(),this.projectionDeltaWithTransform=bj()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=bj();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=Sj(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(lN));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;oN(a.x,e.x,n),oN(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sj(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cN(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&jM(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=Sj(),bM(d,this.relativeTarget)),s&&(this.animationValues=i,mM(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&=(Ow(this.pendingAnimation),void 0),this.pendingAnimation=Dw.update(()=>{Qj.hasAnimatedSinceResize=!0,this.currentAnimation=aM(0,HM,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&hN(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Sj();let t=ej(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=ej(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}bM(t,n),Vj(t,i),rj(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new IM),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&WM(`z`,e,r,this.animationValues);for(let t=0;t<BM.length;t++)WM(`rotate${BM[t]}`,e,r,this.animationValues),WM(`skew${BM[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return VM;let t={visibility:``},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity=``,t.pointerEvents=CT(e?.pointerEvents)||``,t.transform=n?n(this.latestValues,``):`none`,t;let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){let t={};return this.options.layoutId&&(t.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,t.pointerEvents=CT(e?.pointerEvents)||``),this.hasProjected&&!kj(this.latestValues)&&(t.transform=n?n({},``):`none`,this.hasProjected=!1),t}let i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=LM(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));let{x:a,y:o}=this.projectionDelta;for(let e in t.transformOrigin=`${a.origin*100}% ${o.origin*100}% 0`,r.animationValues?t.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,dE){if(i[e]===void 0)continue;let{correct:n,applyTo:a}=dE[e],o=t.transform===`none`?i[e]:n(i[e],r);if(a){let e=a.length;for(let n=0;n<e;n++)t[a[n]]=o}else t[e]=o}return this.options.layoutId&&(t.pointerEvents=r===this?CT(e?.pointerEvents)||``:`none`),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(QM),this.root.sharedNodes.clear()}}}function qM(e){e.updateLayout()}function JM(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?Cj(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=ej(r);r.min=n[e].min,r.max=r.min+i}):hN(i,t.layoutBox,n)&&Cj(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=ej(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=bj();rj(o,n,t.layoutBox);let s=bj();a?rj(s,e.applyTransform(r,!0),t.measuredBox):rj(s,n,t.layoutBox);let c=!kM(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=Sj();sj(o,t.layoutBox,i.layoutBox);let s=Sj();sj(s,n,a.layoutBox),NM(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function YM(e){zM&&RM.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function XM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ZM(e){e.clearSnapshot()}function QM(e){e.clearMeasurements()}function $M(e){e.isLayoutDirty=!1}function eN(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function tN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nN(e){e.resolveTargetDelta()}function rN(e){e.calcProjection()}function iN(e){e.resetSkewAndRotation()}function aN(e){e.removeLeadSnapshot()}function oN(e,t,n){e.translate=nk(t.translate,0,n),e.scale=nk(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sN(e,t,n,r){e.min=nk(t.min,n.min,r),e.max=nk(t.max,n.max,r)}function cN(e,t,n,r){sN(e.x,t.x,n.x,r),sN(e.y,t.y,n.y,r)}function lN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var uN={duration:.45,ease:[.4,0,.1,1]},dN=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fN=dN(`applewebkit/`)&&!dN(`chrome/`)?Math.round:hw;function pN(e){e.min=fN(e.min),e.max=fN(e.max)}function mN(e){pN(e.x),pN(e.y)}function hN(e,t,n){return e===`position`||e===`preserve-aspect`&&!tj(PM(t),PM(n),.2)}function gN(e){return e!==e.root&&e.scroll?.wasRoot}var _N=KM({attachResizeListener:(e,t)=>FA(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vN={current:void 0},yN=KM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vN.current){let e=new _N({});e.mount(window),e.setOptions({layoutScroll:!0}),vN.current=e}return vN.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),bN={pan:{Feature:Zj},drag:{Feature:Yj,ProjectionNode:yN,MeasureLayout:rM}};function xN(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&Dw.postRender(()=>i(t,IA(t)))}var SN=class extends jA{mount(){let{current:e}=this.node;e&&(this.unmount=ZE(e,e=>(xN(this.node,e,`Start`),e=>xN(this.node,e,`End`))))}unmount(){}},CN=class extends jA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=fk(FA(this.node.current,`focus`,()=>this.onFocus()),FA(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function wN(e,t,n){let{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&Dw.postRender(()=>i(t,IA(t)))}var TN=class extends jA{mount(){let{current:e}=this.node;e&&(this.unmount=sD(e,e=>(wN(this.node,e,`Start`),(e,{success:t})=>wN(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}},EN=new WeakMap,DN=new WeakMap,ON=e=>{let t=EN.get(e.target);t&&t(e)},kN=e=>{e.forEach(ON)};function AN({root:e,...t}){let n=e||document;DN.has(n)||DN.set(n,{});let r=DN.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(kN,{root:e,...t})),r[i]}function jN(e,t,n){let r=AN(t);return EN.set(e,n),r.observe(e),()=>{EN.delete(e),r.unobserve(e)}}var MN={some:0,all:1},NN=class extends jA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:MN[r]};return jN(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(PN(e,t))&&this.startObserver()}unmount(){}};function PN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var FN={inView:{Feature:NN},tap:{Feature:TN},focus:{Feature:CN},hover:{Feature:SN}},IN={layout:{ProjectionNode:yN,MeasureLayout:rM}},LN={current:null},RN={current:!1};function zN(){if(RN.current=!0,fw)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>LN.current=e.matches;e.addListener(t),t()}else LN.current=!1}var BN=[...KO,nO,gO],VN=e=>BN.find(GO(e)),HN=new WeakMap;function UN(e,t,n){for(let r in t){let i=t[r],a=n[r];if(ST(i))e.addValue(r,i);else if(ST(a))e.addValue(r,xD(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,xD(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var WN=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],GN=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=fD.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Dw.render(this.render,!1,!0))};let{latestValues:s,renderState:c,onUpdate:l}=a;this.onUpdate=l,this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Yw(t),this.isVariantNode=Xw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];s[e]!==void 0&&ST(t)&&t.set(s[e],!1)}}mount(e){this.current=e,HN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),RN.current||zN(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:LN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in HN.delete(this.current),this.projection&&this.projection.unmount(),Ow(this.notifyUpdate),Ow(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=OT.has(e),r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&Dw.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on(`renderRequest`,this.scheduleRender),a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in Nw){let t=Nw[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sj()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<WN.length;t++){let n=WN[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=UN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=xD(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(BO(n)||HD(n))?n=parseFloat(n):!VN(n)&&gO.test(t)&&(n=CO(e,t)),this.setBaseTarget(e,ST(n)?n.get():n)),ST(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=vT(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ST(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new hD),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}},KN=class extends GN{constructor(){super(...arguments),this.KeyframeResolver=JO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;ST(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}};function qN(e){return window.getComputedStyle(e)}var JN=class extends KN{constructor(){super(...arguments),this.type=`html`,this.renderInstance=cE}readValueFromInstance(e,t){if(OT.has(t)){let e=SO(t);return e&&e.default||0}else{let n=qN(e),r=(AT(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Hj(e,t)}build(e,t,n){QT(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return mE(e,t,n)}},YN=class extends KN{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=Sj}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(OT.has(t)){let e=SO(t);return e&&e.default||0}return t=lE.has(t)?t:rT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return hE(e,t,n)}build(e,t,n){iE(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){uE(e,t,n,r)}mount(e){this.isSVGTag=sE(e.tagName),super.mount(e)}},XN=(e,t)=>gT(e)?new YN(t):new JN(t,{allowProjection:e!==b.Fragment}),ZN=Uw(EE({...PA,...FN,...bN,...IN},XN));const QN=({isOpen:e,onClose:t,children:n,className:r=``,fullScreen:i=!1})=>((0,b.useEffect)(()=>{let n=n=>{n.key===`Escape`&&e&&t()};return window.addEventListener(`keydown`,n),()=>window.removeEventListener(`keydown`,n)},[e,t]),(0,Z.jsx)(mw,{children:e&&(0,Z.jsxs)(`div`,{className:`fixed inset-0 ${i?``:`md:left-64`} z-50 flex items-center justify-center p-6`,children:[(0,Z.jsx)(ZN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:`absolute inset-0 bg-[#050505]/80 backdrop-blur-xl`}),(0,Z.jsx)(ZN.div,{initial:{opacity:0,scale:.95,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:30},className:`relative w-full bg-[#050505]/95 border border-white/5 rounded-[48px] overflow-hidden shadow-[0_0_100px_rgba(0,0,0,0.8)] ${r}`,children:n})]})})),$N=({isOpen:e,onSuccess:t})=>{let[n,r]=(0,b.useState)(`landing`),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(null),[c,l]=(0,b.useState)(!1),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(`loading`),[m,h]=(0,b.useState)(null);(0,b.useEffect)(()=>{d(!!window.nostr),BC().then(e=>{p(e?`supported`:`unsupported`)}).catch(()=>{p(`unsupported`)})},[]);let g=async()=>{l(!0),s(null);try{let e=window.nostr;if(!e)throw Error(`No extension detected`);t(await e.getPublicKey())}catch(e){s(e.message||`Failed to connect to extension`)}finally{l(!1)}},_=async()=>{s(null);let e=LC(i);if(!e){s(`Invalid secret key. Please check your nsec.`);return}f===`supported`?(h(e),r(`webauthn-setup`)):y(e)},v=()=>{h(PC()),r(`generate`)},y=e=>{RC(e).getPublicKey().then(t)},x=async e=>{if(m){l(!0),s(null);try{if(e){let{key:e,credentialId:t}=await HC(),n=await UC(e,FC(m));KC({credentialId:JC(t),ciphertext:n.ciphertext,iv:n.iv})}y(m)}catch(e){console.error(`WebAuthn failed:`,e),s(`Biometric setup failed. You can still login without it.`)}finally{l(!1)}}};return(0,Z.jsx)(QN,{isOpen:e,onClose:()=>{},fullScreen:!0,className:`max-w-md`,children:(0,Z.jsxs)(`div`,{className:`p-8`,children:[(0,Z.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,Z.jsx)(`div`,{className:`w-16 h-16 bg-brand-gradient rounded-3xl flex items-center justify-center mb-6 shadow-[0_0_30px_rgba(0,255,255,0.3)]`,children:(0,Z.jsx)(Sr,{className:`text-white`,size:32})}),(0,Z.jsx)(`h2`,{className:`text-2xl font-black text-white tracking-tighter uppercase italic`,children:`Access Mirage`}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-xs mt-2 text-center uppercase tracking-[0.2em] font-bold`,children:`Secure Identity Gateway`})]}),(0,Z.jsxs)(mw,{mode:`wait`,children:[n===`landing`&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:`flex flex-col gap-3`,children:[qC()&&(0,Z.jsxs)(`button`,{onClick:async()=>{l(!0),s(null);try{let e=qC();if(!e)throw Error(`No saved identity found`);let{key:t}=await HC({credentialId:Uint8Array.from(atob(e.credentialId),e=>e.charCodeAt(0))}),n=LC(await(await w(async()=>{let{decryptWithPrfKey:e}=await import(`./dist-B6SHbFZg.js`);return{decryptWithPrfKey:e}},[])).decryptWithPrfKey(t,e.ciphertext,e.iv));if(!n)throw Error(`Decryption failed to produce valid key`);y(n)}catch{s(`Failed to unlock. Please try again or use your nsec manually.`)}finally{l(!1)}},disabled:c,className:`flex items-center gap-4 w-full p-5 bg-white text-black rounded-2xl font-black uppercase tracking-widest text-sm hover:scale-[1.02] active:scale-[0.98] transition-all`,children:[(0,Z.jsx)(ir,{size:20}),(0,Z.jsx)(`span`,{className:`flex-1 text-left`,children:`Unlock with Biometrics`}),c?(0,Z.jsx)(ur,{className:`animate-spin`,size:20}):(0,Z.jsx)(Hn,{size:20})]}),u&&(0,Z.jsxs)(`button`,{onClick:g,disabled:c,className:`flex items-center gap-4 w-full p-5 bg-surface border border-white/5 rounded-2xl font-black uppercase tracking-widest text-sm hover:bg-white/5 transition-all`,children:[(0,Z.jsx)(cr,{size:20,className:`text-vivid-cyan`}),(0,Z.jsx)(`span`,{className:`flex-1 text-left`,children:`Nostr Extension`}),c?(0,Z.jsx)(ur,{className:`animate-spin`,size:20}):(0,Z.jsx)(Hn,{size:20})]}),(0,Z.jsxs)(`button`,{onClick:()=>r(`manual`),className:`flex items-center gap-4 w-full p-5 bg-surface border border-white/5 rounded-2xl font-black uppercase tracking-widest text-sm hover:bg-white/5 transition-all`,children:[(0,Z.jsx)(Zn,{size:20,className:`text-vivid-magenta`}),(0,Z.jsx)(`span`,{className:`flex-1 text-left`,children:`Use Secret Key (nsec)`}),(0,Z.jsx)(Hn,{size:20})]}),(0,Z.jsx)(`button`,{onClick:v,className:`mt-4 text-[10px] text-gray-500 hover:text-white uppercase tracking-[0.3em] font-black transition-colors`,children:`Generate New Identity`})]},`landing`),n===`manual`&&(0,Z.jsx)(ZN.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,Z.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),_()},children:[(0,Z.jsxs)(`div`,{className:`mb-6`,children:[(0,Z.jsx)(`label`,{className:`text-[10px] text-gray-500 uppercase tracking-widest font-black mb-2 block`,children:`Enter Secret Key (nsec...)`}),(0,Z.jsx)(`input`,{type:`password`,value:i,onChange:e=>a(e.target.value),placeholder:`nsec1...`,className:`w-full bg-[#111] border border-white/10 rounded-xl p-4 text-white font-mono text-sm focus:border-vivid-cyan focus:outline-none`,autoFocus:!0})]}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsx)(`button`,{type:`submit`,disabled:!i||c||f===`loading`,className:`w-full p-5 bg-white text-black rounded-2xl font-black uppercase tracking-widest text-sm hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50`,children:f===`loading`?`Checking Security...`:`Continue`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>r(`landing`),className:`w-full p-4 text-gray-500 text-xs uppercase tracking-widest font-black hover:text-white`,children:`Back`})]})]})},`manual`),n===`generate`&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:`text-center`,children:[(0,Z.jsxs)(`p`,{className:`text-sm text-gray-400 mb-6 font-medium leading-relaxed`,children:[`We've generated a secure new identity for you. `,(0,Z.jsx)(`br`,{}),(0,Z.jsx)(`strong`,{className:`text-vivid-magenta`,children:`Save this key immediately!`}),(0,Z.jsx)(`br`,{}),`You cannot recover it if lost.`]}),(0,Z.jsxs)(`div`,{className:`bg-[#111] border border-vivid-magenta/20 rounded-xl p-4 mb-4 relative group overflow-hidden`,children:[(0,Z.jsx)(`label`,{className:`text-[10px] text-gray-500 uppercase tracking-widest font-black mb-1 block`,children:`Private Key (Keep Secret)`}),(0,Z.jsxs)(`div`,{className:`flex items-center justify-between gap-2`,children:[(0,Z.jsx)(`p`,{className:`font-mono text-[10px] break-all text-gray-300`,children:m?FC(m):``}),(0,Z.jsx)(`button`,{onClick:()=>{m&&navigator.clipboard.writeText(FC(m))},className:`p-1.5 bg-white/10 rounded-md hover:bg-white/20 transition-colors`,children:(0,Z.jsx)(nr,{size:12})})]})]}),(0,Z.jsxs)(`div`,{className:`bg-[#111] border border-white/10 rounded-xl p-4 mb-8 relative group overflow-hidden`,children:[(0,Z.jsx)(`label`,{className:`text-[10px] text-gray-500 uppercase tracking-widest font-black mb-1 block`,children:`Public Key (Shareable)`}),(0,Z.jsxs)(`div`,{className:`flex items-center justify-between gap-2`,children:[(0,Z.jsx)(`p`,{className:`font-mono text-[10px] break-all text-gray-300`,children:m?Ad.npubEncode(Pl(m)):``}),(0,Z.jsx)(`button`,{onClick:()=>{m&&navigator.clipboard.writeText(Ad.npubEncode(Pl(m)))},className:`p-1.5 bg-white/10 rounded-md hover:bg-white/20 transition-colors`,children:(0,Z.jsx)(nr,{size:12})})]})]}),(0,Z.jsx)(`button`,{onClick:()=>f===`supported`?r(`webauthn-setup`):y(m),className:`w-full p-5 bg-white text-black rounded-2xl font-black uppercase tracking-widest text-sm hover:scale-[1.02] active:scale-[0.98] transition-all`,children:`I've Saved It`})]},`generate`),n===`webauthn-setup`&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:`text-center`,children:[(0,Z.jsx)(`div`,{className:`w-12 h-12 bg-vivid-cyan/10 rounded-full flex items-center justify-center mx-auto mb-6`,children:(0,Z.jsx)(ir,{className:`text-vivid-cyan`,size:24})}),(0,Z.jsx)(`h3`,{className:`text-white font-black uppercase tracking-widest text-lg mb-4`,children:`Secure with Biometrics?`}),(0,Z.jsx)(`p`,{className:`text-xs text-gray-500 mb-8 leading-relaxed uppercase tracking-wider font-bold`,children:`Use TouchID, FaceID, or your Windows Hello to securely unlock Mirage without entering your key every time.`}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsxs)(`button`,{onClick:()=>x(!0),disabled:c,className:`flex items-center justify-center gap-3 w-full p-5 bg-vivid-cyan text-black rounded-2xl font-black uppercase tracking-widest text-sm hover:scale-[1.02] active:scale-[0.98] transition-all shadow-[0_0_30px_rgba(0,255,255,0.2)]`,children:[c?(0,Z.jsx)(ur,{className:`animate-spin`,size:20}):(0,Z.jsx)(Wn,{size:20}),`Enable & Continue`]}),(0,Z.jsx)(`button`,{onClick:()=>x(!1),disabled:c,className:`w-full p-4 text-gray-500 text-xs uppercase tracking-widest font-black hover:text-white`,children:`Skip for Now`})]})]},`webauthn-setup`)]}),o&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`mt-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3`,children:[(0,Z.jsx)(Jn,{className:`text-red-500 shrink-0`,size:16}),(0,Z.jsx)(`p`,{className:`text-red-500 text-[10px] font-bold uppercase tracking-wider leading-tight`,children:o})]})]})})};var eP=(0,b.createContext)(void 0),tP=null,nP=null;const rP=({children:e})=>{let[t,n]=(0,b.useState)(tP),[r,i]=(0,b.useState)(null),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)([]),[d,f]=(0,b.useState)(null),[p,m]=(0,b.useState)(null),h=(0,b.useRef)(!1),g=(0,b.useCallback)(()=>{localStorage.removeItem(`mirage_identity_v1`),window.nostr=void 0,i(null),f(null),c(!0)},[]),_=(0,b.useCallback)(async()=>{let e=t||tP;if(!e){console.warn(`[useMirage] Cannot refresh apps: host not ready`);return}try{console.log(`[useMirage] Refreshing apps from engine...`);let t=await e.request(`GET`,`/mirage/v1/admin/apps`);console.log(`[useMirage] Apps received:`,typeof t,Array.isArray(t)?`Array(${t.length})`:t),Array.isArray(t)?u(t):console.warn(`[useMirage] Received non-array apps response`)}catch(e){console.error(`[useMirage] Failed to refresh apps:`,e)}},[t]);(0,b.useEffect)(()=>{if(!t)return;let e=e=>{m(`New space added: ${e.spaceName||`Unnamed Space`}`),_(),setTimeout(()=>m(null),3e3)};return t.on(`new_space_invite`,e),()=>{t.off(`new_space_invite`,e)}},[t,_]),(0,b.useEffect)(()=>{(async()=>{if(tP&&!nP){n(tP),o(!0),!r&&!window.nostr&&c(!0);return}if(nP){await nP,n(tP),o(!0);return}h.current||(h.current=!0,nP=(async()=>{try{let e=window.location.origin;await(async e=>{if(window.nostr)return!0;for(let t=0;t<e/100;t++){if(window.nostr)return!0;await new Promise(e=>setTimeout(e,100))}return!!window.nostr})(500);let t=window.nostr;if(!t)c(!0);else try{i(await t.getPublicKey())}catch{c(!0)}let r=ew;try{let e=localStorage.getItem(`mirage_relays`);e&&(r=JSON.parse(e))}catch(e){console.warn(`[useMirage] Failed to load relays from localStorage`,e)}let a=new QC({relays:r,engineUrl:`${e}/mirage/engine-worker.js`,bridgeUrl:`${e}/mirage/bridge.js`,signer:window.nostr});if(tP=a,n(a),window.mirageHost=a,window.nostr){let e=await window.nostr.getPublicKey();a.setPubkey(e),i(e);try{let[e,t]=await Promise.all([a.request(`GET`,`/mirage/v1/admin/apps`).catch(e=>(console.warn(`Apps fetch failed`,e),[])),a.request(`GET`,`/mirage/v1/user/me`).catch(e=>(console.warn(`Profile fetch failed`,e),null))]);Array.isArray(e)&&u(e),t&&!t.error&&f(t)}catch(e){console.warn(`[useMirage] Initial data fetch failed:`,e)}}}catch(e){console.error(`[useMirage] Host initialization failed:`,e)}finally{o(!0),nP=null}})(),await nP,o(!0))})()},[]);let v=(0,b.useCallback)(async e=>{i(e),c(!1);let n=t||tP;if(n){let t=window.nostr;t&&n.setSigner(t),n.setPubkey(e);try{let[e,t]=await Promise.all([n.request(`GET`,`/mirage/v1/admin/apps`).catch(e=>(console.warn(`Apps fetch failed`,e),[])),n.request(`GET`,`/mirage/v1/user/me`).catch(e=>(console.warn(`Profile fetch failed`,e),null))]);Array.isArray(e)&&u(e),t&&!t.error&&f(t)}catch(e){console.warn(`[useMirage] Data fetch after login failed:`,e)}}},[t]);return(0,Z.jsx)(eP.Provider,{value:{host:t,isReady:a,pubkey:r,apps:l,notification:p,publishApp:async(e,n=`Untitled App`,i)=>{let a=t||tP;if(!a||!r)throw Error(`Mirage not initialized or no signer found`);let o=i||`mirage:app:${crypto.randomUUID()}`,s=[[`d`,o],[`name`,n],[`t`,`mirage_app`]],c=await a.request(`POST`,`/mirage/v1/events`,{kind:30078,content:e,tags:s});if(c.error)throw Error(c.error);let l=Ad.naddrEncode({kind:30078,pubkey:r,identifier:o,relays:a.getRelays()}),d={naddr:l,name:n,createdAt:Date.now()};console.log(`[useMirage] Saving to library via API:`,d),a.setAppOrigin(`mirage`);let f=await a.request(`POST`,`/mirage/v1/admin/apps`,d);if(console.log(`[useMirage] Library save result:`,f),f.error)throw console.error(`[useMirage] Failed to save app to library:`,f.error),Error(f.error);return u(e=>{let t=o;return[d,...e.filter(e=>{try{let n=Ad.decode(e.naddr);if(n.type===`naddr`&&n.data.identifier===t&&n.data.pubkey===r)return!1}catch{}return e.naddr!==l})]}),l},fetchApp:async e=>{let n=t||tP;if(!n)return null;try{return await n.fetchApp(e)}catch(e){return console.error(`[useMirage] Failed to fetch app:`,e),null}},refreshApps:_,deleteApp:async e=>{let n=t||tP;if(!n)return!1;try{return(await n.request(`DELETE`,`/mirage/v1/admin/apps`,{naddr:e})).deleted?(u(t=>t.filter(t=>t.naddr!==e)),!0):!1}catch(e){return console.error(`[useMirage] Failed to delete app:`,e),!1}},logout:g,profile:d},children:a?(0,Z.jsxs)(Z.Fragment,{children:[s&&(0,Z.jsx)($N,{isOpen:!0,onSuccess:v}),e]}):(0,Z.jsxs)(`div`,{className:`fixed inset-0 bg-[#050505] flex flex-col items-center justify-center p-12 z-[9999]`,children:[(0,Z.jsxs)(`div`,{className:`relative mb-20 scale-125`,children:[(0,Z.jsx)(`div`,{className:`absolute -inset-10 bg-vivid-cyan rounded-full blur-[80px] opacity-10 animate-pulse`}),(0,Z.jsx)(`span`,{className:`text-6xl font-black text-transparent bg-clip-text bg-brand-gradient tracking-tighter relative z-10`,children:`Mirage`})]}),(0,Z.jsxs)(`div`,{className:`flex flex-col items-center gap-8`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 border border-white/5 border-t-vivid-cyan rounded-full animate-spin`}),(0,Z.jsxs)(`div`,{className:`flex flex-col items-center text-center`,children:[(0,Z.jsx)(`p`,{className:`text-gray-500 text-[10px] tracking-[0.5em] uppercase font-black mb-3`,children:`Synchronizing Platform`}),(0,Z.jsx)(`p`,{className:`text-gray-700 text-xs italic font-light`,children:`Establishing secure Nostr relay connections...`})]})]})]})})},iP=()=>{let e=(0,b.useContext)(eP);if(e===void 0)throw Error(`useMirage must be used within a MirageProvider`);return e},aP=({compact:e=!1,direction:t=`down`,align:n=`right`,onSettingsClick:r})=>{let{pubkey:i,logout:a,profile:o}=iP(),s=$e(),[c,l]=(0,b.useState)(!1),u=()=>{a(),l(!1)},d=o?.displayName||o?.name||(i?`${i.slice(0,6)}...${i.slice(-4)}`:`Unknown`);return(0,Z.jsxs)(`div`,{className:`relative z-50`,children:[(0,Z.jsxs)(`button`,{onClick:()=>l(!c),className:qp(`flex items-center gap-3 p-2 rounded-xl hover:bg-white/5 transition-colors border border-transparent hover:border-white/10 outline-none w-full`,e?`justify-center`:``),children:[(0,Z.jsx)(`div`,{className:`w-8 h-8 rounded-full overflow-hidden bg-white/10 flex items-center justify-center shrink-0 ring-1 ring-white/10`,children:o?.picture?(0,Z.jsx)(`img`,{src:o.picture,alt:d,className:`w-full h-full object-cover`}):(0,Z.jsx)(Er,{size:16,className:`text-vivid-cyan`})}),!e&&(0,Z.jsxs)(`div`,{className:`flex items-center gap-2 flex-1 justify-between min-w-0`,children:[(0,Z.jsx)(`span`,{className:`text-sm font-medium text-gray-200 truncate`,children:d}),(0,Z.jsx)(Gn,{size:14,className:`text-gray-500 transition-transform duration-200 ${c?`rotate-180`:``}`})]})]}),(0,Z.jsx)(mw,{children:c&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,y:t===`up`?10:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:t===`up`?10:-10,scale:.95},transition:{duration:.1},className:qp(`absolute w-56 bg-[#1A1A1A]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl p-2 flex flex-col gap-1 z-[100]`,t===`up`?`bottom-full mb-2`:`top-full mt-2`,n===`left`?`left-0`:`right-0`),children:[(0,Z.jsxs)(`div`,{className:qp(`px-3 py-2 border-b border-white/5 mb-1`,e?``:`md:hidden`),children:[(0,Z.jsx)(`span`,{className:`text-sm font-bold text-white block truncate`,children:d}),i&&(0,Z.jsx)(`span`,{className:`text-xs text-gray-500 block truncate font-mono`,children:i})]}),(0,Z.jsxs)(`button`,{onClick:()=>{s(`/settings`),l(!1),r?.()},className:`flex items-center gap-3 w-full px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors text-left outline-none`,children:[(0,Z.jsx)(xr,{size:16}),`Settings`]}),(0,Z.jsxs)(`button`,{onClick:u,className:`flex items-center gap-3 w-full px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors text-left outline-none`,children:[(0,Z.jsx)(dr,{size:16}),`Disconnect`]})]})}),c&&(0,Z.jsx)(`div`,{className:`fixed inset-0 z-40`,onClick:()=>l(!1)})]})};var oP=({to:e,icon:t,label:n,active:r,collapsed:i})=>(0,Z.jsxs)(yn,{to:e,className:qp(`flex items-center gap-3 py-3 rounded-xl transition-all font-semibold text-sm border border-transparent whitespace-nowrap`,r?`bg-white/5 text-white border-white/10 shadow-lg`:`text-gray-500 hover:bg-white/5 hover:text-white`,i?`justify-center px-2`:`px-4`),title:i?n:void 0,children:[(0,Z.jsx)(t,{size:18,className:r?`text-vivid-cyan`:``}),!i&&(0,Z.jsx)(`span`,{children:n})]}),sP=({icon:e,label:t,onClick:n,collapsed:r})=>(0,Z.jsxs)(`button`,{onClick:n,className:qp(`flex items-center gap-3 py-3 rounded-xl transition-all font-semibold text-sm border border-transparent text-gray-500 hover:bg-white/5 hover:text-white w-full whitespace-nowrap`,r?`justify-center px-2`:`px-4`),title:r?t:void 0,children:[(0,Z.jsx)(e,{size:18}),!r&&(0,Z.jsx)(`span`,{children:t})]});const cP=({onNavItemClick:e,collapsed:t=!1,onToggle:n})=>{let r=Xe(),{app:i,space:a,isAuthor:o,onViewEditSource:s,onInvite:c,onExit:l}=Qp(),u=t=>{t&&(t(),e?.())};return(0,Z.jsxs)(`aside`,{className:`h-full w-full bg-surface border-r border-white/5 flex flex-col z-20 overflow-hidden`,children:[(0,Z.jsxs)(`div`,{className:qp(`flex items-center p-6 h-20`,t?`justify-center`:`justify-between`),children:[!t&&(0,Z.jsx)(yn,{to:`/`,onClick:e,className:`text-2xl font-black text-transparent bg-clip-text bg-brand-gradient tracking-tighter hover:opacity-80 transition-opacity`,children:`Mirage`}),(0,Z.jsx)(`button`,{onClick:n,className:`p-1 rounded-lg hover:bg-white/5 text-gray-500 hover:text-white transition-colors hidden md:block`,children:t?(0,Z.jsx)(qn,{size:16}):(0,Z.jsx)(Kn,{size:16})})]}),(0,Z.jsxs)(`div`,{className:`flex-1 flex flex-col px-4 pb-4 overflow-y-auto overflow-x-hidden min-h-0`,children:[(0,Z.jsx)(`nav`,{className:`space-y-6`,children:(0,Z.jsxs)(`div`,{children:[!t&&(0,Z.jsx)(`div`,{className:`text-[10px] font-bold text-gray-700 uppercase tracking-[0.2em] mb-4 px-2`,children:`Main`}),(0,Z.jsxs)(`div`,{className:`space-y-1`,children:[(0,Z.jsx)(`div`,{onClick:e,children:(0,Z.jsx)(oP,{to:`/`,icon:or,label:`Library`,active:r.pathname===`/`,collapsed:t})}),(0,Z.jsx)(`div`,{onClick:e,children:(0,Z.jsx)(oP,{to:`/create`,icon:Zn,label:`Create App`,active:r.pathname===`/create`,collapsed:t})}),(0,Z.jsx)(`div`,{onClick:e,children:(0,Z.jsx)(oP,{to:`/help`,icon:Xn,label:`Help & Guide`,active:r.pathname===`/help`,collapsed:t})})]})]})}),i&&(0,Z.jsxs)(`div`,{className:`mt-8`,children:[(0,Z.jsx)(`div`,{className:`h-px bg-white/5 mb-6`}),(0,Z.jsxs)(`div`,{className:`space-y-6`,children:[a&&(0,Z.jsxs)(`div`,{children:[!t&&(0,Z.jsx)(`div`,{className:`text-[10px] font-bold text-gray-700 uppercase tracking-[0.2em] mb-3 px-2`,children:`Active Space`}),(0,Z.jsxs)(`div`,{className:qp(`flex items-center gap-3 rounded-xl bg-white/5 text-white border border-white/10 overflow-hidden`,t?`justify-center p-2`:`px-4 py-3`),title:t?`${i.name} (${a.name})`:void 0,children:[(0,Z.jsx)(rr,{size:16,className:`text-vivid-yellow shrink-0`}),!t&&(0,Z.jsxs)(`div`,{className:`flex flex-col min-w-0`,children:[(0,Z.jsx)(`span`,{className:`text-[10px] text-gray-400 font-bold uppercase tracking-wider truncate leading-tight`,children:i.name}),(0,Z.jsx)(`span`,{className:`text-sm font-bold truncate leading-tight`,children:a.name})]})]})]}),(0,Z.jsxs)(`div`,{children:[!t&&(0,Z.jsx)(`div`,{className:`text-[10px] font-bold text-gray-700 uppercase tracking-[0.2em] mb-3 px-2`,children:i.naddr===`__preview__`?`Preview Actions`:`App Actions`}),(0,Z.jsxs)(`div`,{className:`space-y-1`,children:[(0,Z.jsx)(sP,{icon:o?hr:tr,label:i.naddr===`__preview__`||o?`Edit Source`:`View App Info`,onClick:()=>u(s),collapsed:t}),c&&(0,Z.jsx)(sP,{icon:yr,label:`Invite`,onClick:()=>u(c),collapsed:t}),(0,Z.jsx)(sP,{icon:Qn,label:i.naddr===`__preview__`?`Cancel Preview`:`Exit App`,onClick:()=>u(l),collapsed:t})]})]})]})]})]}),(0,Z.jsx)(`div`,{className:`p-4 border-t border-white/5 mt-auto`,children:(0,Z.jsx)(aP,{compact:t,direction:`up`,align:`left`,onSettingsClick:e})})]})},lP=e=>{let t=(0,b.useRef)(null),[n,r]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{if(!e){t.current&&(t.current.release().catch(()=>{}),t.current=null,r(!1));return}let n=async()=>{try{if(`wakeLock`in navigator){let e=await navigator.wakeLock.request(`screen`);t.current=e,r(!0),e.addEventListener(`release`,()=>{r(!1)})}}catch(e){e.name!==`AbortError`&&console.warn(`Wake Lock failed:`,e),r(!1)}};t.current||n();let i=()=>{document.visibilityState===`visible`&&!t.current&&n()};return document.addEventListener(`visibilitychange`,i),()=>{document.removeEventListener(`visibilitychange`,i),t.current&&=(t.current.release().catch(()=>{}),null)}},[e]),n};var uP={wakeLockEnabled:!1},dP=`mirage_app_settings`;const fP=()=>{let[e,t]=(0,b.useState)(()=>{let e=localStorage.getItem(dP);if(e)try{return{...uP,...JSON.parse(e)}}catch{return uP}return uP});return(0,b.useEffect)(()=>{let e=e=>{t(e.detail)};return window.addEventListener(`mirage-settings-changed`,e),()=>window.removeEventListener(`mirage-settings-changed`,e)},[]),{settings:e,updateSettings:(0,b.useCallback)(e=>{t(t=>{let n={...t,...e};return localStorage.setItem(dP,JSON.stringify(n)),setTimeout(()=>{window.dispatchEvent(new CustomEvent(`mirage-settings-changed`,{detail:n}))},0),n})},[])}},pP=()=>{let[e,t]=(0,b.useState)(!1),[n,r]=(0,b.useState)(!1),{notification:i}=iP(),a=Xe(),{settings:o,updateSettings:s}=fP();lP(o.wakeLockEnabled),(0,b.useEffect)(()=>{a.pathname.startsWith(`/run/`)&&!o.wakeLockEnabled&&s({wakeLockEnabled:!0})},[a.pathname,o.wakeLockEnabled,s]);let c=a.pathname.startsWith(`/run/`)||a.pathname===`/preview`;return(0,Z.jsxs)(`div`,{className:`flex flex-col md:flex-row h-screen w-full bg-background text-white overflow-hidden relative`,children:[(0,Z.jsx)(mw,{children:i&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},className:`fixed bottom-8 right-8 z-[1000] bg-white text-black px-6 py-4 rounded-2xl font-black shadow-2xl flex items-center gap-4 border-2 border-white`,children:[(0,Z.jsx)(`div`,{className:`w-3 h-3 bg-vivid-magenta rounded-full animate-pulse shadow-[0_0_10px_rgba(255,0,255,0.5)]`}),(0,Z.jsx)(`span`,{className:`uppercase tracking-widest text-xs`,children:i})]})}),(0,Z.jsxs)(`div`,{className:`md:hidden fixed top-0 left-0 right-0 h-16 bg-surface/60 border-b border-white/5 backdrop-blur-xl z-[200] px-4 grid grid-cols-3 items-center`,children:[(0,Z.jsx)(`div`,{className:`flex justify-start`,children:(0,Z.jsx)(`button`,{onClick:()=>t(!e),className:`p-2 bg-white/5 rounded-xl text-gray-400 hover:text-white transition-colors`,children:e?(0,Z.jsx)(Or,{size:20}):(0,Z.jsx)(fr,{size:20})})}),(0,Z.jsx)(`div`,{className:`flex justify-center`,children:(0,Z.jsx)(yn,{to:`/`,className:`text-xl font-black text-transparent bg-clip-text bg-brand-gradient tracking-tighter`,children:`Mirage`})})]}),(0,Z.jsxs)(`div`,{className:qp(`fixed top-16 md:top-0 left-0 right-0 bottom-0 md:relative z-[150] transition-all duration-300 ease-in-out bg-surface md:bg-transparent`,e?`translate-x-0 pointer-events-auto`:`-translate-x-full pointer-events-none md:translate-x-0 md:pointer-events-auto`,n?`md:w-20`:`md:w-64`),children:[e&&(0,Z.jsx)(`div`,{className:`absolute inset-0 bg-black/60 backdrop-blur-sm md:hidden`,onClick:()=>t(!1)}),(0,Z.jsx)(`div`,{className:`relative h-full w-full`,children:(0,Z.jsx)(cP,{onNavItemClick:()=>t(!1),collapsed:n,onToggle:()=>r(!n)})})]}),(0,Z.jsx)(`main`,{className:qp(`flex-1 overflow-y-auto relative z-10 transition-all duration-300`,c?`p-0 pt-16 md:pt-0`:`p-6 md:p-12 md:pt-12 pt-24`),children:(0,Z.jsx)(Dt,{})})]})},mP=({isOpen:e,onClose:t,mode:n=`create`,initialName:r=``,initialCode:i=``,existingDTag:a,returnTo:o=`/create`,authorPubkey:s})=>{let[c,l]=(0,b.useState)(r),[u,d]=(0,b.useState)(i),[f,p]=(0,b.useState)(!1),[m,h]=(0,b.useState)(null),g=$e(),{host:_}=iP();(0,b.useEffect)(()=>{e&&(l(r),d(i))},[e,r,i]),(0,b.useEffect)(()=>{e&&s&&_&&(h(null),_.request(`GET`,`/mirage/v1/users/${s}`).then(e=>{e&&e.profile&&h(e.profile)}).catch(e=>console.warn(`Failed to fetch author profile`,e)))},[e,s,_]);let v=()=>{u.trim()&&(n===`create`?g(`/preview`,{state:{code:u,mode:`create`,appName:c,returnTo:o}}):n===`edit`&&g(`/preview`,{state:{code:u,mode:`edit`,appName:c,existingDTag:a,returnTo:o}}),t())},y=()=>{navigator.clipboard.writeText(u),p(!0),setTimeout(()=>p(!1),2e3)},x=n===`view`,S=n===`edit`;return(0,Z.jsxs)(QN,{isOpen:e,onClose:t,className:`max-w-3xl`,children:[(0,Z.jsxs)(`div`,{className:`p-12 pb-4 flex justify-between items-start`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h2`,{className:`text-4xl font-black mb-2 tracking-tight`,children:x?(0,Z.jsxs)(Z.Fragment,{children:[`Source `,(0,Z.jsx)(`span`,{className:`serif-italic px-1`,children:`Inspector`})]}):S?(0,Z.jsxs)(Z.Fragment,{children:[`Apply `,(0,Z.jsx)(`span`,{className:`serif-italic px-1`,children:`Changes`})]}):(0,Z.jsxs)(Z.Fragment,{children:[`Sign & `,(0,Z.jsx)(`span`,{className:`serif-italic px-1`,children:`Publish`})]})}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,Z.jsx)(`p`,{className:`text-gray-500 text-lg font-light italic`,children:x?`Viewing raw application protocol.`:`Configure and deploy your application cluster.`}),s&&(0,Z.jsxs)(`div`,{className:`flex items-center gap-2 mt-2 bg-white/5 rounded-full pr-4 w-fit md:p-1 md:pr-4`,children:[m?.picture?(0,Z.jsx)(`img`,{src:m.picture,className:`w-6 h-6 rounded-full object-cover`}):(0,Z.jsx)(`div`,{className:`w-6 h-6 rounded-full bg-vivid-cyan/20`}),(0,Z.jsxs)(`span`,{className:`text-xs text-gray-400`,children:[(0,Z.jsx)(`span`,{className:`font-bold text-gray-300`,children:m?.name||`Unknown`}),(0,Z.jsxs)(`span`,{className:`opacity-50 ml-2 font-mono`,children:[s.slice(0,6),`...`,s.slice(-4)]})]})]})]})]}),(0,Z.jsx)(`button`,{onClick:t,className:`w-10 h-10 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-2xl transition-all text-gray-500 hover:text-white`,children:(0,Z.jsx)(Or,{size:20})})]}),(0,Z.jsxs)(`form`,{className:`p-12 pt-6`,onSubmit:e=>{e.preventDefault(),!x&&c.trim()&&u.trim()&&v()},children:[!x&&(0,Z.jsxs)(`div`,{className:`mb-8`,children:[(0,Z.jsxs)(`label`,{className:`block text-xs font-black uppercase tracking-[0.3em] text-gray-600 mb-3`,children:[`Application Name `,(0,Z.jsx)(`span`,{className:`text-vivid-magenta`,children:`*`})]}),(0,Z.jsx)(`input`,{type:`text`,value:c,readOnly:x,onChange:e=>l(e.target.value),placeholder:`e.g. My Awesome App`,className:`w-full bg-black/40 border border-white/5 rounded-2xl px-6 py-4 text-white focus:border-vivid-yellow/30 focus:ring-4 focus:ring-vivid-yellow/5 outline-none transition-all font-medium`})]}),(0,Z.jsxs)(`div`,{className:`relative group`,children:[(0,Z.jsx)(`div`,{className:`absolute top-4 right-4 z-10`,children:(0,Z.jsx)(`button`,{onClick:y,className:`p-2 bg-white/5 hover:bg-white/10 rounded-xl transition-all text-gray-500 hover:text-white backdrop-blur-md border border-white/5`,children:f?(0,Z.jsx)(Wn,{size:16,className:`text-vivid-teal`}):(0,Z.jsx)(nr,{size:16})})}),(0,Z.jsx)(`label`,{className:`block text-xs font-black uppercase tracking-[0.3em] text-gray-600 mb-3 ml-1`,children:`Cluster Payload (HTML/JS)`}),(0,Z.jsx)(`textarea`,{value:u,readOnly:x,onChange:e=>d(e.target.value),placeholder:`<html>
  <head>...</head>
  <body>...</body>
</html>`,className:qp(`w-full h-80 bg-black/40 border border-white/5 rounded-[32px] p-8`,`font-mono text-xs text-gray-400 outline-none transition-all`,x?`cursor-default`:`focus:border-vivid-yellow/30 focus:ring-4 focus:ring-vivid-yellow/5`,`resize-none placeholder:text-gray-800`)}),!u&&!x&&(0,Z.jsxs)(`div`,{className:`absolute inset-0 top-6 flex flex-col items-center justify-center pointer-events-none opacity-20 group-hover:opacity-30 transition-opacity`,children:[(0,Z.jsx)(er,{size:64,className:`mb-6 text-vivid-cyan`}),(0,Z.jsx)(`span`,{className:`text-sm font-black uppercase tracking-[0.2em]`,children:`Source Code Required`})]})]}),(0,Z.jsxs)(`div`,{className:`mt-10 flex items-center gap-6`,children:[x?(0,Z.jsx)(`button`,{type:`button`,onClick:t,className:`flex-1 py-5 bg-vivid-cyan/10 text-vivid-cyan border border-vivid-cyan/20 rounded-[24px] font-black text-sm uppercase tracking-widest hover:bg-vivid-cyan/20 transition-all`,children:`Exit Inspector`}):(0,Z.jsx)(`button`,{type:`submit`,disabled:!c.trim()||!u.trim(),className:qp(`flex-1 py-5 rounded-[24px] font-black transition-all relative overflow-hidden text-sm uppercase tracking-widest`,!c.trim()||!u.trim()?`bg-white/5 text-gray-600 cursor-not-allowed`:`bg-vivid-cyan text-black hover:bg-white hover:text-black shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]`),children:(0,Z.jsxs)(`span`,{className:`flex items-center justify-center gap-3`,children:[(0,Z.jsx)(er,{size:18}),n===`edit`?`Preview Changes`:`Preview App`]})}),(0,Z.jsx)(`button`,{type:`button`,onClick:t,className:`px-10 py-5 bg-transparent border border-white/5 rounded-[24px] font-black text-sm uppercase tracking-widest hover:bg-white/5 transition-all`,children:x?`Close`:`Cancel`})]})]}),(0,Z.jsxs)(`div`,{className:`px-12 py-5 bg-black/60 border-t border-white/5 flex justify-between items-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em]`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Z.jsx)(`div`,{className:qp(`w-1.5 h-1.5 rounded-full`,x?`bg-gray-600`:`bg-vivid-teal animate-pulse`)}),(0,Z.jsx)(`span`,{children:x?`Read Only Access`:`Protocol Version 1.0`})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-4`,children:[S&&(0,Z.jsxs)(`span`,{children:[`ID: `,a?.slice(-8)]}),(0,Z.jsx)(`span`,{children:`Secured via NIP-07 Signature`})]})]})]})};var hP=`openapi: 3.0.3
info:
  title: Mirage API
  description: |
    Build social apps with just \`fetch()\`. Mirage handles authentication,
    encryption, and syncing across devices automatically.

    **No backend required** - data syncs via decentralized relays.
  version: 1.0.0
  contact:
    name: Mirage
  license:
    name: MIT

servers:
  - url: /mirage/v1
    description: API base URL

tags:
  - name: System
    description: Check if the API is ready to use
  - name: Feed
    description: Read and post public messages (like tweets)
  - name: Users
    description: Get user profiles and display names
  - name: Storage
    description: |
      Save and load app data (settings, drafts, preferences).
      Data syncs across all your devices automatically.

      **Space Required:** All storage operations require a Space context.
      Apps must be launched within a Space to use storage. This ensures
      complete data isolation between different instances of the same app.
  - name: Spaces
    description: |
      Access the current Space context and its shared data.
      Use \`GET /space\` to get the current context, and \`/space/store\`
      for collaborative key-value storage between Space members.

      **Note:** Apps cannot create or manage Spaces directly.
      Use the Admin endpoints for Space management.
  - name: Admin
    description: |
      Administrative endpoints for Space management. These are restricted
      to the Mirage management system (\`appOrigin === 'mirage'\`).

      Regular apps calling these endpoints will receive a 403 Forbidden error.
  - name: DirectMessages
    description: |
      Private one-on-one messages. Fully encrypted - only you and the
      recipient can read them.
  - name: Contacts
    description: |
      Manage your social graph (following list). Add or remove friends
      and see who other users are following.

paths:
  /ready:
    get:
      tags: [System]
      summary: Check if API is ready
      description: |
        Returns status information. Check this endpoint once at startup
        to ensure the system is online before making API calls.

        **Usage:**
        \`\`\`javascript
        const status = await fetch('/mirage/v1/ready').then(r => r.json());
        if (status.ready) {
          // Start using API
        }
        \`\`\`
      operationId: getReady
      responses:
        '200':
          description: System is ready
          content:
            application/json:
              schema:
                type: object
                properties:
                  ready:
                    type: boolean
                    description: Always true when endpoint responds
                  authenticated:
                    type: boolean
                    description: Whether the user has signed in
                  relayCount:
                    type: integer
                    description: Number of active network connections

  /events:
    get:
      tags: [System]
      summary: Query events
      description: |
        Low-level query interface for raw Nostr events.
        Use this to fetch specific kinds of data (notes, profiles, etc).

        **Common Queries:**
        - **Feed:** \`kinds=[1]\`
        - **Profiles:** \`kinds=[0], authors=[pk]\`
      operationId: getEvents
      parameters:
        - name: kinds
          in: query
          description: Event kinds to filter by (e.g. 1 for notes)
          schema:
            type: array
            items:
              type: integer
        - name: authors
          in: query
          description: Public keys of authors to filter by
          schema:
            type: array
            items:
              type: string
        - name: since
          in: query
          description: Only return events newer than this timestamp
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: List of events
          content:
            application/json:
              schema:
                type: array
                items:
                   $ref: '#/components/schemas/NostrEvent'
              example:
                - id: "4376c..."
                  kind: 1
                  content: "Hello Nostr!"
                  pubkey: "abc..."
                  created_at: 1678886400
                  tags: []

    post:
      tags: [System]
      summary: Publish raw event
      description: |
        Publish a raw Nostr event. The system will sign it and broadcast to relays.
        Useful for custom event kinds not covered by helper endpoints.
      operationId: publishEvent
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content, kind]
              properties:
                kind:
                  type: integer
                  description: Event kind (e.g. 1 for note)
                content:
                  type: string
                  description: Event content
                tags:
                  type: array
                  items:
                    type: array
                    items:
                      type: string
      responses:
        '201':
          description: Event published
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NostrEvent'

  /user/me:
    get:
      tags: [Users]
      summary: Get current user profile
      description: Returns the profile of the currently authenticated user.
      operationId: getCurrentUser
      security:
        - nip07: []
      responses:
        '200':
          description: Your profile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileContent'
        '401':
          description: Not authenticated

  /users/{pubkey}:
    get:
      tags: [Users]
      summary: Get user profile
      description: |
        Fetch a user's profile metadata (Kind 0).
        This includes name, bio, avatar, and other NIP-01 fields.
      operationId: getUser
      parameters:
        - name: pubkey
          in: path
          required: true
          description: Hex public key or npub
          schema:
            type: string
            example: "39fe47...a6835c2f"
      responses:
        '200':
          description: User profile found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileContent'
              example:
                pubkey: "39fe47..."
                name: "Alice"
                about: "Crypto enthusiast"
                picture: "https://example.com/alice.jpg"
                nip05: "alice@example.com"

  /contacts:
    get:
      tags: [Contacts]
      summary: Get my contacts
      description: Returns the list of people you follow (Kind 3).
      operationId: getContacts
      security:
        - nip07: []
      responses:
        '200':
          description: Your contact list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Contact'
        '404':
          description: No contact list found

    put:
      tags: [Contacts]
      summary: Update contact list
      description: |
        Replace your entire contact list.
        To add a user, fetch the current list, append the new user, and PUT the result.
      operationId: updateContacts
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [contacts]
              properties:
                contacts:
                  type: array
                  items:
                    $ref: '#/components/schemas/Contact'
      responses:
        '200':
          description: Contact list updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean

  /contacts/{pubkey}:
    get:
      tags: [Contacts]
      summary: Get user's contacts
      description: See who another user is following.
      operationId: getUserContacts
      parameters:
        - name: pubkey
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User's contact list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Contact'

  /space/me/{key}:
    get:
      tags: [Spaces]
      summary: Get personal value in Space
      description: |
        Retrieves a value from your **personal storage** (User-only)
        within the current Space context. This data is isolated per app,
        per space, and per user.

        Use this for personal notes, app settings, or drafts that
        other members of the Space should not see.
      operationId: getSpaceMe
      security:
        - nip07: []
      parameters:
        - name: key
          in: path
          required: true
          description: Storage key
          schema:
            type: string
            example: "my-draft"
        - name: pubkey
          in: query
          required: false
          description: Read another user's public storage if they used ?public=true
          schema:
            type: string
      responses:
        '200':
          description: Personal value retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorageValue'
        '401':
          description: Not authenticated
        '404':
          description: Key not found

    put:
      tags: [Spaces]
      summary: Store personal value in Space
      description: |
        Stores a value in your **personal storage** (User-only)
        within the current Space context.

        By default, data is **encrypted** to your public key (NIP-44).
      operationId: putSpaceMe
      security:
        - nip07: []
      parameters:
        - name: key
          in: path
          required: true
          description: Storage key
          schema:
            type: string
            example: "my-draft"
        - name: public
          in: query
          required: false
          description: |
            If "true", stores data in plaintext. Useful for data you want
            others to discover (e.g., your space-specific bio or badge)
            while still being the only one who can edit it.
          schema:
            type: string
            enum: ["true", "false"]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              description: JSON value to store
      responses:
        '200':
          description: Value stored successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorageValue'

    delete:
      tags: [Spaces]
      summary: Delete personal value in Space
      operationId: deleteSpaceMe
      security:
        - nip07: []
      parameters:
        - name: key
          in: path
          required: true
          description: Storage key to delete
          schema:
            type: string
      responses:
        '200':
          description: Value deleted
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                  key:
                    type: string
        '401':
          description: Not authenticated
        '503':
          description: Relay pool not initialized

  # ===========================================================================
  # Spaces
  # ===========================================================================

  /space:
    get:
      tags: [Spaces]
      summary: Get current space context
      description: |
        Returns the metadata of the space the app is currently running in.

        If the app was launched inside a space, this returns the space details.
        If the app is running standalone (or if no space context was provided),
        it returns \`{ "id": null, "standalone": true }\`.

        **Usage:**
        Use this to check if your app has access to a space context.
      operationId: getSpaceContext
      responses:
        '200':
          description: Current space context
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/Space'
                  - $ref: '#/components/schemas/SpaceContextStandalone'

    put:
      tags: [Spaces]
      summary: Set current space context
      description: |
        Set the active Space for this session. After calling this, all
        implicit Space operations (\`/storage\`, \`/space/store\`, etc.) will
        use this Space.

        **Standalone Apps:** Apps running outside the Mirage UI can use this
        endpoint to set their Space context.
      operationId: setSpaceContext
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [spaceId]
              properties:
                spaceId:
                  type: string
                  description: The Space ID to activate
                spaceName:
                  type: string
                  description: Optional display name for the Space
      responses:
        '200':
          description: Space context set successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  spaceId:
                    type: string
                  spaceName:
                    type: string
        '400':
          description: spaceId is required

  /space/store:
    get:
      tags: [Spaces]
      summary: Get shared KV store for current space
      description: |
        Returns the clean, flattened state (JSON) of the shared key-value
        store for the currently active space.
      operationId: getImplicitSpaceStore
      responses:
        '200':
          description: Space data snapshot
          content:
            application/json:
              schema:
                type: object
        '400':
          description: No space context set

  /space/store/{key}:
    put:
      tags: [Spaces]
      summary: Update shared KV store key for current space
      description: |
        Updates a specific key in the shared store for the current space.
        This emits a Kind 42 event with the key and value.
      operationId: updateImplicitSpaceStore
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: Value updated
        '400':
          description: No space context set

  /space/messages:
    get:
      tags: [Spaces]
      summary: Get chat messages for current space
      description: |
        Returns a time-ordered list of encrypted messages from the
        active space context. Supports \`EventSource\` for real-time chat.
      operationId: getImplicitSpaceMessages
      responses:
        '200':
          description: Message history
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/NostrEvent'
    post:
      tags: [Spaces]
      summary: Post a message to current space
      operationId: postImplicitSpaceMessage
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
      responses:
        '201':
          description: Message sent

  /space/invitations:
    post:
      tags: [Spaces]
      summary: Invite user to current space (system message)
      operationId: postImplicitSpaceInvitation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [pubkey]
              properties:
                pubkey:
                  type: string
                  description: Public key to invite
                name:
                  type: string
                  description: Optional name for the user
      responses:
        '201':
          description: Invitation sent







  /spaces:
    get:
      deprecated: true
      tags: [Spaces]
      summary: "[DEPRECATED] List my spaces - use /admin/spaces"
      description: |
        **DEPRECATED:** Use \`GET /admin/spaces\` instead.
        Returns all spaces you're a member of.
      operationId: listSpaces
      security:
        - nip07: []
      responses:
        '200':
          description: Your spaces
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Space'

    post:
      tags: [Spaces]
      summary: Create a space
      description: |
        Start a new shared space. You'll be the owner.
        Invite others using the invite endpoint.
      operationId: createSpace
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
                  description: Name for the space (e.g., "Family Groceries")
                  example: "Family Space"
      responses:
        '201':
          description: Space created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Space'

  /spaces/{spaceId}:
    delete:
      tags: [Spaces]
      summary: Delete or leave a space
      description: Deletes the space if you are the owner, or removes you from it.
      operationId: deleteSpace
      security:
        - nip07: []
      parameters:
        - name: spaceId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Space deleted/left
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean





  # ===========================================================================
  # Direct Messages (NIP-17)
  # ===========================================================================

  /dms:
    get:
      tags: [DirectMessages]
      summary: List your conversations
      description: See everyone you've messaged privately.
      operationId: listConversations
      security:
        - nip07: []
      responses:
        '200':
          description: Your private conversations
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Conversation'

  /dms/{pubkey}/messages:
    get:
      tags: [DirectMessages]
      summary: Get messages with someone
      description: |
        Get your private conversation with a specific person. Supports real-time streaming.

        **Streaming (recommended):**
        \`\`\`javascript
        const es = new EventSource('/mirage/v1/dms/{pubkey}');
        es.onmessage = (event) => console.log(JSON.parse(event.data));
        \`\`\`
      operationId: getDirectMessages
      security:
        - nip07: []
      parameters:
        - name: pubkey
          in: path
          required: true
          description: The other person's ID
          schema:
            type: string
        - name: since
          in: query
          description: Only return messages newer than this time
          schema:
            type: integer
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
      responses:
        '200':
          description: List of messages
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DirectMessage'
            text/event-stream:
              schema:
                $ref: '#/components/schemas/EventStream'

    post:
      tags: [DirectMessages]
      summary: Send a private message
      description: Send an encrypted message to someone. Only they can read it.
      operationId: sendDirectMessage
      security:
        - nip07: []
      parameters:
        - name: pubkey
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
      responses:
        '201':
          description: Message sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DirectMessage'

  # ===========================================================================
  # Admin (Mirage Management)
  # ===========================================================================

  /admin/apps:
    get:
      tags: [Admin]
      summary: List apps in library (Admin Only)
      description: |
        Returns the list of installed apps.
        This is used by the Mirage launcher to show available apps.
      operationId: adminListApps
      security:
        - nip07: []
      responses:
        '200':
          description: List of apps
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AppDefinition'

    post:
      tags: [Admin]
      summary: Add app to library (Admin Only)
      description: |
        Installs a new app into the Mirage library.
        The app must have a valid NIP-19 \`naddr\`.
      operationId: adminAddApp
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [naddr]
              properties:
                naddr:
                  type: string
                  description: NIP-19 address code
      responses:
        '201':
          description: App installed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppDefinition'

  /admin/apps/{naddr}:
    delete:
      tags: [Admin]
      summary: Remove app from library (Admin Only)
      operationId: adminRemoveApp
      security:
        - nip07: []
      parameters:
        - name: naddr
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: App removed

  /admin/spaces:
    get:
      tags: [Admin]
      summary: List ALL spaces across all apps (Admin Only)
      operationId: adminListAllSpaces
      responses:
        '200':
          description: All spaces
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Space'
    post:
      tags: [Admin]
      summary: Create a space (Admin Only)
      operationId: adminCreateSpace
      security:
        - nip07: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
       responses:
        '201':
          description: Space created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Space'

  /admin/spaces/{spaceId}:
    put:
      tags: [Admin]
      summary: Update space details (Admin Only)
      operationId: adminUpdateSpace
      parameters:
        - name: spaceId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                icon:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: Space updated

    delete:
      tags: [Admin]
      summary: Force delete a space (Admin Only)
      description: |
        Deletes the space and all associated data.
        As admin, this bypasses some checks but is still destructive.
      operationId: adminDeleteSpace
      parameters:
        - name: spaceId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Space deleted

  /admin/spaces/{spaceId}/invitations:
    post:
      tags: [Admin]
      summary: Invite user to space (Admin Only)
      operationId: adminInviteMember
      parameters:
        - name: spaceId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [pubkey]
              properties:
                pubkey:
                  type: string
                name:
                  type: string
      responses:
        '201':
          description: Invitation sent

  /admin/state:
    delete:
      tags: [Admin]
      summary: Reset all Mirage data (Admin Only)
      description: |
        **DANGEROUS:** Wipes all Mirage-related data stored in Nostr relays,
        including app library, space keys, and personal storage.
        This action is irreversible.
      operationId: adminResetState
      security:
        - nip07: []
      responses:
        '200':
          description: System reset complete
          content:
            application/json:
              schema:
                type: object
                properties:
                  deletedCount:
                    type: integer
                  keys:
                    type: array
                    items:
                      type: string

components:
  securitySchemes:
    nip07:
      type: apiKey
      in: header
      name: X-User-Auth
      description: |
        Automatic browser authentication. The Mirage environment handles
        user identity and signing securely. Apps don't need to implement this.

  schemas:
    # =========================================================================
    # Nostr Core Schemas
    # =========================================================================

    NostrEvent:
      type: object
      required: [id, pubkey, created_at, kind, content, tags]
      properties:
        id:
          type: string
          description: 32-byte hex ID
        pubkey: 
          type: string
          description: Author's public key
        created_at:
          type: integer
          description: Unix timestamp
        kind:
          type: integer
          description: Event kind (0=Metadata, 1=Text, 3=Contacts, etc)
        tags:
          type: array
          items:
            type: array
            items:
              type: string
        content:
          type: string
          description: Payload string (JSON for kind 0/3, text for kind 1)
        sig:
          type: string
          description: Schnorr signature

    ProfileContent:
      type: object
      description: Parsed content of a Kind 0 Metadata event
      properties:
        pubkey:
          type: string
          description: User's public key
        name:
          type: string
          description: Short username
        displayName:
          type: string
          description: Full display name
        about:
          type: string
          description: Bio / Description
        picture:
          type: string
          format: uri
          description: Avatar URL
        banner:
          type: string
          format: uri
          description: Banner image URL
        website:
          type: string
          format: uri
        nip05:
          type: string
          description: NIP-05 Verification ID (user@domain.com)
        lud16:
          type: string
          description: Lightning Address (user@domain.com)

    # =========================================================================
    # App Storage (NIP-78)
    # =========================================================================

    StorageValue:
      type: object
      description: Stored app data (settings, preferences, etc.)
      required: [key, value, updatedAt]
      properties:
        key:
          type: string
          description: Name of the setting or data item
          example: "settings"
        value:
          description: The stored value (any JSON type)
          example: {"theme": "dark", "notifications": true}
        updatedAt:
          type: integer
          description: Unix timestamp of last update
          example: 1703203200

    # =========================================================================
    # Streaming
    # =========================================================================

    EventStream:
      type: string
      description: |
        Server-Sent Events (SSE) stream.
        Each message starts with \`data: \` and ends with \`\\n\\n\`.
      example: |
        data: {"id":"123", "content":"Hello"}

        data: {"id":"124", "content":"World"}

    Error:
      type: object
      required: [error]
      properties:
        error:
          type: string
          description: Human-readable error message
        code:
          type: string
          description: Machine-readable error code (optional)
          example: "AUTH_REQUIRED"

    # =========================================================================
    # Spaces
    # =========================================================================

    Space:
      type: object
      description: A shared encrypted workspace
      properties:
        id:
          type: string
          description: Space identifier
        name:
          type: string
          description: Space display name
        createdAt:
          type: integer
          description: Unix timestamp
        memberCount:
          type: integer
          description: Number of members
        owner:
          type: string
          description: Owner's public key
        members:
          type: array
          items:
            type: string
          description: List of member public keys

    SpaceContextStandalone:
      type: object
      description: Context returned when an app is running without a space
      properties:
        id:
          type: null
        standalone:
          type: boolean
          example: true

    SpaceMessage:
      type: object
      description: A message in a space (regular or system)
      required: [id, spaceId, author, content, type, createdAt]
      properties:
        id:
          type: string
          description: Unique event identifier
        spaceId:
          type: string
          description: ID of the space
        author:
          type: string
          description: Sender's public key
        content:
          type: string
          description: |
            For regular messages: the decrypted message text.
            For system messages: JSON-encoded SystemEvent.
        type:
          type: string
          enum: [message, system]
          description: |
            - \`message\`: Regular user message
            - \`system\`: System notification (member joined, left, etc.)
        createdAt:
          type: integer
          description: Unix timestamp

    StoreUpdate:
      type: object
      description: Real-time update for the Shared KV Store
      required: [key, value]
      properties:
        key:
          type: string
          description: The key that changed
        value:
          description: The new JSON value

    SystemEvent:
      type: object
      description: Payload for system messages (parsed from content when type=system)
      required: [action]
      properties:
        action:
          type: string
          enum: [member_joined, space_created, space_renamed]
          description: Type of system event
        pubkey:
          type: string
          description: Affected member's public key
        invitedBy:
          type: string
          description: Who invited the member
        name:
          type: string
          description: Space name
        createdBy:
          type: string
          description: Who created the space
        oldName:
          type: string
          description: Previous name
        newName:
          type: string
          description: New name

    SpaceMember:
      type: object
      properties:
        pubkey:
          type: string
        name:
          type: string
          description: Display name if known
        joinedAt:
          type: integer

    # =========================================================================
    # Direct Messages
    # =========================================================================

    Conversation:
      type: object
      properties:
        pubkey:
          type: string
          description: Other party's pubkey
        name:
          type: string
          description: Display name if known
        lastMessage:
          type: string
          description: Preview of last message
        lastMessageAt:
          type: integer
        unreadCount:
          type: integer

    DirectMessage:
      type: object
      properties:
        id:
          type: string
        from:
          type: string
        to:
          type: string
        content:
          type: string
          description: Decrypted message content
        createdAt:
          type: integer

    # =========================================================================
    # Contacts
    # =========================================================================

    Contact:
      type: object
      required: [pubkey]
      properties:
        pubkey:
          type: string
          description: Public key of the contact
        relay:
          type: string
          description: Recommended relay URL for this contact (optional)
        petname:
          type: string
          description: Local nickname for this contact (optional)

    AppDefinition:
      type: object
      description: Metadata for a Mirage application
      required: [naddr, name, createdAt]
      properties:
        naddr:
          type: string
          description: Bech32 address for the application (NIP-19)
          example: "naddr1..."
        name:
          type: string
          description: Custom name for the application
          example: "My Awesome App"
        createdAt:
          type: integer
          description: Unix timestamp of when the app was added/published
          example: 1703635200
`;const gP=(e=`A new app`)=>`
You are an expert app builder designed to help non-technical users create beautiful, functional software.

  Your goal is to build a single-file HTML/JS application based on the user's request.

  # CORE RULES (CRITICAL)
  1. **NO JARGON**: Do NOT use words like "API", "Endpoint", "JSON", "Protocol", "Nostr", "Encryption", "Keys", or "Serverless". Speak in plain, friendly English (e.g., "save your data" instead of "call the write endpoint").
  2. **NO "MIRAGE" BRANDING**: Do NOT name the application "Mirage" or "Mirage App". These apps belong to the USER, not the platform. Treat them as standalone tools (e.g., "Sarah's Notes" or "Project Zenith"). Invent a creative, personal name.
  3. **HIDE IMPLEMENTATION**: "Nostr" is an invisible implementation detail. Do not mention it. Focus purely on what the user wants correctly (e.g., "a shared list" or "a personal diary").
  4. **NO ENCRYPTION TALK**: Security is handled automatically. Do not burden the user with details about encryption or signing.
  5. **NON-TECHNICAL PERSONA**: Interact as if the user has NO programming experience. Be helpful, encouraging, and focus on features and design.

  # THE PLATFORM
  You are building for a browser-based operating system that provides a "Virtual Cloud" to your app.
  Instead of connecting to a complex backend, your app makes standard \`fetch()\` calls to \`/api/v1/...\`.
  The Platform intercepts these calls and handles all the syncing, saving, and security automatically.

  # KEY CONSTRAINTS
  1. **Single File:** Output ONLY a single HTML file containing all CSS (\<style\>) and JS (\<script\>).
  2. **No External Scripts:** Do not import external .js files unless absolutely necessary (e.g., specific libraries via CDN).
     - PREFERRED: Use vanilla JS or inline React/Vue via CDN for complex apps.
  3. **Inline CSS Required:** Use inline \<style\> tags. Make it BEAUTIFUL.
     - EXCEPTION: Font Awesome icons are allowed: \`\<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"\>\`
  4. **No Auth Logic:** Do NOT implement login screens. The Platform handles this. Assume the user is logged in.
  5. **Permissions:** You MUST include a meta tag declaring required permissions.
     - Example: \`\<meta name="mirage-permissions" content="storage_read, storage_write, public_read"\>\`

  # THE VIRTUAL API (OpenAPI Spec)
  ${hP}

  # SPACE CONTEXT
  Your app runs inside a "Space" - a collaborative container for data.

  1. **Get Context:** \`GET /mirage/v1/space\` returns the space info.
  2. **Shared Data:** Access shared data via \`/mirage/v1/space/store\`.
  3. **Private Data:** Access private data via \`/mirage/v1/space/me\`.

  # EXAMPLE CODE (Do not copy blindly, adapt to user request)
  \`\`\`html
  <!DOCTYPE html>
  <html>
  <head>
    <meta name="mirage-permissions" content="space_read, space_write">
    <style>
      body { background: #0a0a0c; color: #e4e4e7; padding: 2rem; font-family: system-ui; }
      /* ... styling ... */
    </style>
  </head>
  <body>
    <!-- App Content -->
    <script>
       // Simpler logic focusing on features
       async function save(text) {
          await fetch('/mirage/v1/space/store/' + Date.now(), {
             method: 'PUT',
             body: JSON.stringify({ text })
          });
       }
    <\/script>
  </body>
  </html>
  \`\`\`

  # USER REQUEST
  "${e}"

  # INSTRUCTIONS
  1. **CLARIFY FIRST**: If the request is vague, ask simple questions about *what they want to do* and *how it should look*.
     - "Do you want this to be a shared team list or just for you?" (Determines scope)
     - "What kind of vibe? Dark and modern, or bright and colorful?" (Determines design)

  2. **GENERATE**:
     - Output the code only after you are sure of the requirements.
     - Focus on a polished, beautiful UI.
     - **Remember:** No technical jargon. Just a great app.`,_P=()=>{let e=$e(),t=Xe();iP();let[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)({mode:`create`,initialCode:``});return(0,b.useEffect)(()=>{let n=t.state;n?.openModal&&(l({mode:n.mode||`create`,initialCode:n.code||``,initialName:n.appName||``,existingDTag:n.existingDTag,returnTo:n.returnTo,returnState:n.returnState}),r(!0),e(t.pathname,{replace:!0,state:{}}))},[t.state,t.pathname,e]),(0,Z.jsxs)(`div`,{className:`max-w-5xl`,children:[(0,Z.jsx)(`header`,{className:`mb-20`,children:(0,Z.jsxs)(ZN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`max-w-4xl pt-12 md:pt-20`,children:[(0,Z.jsxs)(`h1`,{className:`text-6xl md:text-8xl font-black mb-8 md:mb-12 tracking-tighter leading-[0.9]`,children:[`New `,(0,Z.jsx)(`br`,{}),(0,Z.jsx)(`span`,{className:`text-transparent bg-clip-text bg-brand-gradient pr-4`,children:`Application`})]}),(0,Z.jsx)(`p`,{className:`text-lg md:text-2xl text-gray-500 font-light mb-12 md:mb-20 max-w-2xl leading-relaxed`,children:`Generate full-stack decentralized applications. Powered by Nostr.`}),(0,Z.jsxs)(`button`,{onClick:()=>r(!0),className:`px-10 py-5 bg-white text-black rounded-[24px] font-black text-sm uppercase tracking-widest hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-3 mb-20 md:mb-32 shadow-2xl hover:shadow-vivid-cyan/20 group`,children:[(0,Z.jsx)(_r,{size:20,className:`group-hover:text-vivid-magenta transition-colors`}),`Deploy App`]})]})}),(0,Z.jsx)(ZN.div,{initial:{opacity:0,scale:.98,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.2,duration:.8,ease:`easeOut`},className:`relative`,children:(0,Z.jsxs)(`div`,{className:`relative bg-surface border border-white/5 rounded-[40px] p-12 overflow-hidden hover:border-white/10 transition-all duration-500 shadow-2xl`,children:[(0,Z.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-1 bg-brand-gradient opacity-50`}),(0,Z.jsx)(`div`,{className:`flex items-center gap-3 mb-8`,children:(0,Z.jsx)(`h2`,{className:`text-sm font-black text-gray-700 uppercase tracking-[0.3em]`,children:`System Prompt`})}),(0,Z.jsxs)(`div`,{className:`mb-10`,children:[(0,Z.jsx)(`label`,{className:`block text-xl font-medium text-white mb-6`,children:`Requirement Description`}),(0,Z.jsx)(`textarea`,{value:i,onChange:e=>a(e.target.value),placeholder:`e.g. A collaborative task board with drag-and-drop columns and real-time sync...`,className:`w-full bg-background border border-white/5 rounded-3xl p-6 text-xl text-white placeholder:text-gray-800 focus:border-vivid-cyan/30 focus:ring-4 focus:ring-vivid-cyan/5 outline-none transition-all resize-none h-40 font-light`})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,Z.jsxs)(`button`,{onClick:()=>{let e=gP(i||`A simple app`);navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)},className:qp(`flex items-center gap-3 px-10 py-5 rounded-[24px] font-black transition-all transform active:scale-95 shadow-2xl`,o?`bg-vivid-yellow text-black`:`bg-white text-black hover:bg-vivid-cyan hover:text-black`),children:[o?(0,Z.jsx)(Wn,{size:22}):(0,Z.jsx)(nr,{size:22}),o?`COPIED`:`COPY PROMPT`]}),(0,Z.jsx)(`p`,{className:`text-gray-700 max-w-xs leading-relaxed italic text-sm font-light`,children:`Use this prompt with an LLM to generate the application source code.`})]})]})}),(0,Z.jsx)(mP,{isOpen:n,onClose:()=>{let{returnTo:t,returnState:n}=c;r(!1),l({mode:`create`,initialCode:``}),t===`/preview`&&n&&e(`/preview`,{state:n})},mode:c.mode,initialCode:c.initialCode,initialName:c.initialName,existingDTag:c.existingDTag})]})},vP=({isOpen:e,onClose:t,spaceId:n,spaceName:r})=>{let{host:i}=iP(),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(!1),[h,g]=(0,b.useState)(null),[_,v]=(0,b.useState)(!1);(0,b.useEffect)(()=>{let e=setTimeout(async()=>{if(c(null),u(null),g(null),a.trim())try{let e=a.trim();if(e.startsWith(`npub`))try{let t=Ad.decode(e);if(t.type===`npub`)e=t.data;else throw Error(`Invalid npub`)}catch{a.length>10&&g(`Invalid NPUB format`);return}else if(!e.match(/^[0-9a-fA-F]{64}$/)){a.length>10&&g(`Invalid format. Use NPUB or Hex.`);return}c(e),y(e)}catch{}},500);return()=>clearTimeout(e)},[a]);let y=async e=>{if(i){f(!0);try{let t=await i.request(`GET`,`/mirage/v1/users/${e}`);t&&t.profile&&u(t.profile)}catch(e){console.warn(`[InviteDebug] Failed to fetch profile:`,e)}finally{f(!1)}}};return(0,Z.jsxs)(QN,{isOpen:e,onClose:t,className:`max-w-md`,children:[(0,Z.jsxs)(`div`,{className:`p-8 pb-4 flex justify-between items-start`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`h2`,{className:`text-2xl font-black mb-1 tracking-tight`,children:[`Invite to `,(0,Z.jsx)(`span`,{className:`text-vivid-cyan`,children:r})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-xs font-light italic`,children:`Securely share access via NIP-17 Gift Wrap.`})]}),(0,Z.jsx)(`button`,{onClick:t,type:`button`,className:`w-8 h-8 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-xl transition-all text-gray-500 hover:text-white`,children:(0,Z.jsx)(Or,{size:18})})]}),(0,Z.jsxs)(`form`,{onSubmit:async e=>{if(e?.preventDefault(),!(!s||!i)){m(!0),g(null);try{await i.inviteToSpace(n,s,r),v(!0),setTimeout(()=>{t(),v(!1),o(``)},2e3)}catch(e){console.error(`[InviteDebug] Failed to send invite:`,e),g(e.message||`Failed to send invite`)}finally{m(!1)}}},className:`p-8 pt-4 space-y-6`,children:[(0,Z.jsxs)(`div`,{className:`relative`,children:[(0,Z.jsx)(`label`,{className:`block text-[10px] font-black uppercase tracking-[0.3em] text-gray-600 mb-2`,children:`Recipient (NPUB)`}),(0,Z.jsxs)(`div`,{className:`relative`,children:[(0,Z.jsx)(`input`,{type:`text`,value:a,onChange:e=>o(e.target.value),placeholder:`npub1...`,className:qp(`w-full bg-black/40 border rounded-2xl px-5 py-3 pr-12 text-white outline-none transition-all font-mono text-sm`,h?`border-red-500/50 focus:border-red-500`:`border-white/5 focus:border-vivid-cyan/30`)}),(0,Z.jsx)(`button`,{type:`button`,onClick:async()=>{try{o(await navigator.clipboard.readText())}catch{console.error(`[InviteDebug] Clipboard access denied`)}},className:`absolute right-3 top-1/2 -translate-y-1/2 p-1.5 hover:bg-white/10 rounded-lg text-gray-500 hover:text-white transition-colors`,title:`Paste from Clipboard`,children:(0,Z.jsx)($n,{size:16})})]}),h&&(0,Z.jsxs)(`div`,{className:`flex items-center gap-2 mt-2 text-red-400 text-xs`,children:[(0,Z.jsx)(Jn,{size:12}),(0,Z.jsx)(`span`,{children:h})]})]}),(s||d)&&(0,Z.jsxs)(`div`,{className:`bg-white/5 rounded-2xl p-4 flex items-center gap-4 animate-in fade-in slide-in-from-top-2 duration-300`,children:[d?(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-white/10 animate-pulse`}):(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-gradient-to-br from-vivid-cyan to-blue-600 flex items-center justify-center overflow-hidden shrink-0`,children:l?.picture?(0,Z.jsx)(`img`,{src:l.picture,alt:l.name,className:`w-full h-full object-cover`}):(0,Z.jsx)(Er,{size:20,className:`text-white`})}),(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[d?(0,Z.jsx)(`div`,{className:`h-4 w-24 bg-white/10 rounded animate-pulse mb-1`}):(0,Z.jsx)(`div`,{className:`font-bold text-white truncate`,children:l?.name||`Unknown Profile`}),(0,Z.jsx)(`div`,{className:`text-[10px] text-gray-500 font-mono truncate`,children:s?`${s.slice(0,10)}...${s.slice(-8)}`:`...`})]})]}),(0,Z.jsx)(`button`,{type:`submit`,disabled:!s||p||!!h,className:qp(`w-full py-4 rounded-2xl font-black transition-all relative overflow-hidden text-sm uppercase tracking-widest flex items-center justify-center gap-3`,_?`bg-green-500 text-white`:!s||p||h?`bg-white/5 text-gray-600 cursor-not-allowed`:`bg-vivid-cyan text-[#050505] shadow-[0_0_30px_rgba(0,242,255,0.2)] hover:scale-[1.02] active:scale-[0.98]`),children:p?(0,Z.jsx)(`div`,{className:`w-5 h-5 border-2 border-[#050505]/30 border-t-[#050505] rounded-full animate-spin`}):_?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Yn,{size:18}),`Sent!`]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(yr,{size:18}),`Send Invite`]})})]})]})},yP=()=>{let{naddr:e}=rt(),[t]=Dn(),n=$e(),{fetchApp:r,host:i,pubkey:a,apps:o}=iP(),{setAppActions:s}=Qp(),c=(0,b.useRef)(null),[l,u]=(0,b.useState)(`loading`),[d,f]=(0,b.useState)(null),p=t.get(`spaceId`),m=t.get(`spaceName`),[h,g]=(0,b.useState)(!1),[_,v]=(0,b.useState)(!1),[y,x]=(0,b.useState)({mode:`view`,initialName:``,initialCode:``}),S=(0,b.useRef)(null),C=(0,b.useRef)(!1),w=(0,b.useMemo)(()=>{if(!e||!a)return!1;try{return Ad.decode(e).data.pubkey===a}catch{return!1}},[e,a]),[T,E]=(0,b.useState)(null),D=(0,b.useMemo)(()=>o.find(t=>t.naddr===e)||null,[o,e]),O=(0,b.useMemo)(()=>D||(e?{naddr:e,name:T||`External App`,createdAt:0}:null),[D,e,T]),k=O?.name||`Mirage App`;(0,b.useEffect)(()=>{if(!e||!i||!c.current||S.current===e)return;let t=!0;return C.current=!0,(async()=>{u(`loading`);try{let n=await r(e);if(!t)return;if(!n)throw Error(`App not found on relays`);if(!D){let e=n.match(/<title>(.*?)<\/title>/i);e&&e[1]&&E(e[1].trim())}if(await i.mount(n,c.current,{appId:e,spaceId:p||void 0,spaceName:m||void 0}),!t)return;S.current=e,u(`running`)}catch(e){if(!t)return;console.error(`Failed to run app:`,e),f(e instanceof Error?e.message:`Unknown error`),u(`error`)}finally{C.current=!1}})(),()=>{t=!1,i?.unmount()}},[e,i]);let A=(0,b.useCallback)(e=>{e?.stopPropagation(),p?g(!0):alert(`No active space to invite to.`)},[p]),j=(0,b.useCallback)(async t=>{if(t?.stopPropagation(),e)try{let t=await r(e);if(!t)throw Error(`Could not fetch app source`);let{data:n}=Ad.decode(e);x({mode:w?`edit`:`view`,initialName:k,initialCode:t,existingDTag:n.identifier,authorPubkey:n.pubkey}),v(!0)}catch(e){console.error(`Failed to open source:`,e),alert(`Failed to load application source from relays.`)}},[e,r,w,k]),M=(0,b.useCallback)(()=>{n(`/`)},[n]);return(0,b.useEffect)(()=>(O&&s({app:O,space:p?{id:p,name:m||`Unnamed Space`}:null,isAuthor:w,onViewEditSource:j,onInvite:A,onExit:M}),()=>{s({app:null,space:null,isAuthor:!1,onViewEditSource:null,onInvite:null,onExit:null})}),[D,p,m,w,j,A,M,s]),l===`error`?(0,Z.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-screen bg-background text-center p-8`,children:[(0,Z.jsx)(Qn,{size:64,className:`text-red-500 mb-6`}),(0,Z.jsx)(`h1`,{className:`text-3xl font-black mb-3 tracking-tight`,children:`App failure.`}),(0,Z.jsx)(`p`,{className:`text-gray-500 font-light italic mb-10 max-w-sm`,children:d}),(0,Z.jsx)(yn,{to:`/`,className:`px-8 py-3 rounded-2xl bg-white/5 hover:bg-white/10 text-white font-bold transition-all transition-all`,children:`Go Home`})]}):(0,Z.jsxs)(`div`,{className:`h-full w-full bg-background overflow-hidden flex flex-col relative`,children:[(0,Z.jsx)(`div`,{ref:c,className:`flex-1 w-full h-full relative z-0`}),l===`loading`&&(0,Z.jsxs)(`div`,{className:`absolute inset-0 bg-[#050505] z-10 flex flex-col items-center justify-center p-12`,children:[(0,Z.jsxs)(`div`,{className:`w-full max-w-3xl animate-pulse`,children:[(0,Z.jsx)(`div`,{className:`h-20 bg-white/5 rounded-3xl mb-12 w-1/4`}),(0,Z.jsxs)(`div`,{className:`space-y-6`,children:[(0,Z.jsx)(`div`,{className:`h-48 bg-white/5 rounded-[40px]`}),(0,Z.jsx)(`div`,{className:`h-4 bg-white/5 rounded w-full`}),(0,Z.jsx)(`div`,{className:`h-4 bg-white/5 rounded w-5/6 opacity-50`})]}),(0,Z.jsxs)(`div`,{className:`mt-16 grid grid-cols-3 gap-6`,children:[(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`}),(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`}),(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`})]})]}),(0,Z.jsxs)(`div`,{className:`mt-20 flex flex-col items-center`,children:[(0,Z.jsx)(`div`,{className:`w-12 h-12 border border-vivid-cyan/30 border-t-vivid-cyan rounded-full animate-spin mb-6`}),(0,Z.jsx)(`p`,{className:`text-gray-600 text-[10px] tracking-[0.4em] uppercase font-black`,children:`Connecting Cluster...`})]})]}),(0,Z.jsx)(mP,{isOpen:_,onClose:()=>v(!1),returnTo:`/run/${e}`,...y}),p&&(0,Z.jsx)(vP,{isOpen:h,onClose:()=>g(!1),spaceId:p,spaceName:m||`Unnamed Space`})]})},bP=()=>{let e=Xe(),t=$e(),{host:n,publishApp:r}=iP(),{setAppActions:i}=Qp(),a=(0,b.useRef)(null),[o,s]=(0,b.useState)(`loading`),[c,l]=(0,b.useState)(null),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(!1),m=e.state;(0,b.useEffect)(()=>{if(!m?.code){t(`/create`);return}if(!n||!a.current)return;let e=!0;return(async()=>{s(`loading`);try{let{code:t}=m;if(await n.mount(t,a.current,{appId:`__preview__`}),!e)return;s(`running`)}catch(t){if(!e)return;console.error(`Failed to run preview app:`,t),l(t instanceof Error?t.message:`Unknown error`),s(`error`)}})(),()=>{e=!1}},[m,n,t]);let h=async()=>{if(!m||!n)return;let{code:e,existingDTag:i}=m,a=m.appName||`Unnamed App`,o=!i;d(!0);try{let s=await r(e,a,i);if(o)try{let{getAppCanonicalId:e}=await w(async()=>{let{getAppCanonicalId:e}=await import(`./utils-CFb1ZsyZ.js`);return{getAppCanonicalId:e}},[]),r=e(s);t(`/run/${s}?spaceId=${(await n.createSpace(`Default Space`,r)).id}&spaceName=Default%20Space`)}catch(e){console.error(`Failed to create default space:`,e),t(`/run/${s}`)}else t(`/run/${s}`)}catch(e){console.error(`Publishing failed:`,e),alert(`Publishing failed. Do you have a Nostr extension (NIP-07) installed?`)}finally{d(!1)}},g=m?.mode===`edit`;return(0,b.useEffect)(()=>m?(i({app:{name:`Preview Mode`,naddr:`__preview__`},isAuthor:!0,onViewEditSource:()=>{p(!0)},onInvite:null,onExit:()=>{t(m.returnTo||`/create`)}}),()=>{i({app:null,isAuthor:!1,onViewEditSource:null,onInvite:null,onExit:null})}):void 0,[m?.code,t,i]),o===`error`?(0,Z.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-screen bg-background text-center p-8`,children:[(0,Z.jsx)(Qn,{size:64,className:`text-red-500 mb-6`}),(0,Z.jsx)(`h1`,{className:`text-3xl font-black mb-3 tracking-tight`,children:`Preview failure.`}),(0,Z.jsx)(`p`,{className:`text-gray-500 font-light italic mb-10 max-w-sm`,children:c}),(0,Z.jsx)(`button`,{onClick:()=>t(`/create`),className:`px-8 py-3 rounded-2xl bg-white/5 hover:bg-white/10 text-white font-bold transition-all`,children:`Go Back`})]}):(0,Z.jsxs)(`div`,{className:`h-full w-full bg-background overflow-hidden flex flex-col relative`,children:[(0,Z.jsxs)(`div`,{className:`hidden md:flex flex-none h-20 items-center justify-between px-8 bg-background border-b border-white/5 z-40 relative`,children:[(0,Z.jsx)(ZN.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`px-4 py-2 bg-vivid-cyan/10 border border-vivid-cyan/20 rounded-xl backdrop-blur-xl`,children:(0,Z.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Z.jsx)(`div`,{className:`w-2 h-2 bg-vivid-cyan rounded-full animate-pulse`}),(0,Z.jsx)(`span`,{className:`text-vivid-cyan text-xs font-black uppercase tracking-wider`,children:`Preview Mode`})]})}),(0,Z.jsxs)(`div`,{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-3`,children:[(0,Z.jsxs)(ZN.button,{onClick:()=>{m&&p(!0)},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`px-6 py-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-2xl font-bold text-sm uppercase tracking-wider transition-all flex items-center gap-2`,children:[(0,Z.jsx)(hr,{size:16}),`Edit Source`]}),(0,Z.jsxs)(ZN.button,{onClick:h,disabled:u,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:qp(`px-6 py-3 rounded-2xl font-bold text-sm uppercase tracking-wider transition-all flex items-center gap-2`,u?`bg-white/5 text-gray-500 cursor-not-allowed`:`bg-vivid-cyan text-black hover:bg-white shadow-lg hover:shadow-xl hover:scale-[1.02]`),children:[(0,Z.jsx)(vr,{size:16}),u?`Publishing...`:g?`Update App`:`Publish App`]}),(0,Z.jsxs)(ZN.button,{onClick:()=>{t(m?.returnTo||`/create`)},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:`px-6 py-3 bg-transparent border border-white/5 rounded-2xl font-bold text-sm uppercase tracking-wider hover:bg-white/5 transition-all flex items-center gap-2`,children:[(0,Z.jsx)(Qn,{size:16}),`Cancel`]})]})]}),(0,Z.jsx)(`div`,{ref:a,className:`flex-1 w-full relative z-0`}),o===`loading`&&(0,Z.jsxs)(`div`,{className:`absolute inset-0 bg-[#050505] z-50 flex flex-col items-center justify-center p-12`,children:[(0,Z.jsxs)(`div`,{className:`w-full max-w-3xl animate-pulse`,children:[(0,Z.jsx)(`div`,{className:`h-20 bg-white/5 rounded-3xl mb-12 w-1/4`}),(0,Z.jsxs)(`div`,{className:`space-y-6`,children:[(0,Z.jsx)(`div`,{className:`h-48 bg-white/5 rounded-[40px]`}),(0,Z.jsx)(`div`,{className:`h-4 bg-white/5 rounded w-full`}),(0,Z.jsx)(`div`,{className:`h-4 bg-white/5 rounded w-5/6 opacity-50`})]}),(0,Z.jsxs)(`div`,{className:`mt-16 grid grid-cols-3 gap-6`,children:[(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`}),(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`}),(0,Z.jsx)(`div`,{className:`h-32 bg-white/5 rounded-3xl`})]})]}),(0,Z.jsxs)(`div`,{className:`mt-20 flex flex-col items-center`,children:[(0,Z.jsx)(`div`,{className:`w-12 h-12 border border-vivid-cyan/30 border-t-vivid-cyan rounded-full animate-spin mb-6`}),(0,Z.jsx)(`p`,{className:`text-gray-600 text-[10px] tracking-[0.4em] uppercase font-black`,children:`Loading Preview...`})]})]}),(0,Z.jsx)(`div`,{className:`md:hidden absolute top-20 left-1/2 -translate-x-1/2 z-20`,children:(0,Z.jsx)(`div`,{className:`px-3 py-1.5 bg-vivid-cyan/10 border border-vivid-cyan/20 rounded-lg backdrop-blur-xl`,children:(0,Z.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,Z.jsx)(`div`,{className:`w-1.5 h-1.5 bg-vivid-cyan rounded-full animate-pulse`}),(0,Z.jsx)(`span`,{className:`text-vivid-cyan text-[10px] font-black uppercase tracking-wider`,children:`Preview`})]})})}),(0,Z.jsx)(mP,{isOpen:f,onClose:()=>p(!1),mode:m?.mode||`create`,initialCode:m?.code||``,initialName:m?.appName||``,existingDTag:m?.existingDTag})]})},xP=({isOpen:e,onClose:t,app:n,onCreateNew:r,spaces:i,createSpace:a})=>{let o=$e(),[s,c]=(0,b.useState)(!1);if(!n)return null;let l=Jp(n.naddr),u=i.filter(e=>e.appOrigin===l),d=u.find(e=>e.name===`Default`||e.name===`Default Space`),f=(e,r)=>{o(`/run/${n.naddr}?spaceId=${e}&spaceName=${encodeURIComponent(r)}`),t()};return(0,Z.jsxs)(QN,{isOpen:e,onClose:t,className:`max-w-lg`,children:[(0,Z.jsxs)(`div`,{className:`p-10 pb-4 flex justify-between items-start`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`h2`,{className:`text-3xl font-black mb-2 tracking-tight`,children:[`Launch `,(0,Z.jsx)(`span`,{className:`serif-italic px-1`,children:n.name})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-sm font-light italic`,children:`Choose a space to store your data.`})]}),(0,Z.jsx)(`button`,{onClick:t,className:`w-10 h-10 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-2xl transition-all text-gray-500 hover:text-white`,children:(0,Z.jsx)(Or,{size:20})})]}),(0,Z.jsxs)(`div`,{className:`p-10 pt-6 space-y-6`,children:[(0,Z.jsx)(`div`,{className:`space-y-2 max-h-[300px] overflow-y-auto pr-2 scrollbar-none`,children:u.length>0?u.map(e=>(0,Z.jsxs)(`button`,{onClick:()=>f(e.id,e.name),className:`w-full flex items-center gap-4 p-4 rounded-2xl bg-white/5 border border-transparent hover:border-vivid-cyan/30 hover:bg-vivid-cyan/5 transition-all text-left group`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-xl bg-black/40 flex items-center justify-center text-gray-600 group-hover:text-vivid-cyan transition-colors`,children:(0,Z.jsx)(rr,{size:18})}),(0,Z.jsxs)(`div`,{className:`flex-1 truncate`,children:[(0,Z.jsx)(`div`,{className:`font-bold text-sm truncate`,children:e.name}),(0,Z.jsxs)(`div`,{className:`text-[10px] opacity-50 font-mono`,children:[`#`,e.id.slice(0,8)]})]}),(0,Z.jsx)(gr,{size:14,className:`text-gray-700 group-hover:text-vivid-cyan opacity-0 group-hover:opacity-100 transition-all`})]},e.id)):(0,Z.jsxs)(`div`,{className:`p-10 border border-dashed border-white/5 rounded-2xl text-center flex flex-col items-center gap-3`,children:[(0,Z.jsx)(sr,{size:24,className:`text-gray-700`}),(0,Z.jsx)(`p`,{className:`text-xs text-gray-600 italic`,children:`No existing spaces for this app.`})]})}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsxs)(`button`,{onClick:r,className:`w-full py-4 rounded-2xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all flex items-center justify-center gap-3 text-xs font-black uppercase tracking-widest`,children:[(0,Z.jsx)(_r,{size:16}),`Create New Space`]}),(0,Z.jsx)(`button`,{onClick:async()=>{if(d){f(d.id,d.name);return}c(!0);try{let e=await a(`Default Space`,l);e&&(o(`/run/${n.naddr}?spaceId=${e.id}&spaceName=Default`),t())}catch(e){console.error(`Failed to create default space:`,e)}finally{c(!1)}},disabled:s,className:`w-full py-4 rounded-2xl bg-vivid-cyan/10 text-vivid-cyan border border-vivid-cyan/20 hover:bg-vivid-cyan/20 transition-all text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50`,children:s?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ur,{size:14,className:`animate-spin`}),`Creating...`]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(gr,{size:14}),d?`Use Default Space`:`Quick Start (Create Default)`]})})]})]})]})},SP=({isOpen:e,onClose:t,onSuccess:n,initialAppId:r,createSpace:i})=>{let{apps:a}=iP(),[o,s]=(0,b.useState)(``),[c,l]=(0,b.useState)(r||null),[u,d]=(0,b.useState)(!1),f=$e();(0,b.useEffect)(()=>{e&&r&&l(r)},[e,r]);let p=a.find(e=>e.naddr===c),m=async()=>{if(!(!o.trim()||!c)){d(!0);try{let e=await i(o,Jp(c));e&&(n?.(e.id),f(`/run/${c}?spaceId=${e.id}&spaceName=${encodeURIComponent(o)}`),t())}catch(e){console.error(e)}finally{d(!1)}}};return(0,Z.jsxs)(QN,{isOpen:e,onClose:t,className:`max-w-xl`,children:[(0,Z.jsxs)(`div`,{className:`p-10 pb-4 flex justify-between items-start`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`h2`,{className:`text-3xl font-black mb-2 tracking-tight`,children:[`New `,(0,Z.jsx)(`span`,{className:`serif-italic px-1`,children:`Space`})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-sm font-light italic`,children:`Create a dedicated data instance for an application.`})]}),(0,Z.jsx)(`button`,{onClick:t,className:`w-10 h-10 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-2xl transition-all text-gray-500 hover:text-white`,children:(0,Z.jsx)(Or,{size:20})})]}),(0,Z.jsxs)(`form`,{className:`p-10 pt-6 space-y-8`,onSubmit:e=>{e.preventDefault(),m()},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`block text-[10px] font-black uppercase tracking-[0.3em] text-gray-600 mb-3`,children:`Space Name`}),(0,Z.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`e.g. My Personal Journal`,className:`w-full bg-black/40 border border-white/5 rounded-2xl px-6 py-4 text-white focus:border-vivid-yellow/30 focus:ring-4 focus:ring-vivid-yellow/5 outline-none transition-all font-medium`})]}),!r&&(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`block text-[10px] font-black uppercase tracking-[0.3em] text-gray-600 mb-3`,children:`Select Application`}),(0,Z.jsx)(`div`,{className:`grid grid-cols-1 gap-2 max-h-[250px] overflow-y-auto pr-2 scrollbar-none`,children:a.length>0?a.map(e=>(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>l(e.naddr),className:qp(`flex items-center gap-4 p-4 rounded-2xl border transition-all text-left group`,c===e.naddr?`bg-vivid-magenta/10 border-vivid-magenta/30 text-white`:`bg-white/5 border-transparent text-gray-500 hover:bg-white/10 hover:text-gray-300`),children:[(0,Z.jsx)(`div`,{className:qp(`w-10 h-10 rounded-xl flex items-center justify-center text-lg font-bold shrink-0 transition-all`,c===e.naddr?`bg-vivid-magenta/20 text-vivid-magenta`:`bg-black/40 text-gray-600 group-hover:text-gray-400`),children:e.name.charAt(0)}),(0,Z.jsxs)(`div`,{className:`flex-1 truncate`,children:[(0,Z.jsx)(`div`,{className:`font-bold text-sm truncate`,children:e.name}),(0,Z.jsxs)(`div`,{className:`text-[10px] opacity-50 truncate font-mono`,children:[`#`,e.naddr.slice(0,12),`...`]})]}),c===e.naddr&&(0,Z.jsx)(`div`,{className:`w-6 h-6 rounded-full bg-vivid-magenta flex items-center justify-center text-white shadow-lg`,children:(0,Z.jsx)(Wn,{size:14,strokeWidth:3})})]},e.naddr)):(0,Z.jsx)(`div`,{className:`p-10 border border-dashed border-white/5 rounded-2xl text-center text-xs text-gray-600 italic`,children:`No applications found in library.`})})]}),r&&p&&(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 p-4 rounded-2xl bg-vivid-magenta/10 border border-vivid-magenta/20`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-xl bg-vivid-magenta/20 flex items-center justify-center text-lg font-bold text-vivid-magenta`,children:p.name.charAt(0)}),(0,Z.jsxs)(`div`,{className:`flex-1 truncate`,children:[(0,Z.jsx)(`div`,{className:`text-[10px] font-black uppercase tracking-widest text-gray-500 mb-0.5`,children:`For Application`}),(0,Z.jsx)(`div`,{className:`font-bold text-sm truncate text-white`,children:p.name})]})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 mt-4`,children:[(0,Z.jsx)(`button`,{type:`submit`,disabled:u||!o.trim()||!c,className:qp(`flex-1 py-4 rounded-2xl font-black transition-all relative overflow-hidden text-sm uppercase tracking-widest flex items-center justify-center gap-3`,u||!o.trim()||!c?`bg-white/5 text-gray-600 cursor-not-allowed`:`bg-vivid-cyan text-[#050505] shadow-[0_0_30px_rgba(0,242,255,0.2)] hover:scale-[1.02] active:scale-[0.98]`),children:u?(0,Z.jsx)(`div`,{className:`w-5 h-5 border-2 border-[#050505]/30 border-t-[#050505] rounded-full animate-spin`}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(rr,{size:18}),`Create & Launch`]})}),(0,Z.jsx)(`button`,{type:`button`,onClick:t,className:`px-8 py-4 bg-white/5 border border-white/5 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-white/10 transition-all text-gray-400`,children:`Cancel`})]})]})]})};function CP(){let{host:e,isReady:t,pubkey:n}=iP(),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(!1),s=(0,b.useCallback)(async()=>{if(!(!e||!t||!n)){o(!0);try{let t=await e.request(`GET`,`/mirage/v1/admin/spaces`);Array.isArray(t)&&i(t)}catch(e){console.error(`[useSpaces] Refresh failed:`,e)}finally{o(!1)}}},[e,t,n]),c=(0,b.useCallback)(async(t,n)=>{if(!e)return null;try{let r=await e.createSpace(t,n);return await s(),r}catch(e){return console.error(`[useSpaces] Create failed:`,e),null}},[e,s]),l=(0,b.useCallback)(async(t,n)=>{if(!e)return!1;try{return e.renameSpace?await e.renameSpace(t,n):await e.request(`PUT`,`/mirage/v1/admin/spaces/${t}`,{name:n}),i(e=>e.map(e=>e.id===t?{...e,name:n}:e)),!0}catch(e){return console.error(`[useSpaces] Rename failed:`,e),!1}},[e]),u=(0,b.useCallback)(async t=>{if(!e)return!1;try{return await e.deleteSpace(t),i(e=>e.filter(e=>e.id!==t)),!0}catch(e){return console.error(`[useSpaces] Delete failed:`,e),!1}},[e]);return(0,b.useEffect)(()=>{t&&s()},[t,s]),{spaces:r,loading:a,refreshSpaces:s,createSpace:c,deleteSpace:u,renameSpace:l}}var wP=({naddr:e,className:t})=>{let{host:n,apps:r}=iP(),[i,a]=(0,b.useState)(null);return(0,b.useEffect)(()=>{let t=!0;return(async()=>{let i=r.find(t=>Jp(t.naddr)===Jp(e));if(i){t&&a(i.name);return}try{if(n){console.log(`[AppName] Fetching for ${e}...`);let r=e;if(e.includes(`:`))try{let t=e.split(`:`);if(t.length>=3){let n=parseInt(t[0]),i=t[1],a=t.slice(2).join(`:`);r=Ad.naddrEncode({kind:n,pubkey:i,identifier:a}),console.log(`[AppName] Converted ${e} to ${r}`)}}catch(e){console.warn(`[AppName] Failed to convert coordinate to naddr`,e)}let i=await n.fetchApp(r);if(i&&t){let e=i.match(/<title>(.*?)<\/title>/i);e&&e[1]?a(e[1].trim()):console.warn(`[AppName] No title tag found in code.`)}}}catch(e){console.error(`[AppName] Fetch error:`,e)}})(),()=>{t=!1}},[e,n,r]),i?(0,Z.jsx)(`span`,{className:t,children:i}):(0,Z.jsxs)(`span`,{className:t,children:[`App: `,e.slice(0,12),`...`,e.slice(-4)]})};const TP=()=>{let e=$e(),{apps:t,isReady:n,deleteApp:r,fetchApp:i,pubkey:a}=iP(),{spaces:o,deleteSpace:s,renameSpace:c,createSpace:l}=CP(),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(!1),[m,h]=(0,b.useState)(!1),[g,_]=(0,b.useState)(null),[v,y]=(0,b.useState)({mode:`view`,initialName:``,initialCode:``}),x=(0,b.useMemo)(()=>{let e=new Map;return o.forEach(t=>{if(t.appOrigin){let n=Jp(t.appOrigin);e.has(n)||e.set(n,[]),e.get(n).push(t)}}),e},[o]),S=(0,b.useMemo)(()=>{let e=new Set(t.map(e=>Jp(e.naddr)));return o.filter(t=>t.appOrigin?!e.has(Jp(t.appOrigin)):!1)},[o,t]),C=(0,b.useMemo)(()=>o.filter(e=>!e.appOrigin),[o]);if(!n)return(0,Z.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-[50vh] space-y-8`,children:[(0,Z.jsx)(`div`,{className:`w-12 h-12 border-2 border-vivid-cyan/30 border-t-vivid-cyan rounded-full animate-spin`}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-[10px] tracking-[0.3em] uppercase font-black animate-pulse`,children:`Synchronizing...`})]});let w=async(e,t)=>{try{let n=await i(e.naddr);if(!n)throw Error(`Could not fetch app source`);let{data:r}=Ad.decode(e.naddr);y({mode:t,initialName:e.name,initialCode:n,existingDTag:r.identifier,authorPubkey:r.pubkey}),d(!0)}catch(e){console.error(`Failed to open source:`,e),alert(`Failed to load application source from relays.`)}},T=t=>{let n=t.appOrigin;console.log(`Launching external app:`,n);let r=n;if(n.includes(`:`))try{let e=n.split(`:`);if(e.length>=3){let t=parseInt(e[0]),n=e[1],i=e.slice(2).join(`:`);r=Ad.naddrEncode({kind:t,pubkey:n,identifier:i})}}catch(e){console.error(`Failed to encode naddr`,e)}e(`/run/${r}?spaceId=${t.id}&spaceName=${encodeURIComponent(t.name)}`)},E=async e=>{let t=e.appOrigin,n=t;if(t.includes(`:`))try{let e=t.split(`:`);if(e.length>=3){let t=parseInt(e[0]),r=e[1],i=e.slice(2).join(`:`);n=Ad.naddrEncode({kind:t,pubkey:r,identifier:i})}}catch(e){console.error(`Failed to encode naddr`,e)}try{let t=await i(n);if(!t)throw Error(`Could not fetch app source`);let{data:r}=Ad.decode(n);y({mode:`view`,initialName:e.name||`External App`,initialCode:t,existingDTag:r.identifier,authorPubkey:r.pubkey}),d(!0)}catch(e){console.error(`Failed to fetch external app source:`,e),alert(`Failed to load application source.`)}},D=e=>{_(e),p(!0)};return(0,Z.jsxs)(`div`,{className:`max-w-5xl`,children:[(0,Z.jsxs)(`header`,{className:`mb-10 md:mb-16`,children:[(0,Z.jsxs)(`h1`,{className:`text-4xl md:text-6xl font-black mb-4 md:mb-6 tracking-tighter`,children:[`Your `,(0,Z.jsx)(`span`,{className:`text-transparent bg-clip-text bg-brand-gradient pr-2`,children:`Library`})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-base md:text-xl font-light max-w-2xl leading-relaxed`,children:`Your personal collection of decentralized apps and their private data spaces.`})]}),(0,Z.jsxs)(`section`,{className:`mb-12 md:mb-20`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 mb-8 md:mb-10`,children:[(0,Z.jsx)(`div`,{className:`w-8 h-8 md:w-10 md:h-10 rounded-xl md:rounded-2xl bg-white/5 flex items-center justify-center text-vivid-magenta`,children:(0,Z.jsx)(lr,{size:18})}),(0,Z.jsx)(`h2`,{className:`text-[10px] md:text-sm font-black text-gray-700 uppercase tracking-[0.2em] md:tracking-[0.3em]`,children:`Active Applications`}),(0,Z.jsx)(`div`,{className:`h-px flex-1 bg-white/5`})]}),(0,Z.jsx)(`div`,{className:`grid grid-cols-1 gap-6 md:gap-8`,children:t.length>0?t.map((e,t)=>(0,Z.jsx)(EP,{app:e,index:t,spaces:x.get(Jp(e.naddr))||[],onDeleteApp:r,onDeleteSpace:s,onRenameSpace:c,onOpenSource:w,onLaunch:D,pubkey:a},e.naddr)):(0,Z.jsx)(`div`,{className:`p-12 md:p-20 text-center bg-surface border border-white/5 rounded-[32px] md:rounded-[48px]`,children:(0,Z.jsx)(`p`,{className:`text-lg md:text-xl text-gray-600 font-light`,children:`No apps in your library. Start by creating one from the home screen.`})})})]}),S.length>0&&(0,Z.jsxs)(`section`,{className:`mb-12 md:mb-20`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 mb-8 md:mb-10`,children:[(0,Z.jsx)(`div`,{className:`w-8 h-8 md:w-10 md:h-10 rounded-xl md:rounded-2xl bg-vivid-cyan/10 flex items-center justify-center text-vivid-cyan`,children:(0,Z.jsx)(rr,{size:18})}),(0,Z.jsx)(`h2`,{className:`text-[10px] md:text-sm font-black text-gray-400 uppercase tracking-[0.2em] md:tracking-[0.3em]`,children:`Shared Spaces (Other Apps)`}),(0,Z.jsx)(`div`,{className:`h-px flex-1 bg-white/5`})]}),(0,Z.jsx)(`div`,{className:`bg-card/40 border border-white/5 rounded-[32px] md:rounded-[40px] p-4 md:p-6 backdrop-blur-sm`,children:(0,Z.jsx)(`div`,{className:`space-y-3`,children:S.map(e=>(0,Z.jsxs)(`div`,{className:`flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-xl bg-vivid-cyan/20 flex items-center justify-center text-vivid-cyan`,children:(0,Z.jsx)(rr,{size:18})}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h3`,{className:`font-bold text-white`,children:e.name}),e.appOrigin&&(0,Z.jsx)(wP,{naddr:e.appOrigin,className:`text-xs text-gray-500 font-mono`})]})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-2`,children:[e.appOrigin&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`button`,{onClick:()=>T(e),className:`p-2 hover:bg-white/10 rounded-lg text-gray-500 hover:text-vivid-cyan transition-colors`,title:`Launch App`,children:(0,Z.jsx)(gr,{size:16})}),(0,Z.jsx)(`button`,{onClick:()=>E(e),className:`p-2 hover:bg-white/10 rounded-lg text-gray-500 hover:text-white transition-colors`,title:`View App Info`,children:(0,Z.jsx)(tr,{size:16})})]}),(0,Z.jsx)(`button`,{onClick:()=>s(e.id),className:`p-2 hover:bg-white/10 rounded-lg text-gray-500 hover:text-red-500 transition-colors`,title:`Delete Space`,children:(0,Z.jsx)(Tr,{size:16})})]})]},e.id))})})]}),C.length>0&&(0,Z.jsxs)(`section`,{children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 mb-8 md:mb-10`,children:[(0,Z.jsx)(`div`,{className:`w-8 h-8 md:w-10 md:h-10 rounded-xl md:rounded-2xl bg-vivid-cyan/10 flex items-center justify-center text-vivid-cyan`,children:(0,Z.jsx)(rr,{size:18})}),(0,Z.jsx)(`h2`,{className:`text-[10px] md:text-sm font-black text-gray-400 uppercase tracking-[0.2em] md:tracking-[0.3em]`,children:`Legacy Data Spaces`}),(0,Z.jsx)(`div`,{className:`h-px flex-1 bg-white/5`})]}),(0,Z.jsx)(`div`,{className:`bg-card/40 border border-white/5 rounded-[32px] md:rounded-[40px] p-4 md:p-6 backdrop-blur-sm`,children:(0,Z.jsx)(`div`,{className:`space-y-3`,children:C.map((e,t)=>(0,Z.jsx)(OP,{space:e,index:t,onDelete:s},e.id))})})]}),(0,Z.jsx)(mP,{isOpen:u,onClose:()=>d(!1),returnTo:`/`,...v}),(0,Z.jsx)(xP,{isOpen:f,onClose:()=>p(!1),app:g,onCreateNew:()=>{p(!1),h(!0)},spaces:o,createSpace:l}),(0,Z.jsx)(SP,{isOpen:m,onClose:()=>h(!1),initialAppId:g?.naddr,createSpace:l})]})};var EP=({app:e,index:t,spaces:n,onDeleteApp:r,onDeleteSpace:i,onRenameSpace:a,onOpenSource:o,onLaunch:s,pubkey:c})=>{let l=$e(),[u,d]=(0,b.useState)(n.length>0),[f,p]=(0,b.useState)(!1),[m,h]=(0,b.useState)(!1),g=async()=>{p(!0),await r(e.naddr),p(!1),h(!1)},_=t=>{l(`/run/${e.naddr}?spaceId=${t.id}&spaceName=${encodeURIComponent(t.name)}`)},v=(0,b.useMemo)(()=>{try{return Ad.decode(e.naddr).data.pubkey===c}catch{return!1}},[e.naddr,c]);return(0,Z.jsxs)(ZN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05,ease:`easeOut`},className:`bg-surface border border-white/5 rounded-[32px] overflow-hidden group/card hover:border-white/10 hover:bg-white/[0.02] transition-all duration-500 shadow-xl hover:shadow-2xl`,children:[(0,Z.jsxs)(`div`,{className:`p-6 relative`,children:[(0,Z.jsx)(mw,{children:m&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`absolute inset-0 bg-background/95 backdrop-blur-md rounded-t-[32px] flex items-center justify-between px-10 z-20 border border-red-500/20`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,Z.jsx)(Jn,{size:22,className:`text-red-500`}),(0,Z.jsx)(`span`,{className:`text-lg font-medium`,children:`Remove from library?`})]}),(0,Z.jsxs)(`div`,{className:`flex gap-4`,children:[(0,Z.jsx)(`button`,{onClick:()=>h(!1),className:`px-6 py-2.5 rounded-2xl bg-white/5 hover:bg-white/10 transition-colors font-medium`,disabled:f,children:`Keep It`}),(0,Z.jsxs)(`button`,{onClick:g,className:`px-6 py-2.5 rounded-2xl bg-red-600 text-white hover:bg-red-700 transition-colors flex items-center gap-2 font-bold`,disabled:f,children:[f?(0,Z.jsx)(`div`,{className:`w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin`}):(0,Z.jsx)(Tr,{size:16}),`Remove`]})]})]})}),(0,Z.jsxs)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center gap-6`,children:[(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Z.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 md:gap-3 mb-2`,children:[(0,Z.jsx)(`h3`,{className:`text-xl md:text-2xl font-black truncate transition-colors duration-500`,children:e.name}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Z.jsxs)(`span`,{className:`flex items-center gap-1.5 text-[8px] md:text-[10px] text-vivid-yellow bg-vivid-yellow/10 border border-vivid-yellow/20 px-2 md:px-3 py-0.5 md:py-1 rounded-full uppercase font-black tracking-widest`,children:[(0,Z.jsx)(wr,{size:8,fill:`currentColor`,className:`md:w-[10px] md:h-[10px]`}),`Verified`]}),n.length>0&&(0,Z.jsxs)(`span`,{className:`flex items-center gap-1.5 text-[8px] md:text-[10px] text-vivid-cyan bg-vivid-cyan/10 border border-vivid-cyan/20 px-2 md:px-3 py-0.5 md:py-1 rounded-full uppercase font-black tracking-widest`,children:[(0,Z.jsx)(rr,{size:8,className:`md:w-[10px] md:h-[10px]`}),n.length,` Spaces`]})]})]}),(0,Z.jsxs)(`p`,{className:`text-xs md:text-sm text-gray-700 font-light`,children:[`Added `,new Date(e.createdAt).toLocaleDateString(void 0,{month:`long`,day:`numeric`,year:`numeric`})]})]}),(0,Z.jsxs)(`div`,{className:`w-full md:w-auto flex items-center justify-between md:justify-end gap-3 md:gap-4 mt-4 md:mt-0`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center bg-white/5 rounded-2xl p-0.5 md:p-1 md:opacity-0 md:group-hover/card:opacity-100 transition-opacity duration-300`,children:[(0,Z.jsx)(`button`,{onClick:()=>o(e,v?`edit`:`view`),title:v?`Edit Source`:`View App Info`,className:`w-10 h-10 rounded-xl flex items-center justify-center text-gray-500 hover:text-white hover:bg-white/5 transition-all`,children:v?(0,Z.jsx)(hr,{size:18}):(0,Z.jsx)(tr,{size:18})}),(0,Z.jsx)(`button`,{onClick:()=>h(!0),title:`Remove App`,className:`w-10 h-10 rounded-xl flex items-center justify-center text-gray-500 hover:text-red-500 hover:bg-red-500/5 transition-all`,children:(0,Z.jsx)(Tr,{size:18})})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Z.jsxs)(`button`,{onClick:()=>s(e),className:`h-10 md:h-11 px-4 md:px-6 rounded-2xl bg-white text-black hover:bg-vivid-cyan hover:text-black transition-all flex items-center gap-3 font-black text-xs md:text-sm active:scale-95 translate-y-0 hover:-translate-y-0.5`,children:[(0,Z.jsx)(gr,{size:14,className:`md:w-4 md:h-4`,fill:`currentColor`}),`Launch`]}),(0,Z.jsx)(`button`,{onClick:()=>d(!u),className:qp(`w-10 h-10 md:w-11 md:h-11 rounded-2xl bg-white/5 flex items-center justify-center text-gray-700 hover:bg-white/10 transition-all`,u&&`bg-white/10 text-white`),children:u?(0,Z.jsx)(Gn,{size:20}):(0,Z.jsx)(qn,{size:20})})]})]})]})]}),(0,Z.jsx)(mw,{children:u&&(0,Z.jsx)(ZN.div,{initial:{height:0,opacity:0},animate:{height:`auto`,opacity:1},exit:{height:0,opacity:0},className:`overflow-hidden`,children:(0,Z.jsx)(`div`,{className:`px-6 pb-6 pt-2`,children:n.length>0?(0,Z.jsxs)(`div`,{className:`space-y-2.5 p-4 bg-background/50 rounded-[24px] border border-white/5`,children:[(0,Z.jsxs)(`p`,{className:`text-[10px] font-black text-gray-700 uppercase tracking-[0.2em] mb-4 px-2 flex items-center gap-2`,children:[(0,Z.jsx)(rr,{size:12,className:`text-vivid-yellow`}),`App Spaces`]}),n.map((e,t)=>(0,Z.jsx)(DP,{space:e,index:t,onDelete:i,onRename:a,onLaunch:()=>_(e)},e.id))]}):(0,Z.jsx)(`div`,{className:`p-8 text-center bg-background/50 rounded-[24px] border border-dashed border-white/5`,children:(0,Z.jsx)(`p`,{className:`text-sm text-gray-700 font-light`,children:`No data spaces detected for this integration.`})})})})})]})},DP=({space:e,onDelete:t,onRename:n,onLaunch:r})=>{let[i,a]=(0,b.useState)(!1),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)(!1),[u,d]=(0,b.useState)(e.name),[f,p]=(0,b.useState)(!1),m=async()=>{a(!0),await t(e.id),a(!1),s(!1)},h=async()=>{if(!u.trim()||u===e.name){l(!1);return}p(!0),await n(e.id,u),p(!1),l(!1)},g=t=>{t.key===`Enter`&&h(),t.key===`Escape`&&(d(e.name),l(!1))},_=!e.name||e.name.startsWith(`Space `);return(0,Z.jsxs)(`div`,{className:`group relative flex items-center gap-4 p-3 rounded-2xl hover:bg-white/5 border border-transparent hover:border-white/10 transition-all duration-300`,children:[(0,Z.jsx)(mw,{children:o&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`absolute inset-0 bg-background/98 backdrop-blur-sm rounded-2xl flex items-center justify-between px-6 z-10 border border-red-500/20 shadow-xl`,children:[(0,Z.jsx)(`span`,{className:`text-xs font-bold text-gray-500`,children:`Permanently delete space?`}),(0,Z.jsxs)(`div`,{className:`flex gap-3`,children:[(0,Z.jsx)(`button`,{onClick:()=>s(!1),className:`px-3 py-1.5 text-[10px] font-black uppercase rounded-lg bg-white/5 hover:bg-white/10`,disabled:i,children:`No`}),(0,Z.jsxs)(`button`,{onClick:m,className:`px-3 py-1.5 text-[10px] font-black uppercase rounded-lg bg-red-600 text-white flex items-center gap-2`,disabled:i,children:[i&&(0,Z.jsx)(`div`,{className:`w-3 h-3 border border-white/30 border-t-white rounded-full animate-spin`}),`Confirm`]})]})]})}),(0,Z.jsx)(`div`,{onClick:c?void 0:r,className:qp(`w-8 h-8 rounded-xl bg-vivid-yellow/10 border border-vivid-yellow/20 flex items-center justify-center text-vivid-yellow shrink-0 transition-transform group-hover:scale-110`,!c&&`cursor-pointer hover:bg-vivid-yellow/20`),children:(0,Z.jsx)(rr,{size:14})}),(0,Z.jsx)(`div`,{className:`flex-1 min-w-0`,children:c?(0,Z.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,Z.jsx)(`input`,{autoFocus:!0,value:u,onChange:e=>d(e.target.value),onKeyDown:g,className:`bg-black/40 border border-white/10 rounded-lg px-2 py-1 text-sm text-white w-full outline-none focus:border-vivid-yellow/50`})}):(0,Z.jsx)(`span`,{className:qp(`text-sm font-semibold transition-colors group-hover:text-vivid-yellow truncate block cursor-pointer`,_?`text-gray-700 italic font-light`:`text-gray-300`),onClick:r,children:e.name})}),!c&&(0,Z.jsxs)(`span`,{className:`px-2 py-0.5 rounded-md bg-white/5 text-[9px] text-gray-700 font-mono tracking-wider uppercase shrink-0 hidden md:block`,children:[`#`,e.id.slice(0,6)]}),c?(0,Z.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Z.jsx)(`button`,{onClick:()=>l(!1),disabled:f,className:`p-1.5 rounded-lg hover:bg-white/10 text-gray-500 disabled:opacity-50`,children:(0,Z.jsx)(Qn,{size:14})}),(0,Z.jsx)(`button`,{onClick:h,disabled:f,className:`p-1.5 rounded-lg hover:bg-vivid-yellow/20 text-vivid-yellow disabled:opacity-50`,children:f?(0,Z.jsx)(`div`,{className:`w-3 h-3 border border-current border-t-transparent rounded-full animate-spin`}):(0,Z.jsx)(Wn,{size:14})})]}):(0,Z.jsxs)(`div`,{className:`flex items-center md:opacity-0 md:group-hover:opacity-100 transition-opacity`,children:[(0,Z.jsx)(`button`,{onClick:()=>{d(e.name),l(!0)},className:`w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-gray-700 hover:text-white transition-all shrink-0 mr-1`,children:(0,Z.jsx)(hr,{size:14})}),(0,Z.jsx)(`button`,{onClick:()=>s(!0),className:`w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-gray-700 hover:text-red-500 transition-all md:opacity-0 md:group-hover:opacity-100 shrink-0`,children:(0,Z.jsx)(Tr,{size:14})})]})]})},OP=({space:e,onDelete:t})=>{let[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(!1);return(0,Z.jsxs)(`div`,{className:`group relative flex items-center gap-4 p-3 rounded-2xl hover:bg-white/5 transition-all`,children:[(0,Z.jsx)(mw,{children:i&&(0,Z.jsxs)(ZN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute inset-0 bg-background/95 backdrop-blur-sm rounded-2xl flex items-center justify-between px-6 z-10 border border-red-500/20`,children:[(0,Z.jsx)(`span`,{className:`text-xs font-bold text-gray-700 uppercase tracking-widest`,children:`Delete Legacy Space?`}),(0,Z.jsxs)(`div`,{className:`flex gap-3`,children:[(0,Z.jsx)(`button`,{onClick:()=>a(!1),className:`px-3 py-1.5 text-[10px] font-black rounded-lg bg-white/5`,disabled:n,children:`No`}),(0,Z.jsxs)(`button`,{onClick:async()=>{r(!0),await t(e.id),r(!1),a(!1)},className:`px-3 py-1.5 text-[10px] font-black rounded-lg bg-red-600 text-white flex items-center gap-2`,disabled:n,children:[n&&(0,Z.jsx)(`div`,{className:`w-3 h-3 border border-white/30 border-t-white rounded-full animate-spin`}),`Yes`]})]})]})}),(0,Z.jsx)(`div`,{className:`w-8 h-8 rounded-xl bg-surface flex items-center justify-center text-gray-700 shrink-0`,children:(0,Z.jsx)(mr,{size:14})}),(0,Z.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,Z.jsx)(`span`,{className:`text-sm text-gray-700 truncate font-light block`,children:e.name})}),(0,Z.jsxs)(`span`,{className:`text-[9px] text-gray-700 font-mono tracking-widest uppercase hidden md:block`,children:[`#`,e.id.slice(0,6)]}),(0,Z.jsx)(`button`,{onClick:()=>a(!0),className:`w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-gray-700 hover:text-red-500 transition-all md:opacity-0 md:group-hover:opacity-100 shrink-0`,children:(0,Z.jsx)(Tr,{size:14})})]})};const kP=()=>{let{host:e,isReady:t}=iP(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)({});(0,b.useEffect)(()=>{let e=localStorage.getItem(`mirage_relays`);if(e)try{r(JSON.parse(e))}catch{r(ew)}else r(ew)},[]),(0,b.useEffect)(()=>{if(!t||!e)return;let n=async()=>{try{let t=await e.getRelayStats(),n={};t.forEach(e=>n[e.url]=e.status),a(n)}catch(e){console.warn(`Failed to poll relay stats`,e)}};n();let r=setInterval(n,2e3);return()=>clearInterval(r)},[e,t]),(0,b.useEffect)(()=>{!t||!e||n.length===0||(n.forEach(t=>e.addRelay(t)),$C.forEach(t=>{n.includes(t.url)||e.removeRelay(t.url)}))},[e,t,n]);let o=(0,b.useCallback)(e=>{r(t=>{let n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem(`mirage_relays`,JSON.stringify(n)),n})},[]);return{relayList:$C.map(e=>({url:e.url,name:e.name,status:i[e.url]||`disconnected`,enabled:n.includes(e.url)})),toggleRelay:o}},AP=()=>{let{relayList:e,toggleRelay:t}=kP(),{settings:n,updateSettings:r}=fP(),{pubkey:i,profile:a}=iP(),[o,s]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{let e=()=>{let e=navigator.userAgent.toLowerCase(),t=`ontouchstart`in window||navigator.maxTouchPoints>0;s(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)||t&&window.innerWidth<1024)};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]),(0,Z.jsxs)(`div`,{className:`max-w-4xl mx-auto`,children:[(0,Z.jsxs)(`header`,{className:`mb-12`,children:[(0,Z.jsxs)(`h1`,{className:`text-4xl font-black mb-4 tracking-tight`,children:[`System `,(0,Z.jsx)(`span`,{className:`serif-italic text-vivid-cyan`,children:`Settings`})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-lg font-light`,children:`Configure your device and network preferences.`})]}),(0,Z.jsxs)(`div`,{className:`bg-card/40 border border-white/5 rounded-[32px] overflow-hidden backdrop-blur-xl mb-8`,children:[(0,Z.jsx)(`div`,{className:`p-8 border-b border-white/5`,children:(0,Z.jsxs)(`h2`,{className:`text-sm font-black text-gray-400 uppercase tracking-[0.2em] flex items-center gap-2`,children:[(0,Z.jsx)(Er,{size:16}),`Identity`]})}),(0,Z.jsx)(`div`,{className:`p-6`,children:(0,Z.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 overflow-hidden`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-vivid-cyan shrink-0 overflow-hidden`,children:a?.picture?(0,Z.jsx)(`img`,{src:a.picture,alt:a.displayName||`Profile`,className:`w-full h-full object-cover`}):(0,Z.jsx)(Er,{size:20})}),(0,Z.jsxs)(`div`,{className:`overflow-hidden`,children:[(0,Z.jsx)(`div`,{className:`font-bold text-white mb-1`,children:a?.displayName||a?.name||`Public Key`}),(0,Z.jsx)(`div`,{className:`text-xs text-gray-500 font-mono truncate max-w-[200px] md:max-w-md`,children:i?Ad.npubEncode(i):`Not logged in`})]})]}),i&&(0,Z.jsx)(`button`,{onClick:()=>navigator.clipboard.writeText(Ad.npubEncode(i)),className:`p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors text-gray-400 hover:text-white`,title:`Copy npub`,children:(0,Z.jsx)(nr,{size:18})})]})})]}),o&&(0,Z.jsxs)(`div`,{className:`bg-card/40 border border-white/5 rounded-[32px] overflow-hidden backdrop-blur-xl mb-8`,children:[(0,Z.jsx)(`div`,{className:`p-8 border-b border-white/5`,children:(0,Z.jsxs)(`h2`,{className:`text-sm font-black text-gray-400 uppercase tracking-[0.2em] flex items-center gap-2`,children:[(0,Z.jsx)(Cr,{size:16}),`Device Preferences`]})}),(0,Z.jsx)(`div`,{className:`divide-y divide-white/5`,children:(0,Z.jsxs)(`div`,{className:`p-6 flex items-center justify-between hover:bg-white/5 transition-colors`,children:[(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0 flex items-center gap-4`,children:[(0,Z.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-vivid-magenta shrink-0`,children:(0,Z.jsx)(pr,{size:20})}),(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Z.jsx)(`div`,{className:`font-bold text-white mb-1 truncate`,children:`Prevent Screen Sleep`}),(0,Z.jsx)(`div`,{className:`text-xs text-gray-500 truncate`,children:`Keep the screen awake while using Mirage`})]})]}),(0,Z.jsx)(`button`,{onClick:()=>r({wakeLockEnabled:!n.wakeLockEnabled}),role:`switch`,"aria-checked":n.wakeLockEnabled,className:qp(`w-14 h-8 rounded-full p-1 transition-colors duration-300 relative focus:outline-none focus:ring-2 focus:ring-vivid-magenta/50 shrink-0 ml-4`,n.wakeLockEnabled?`bg-vivid-magenta/20`:`bg-white/5`),children:(0,Z.jsx)(ZN.div,{className:qp(`w-6 h-6 rounded-full shadow-lg`,n.wakeLockEnabled?`bg-vivid-magenta`:`bg-gray-500`),animate:{x:n.wakeLockEnabled?24:0},transition:{type:`spring`,stiffness:500,damping:30}})})]})})]}),(0,Z.jsxs)(`div`,{className:`bg-card/40 border border-white/5 rounded-[32px] overflow-hidden backdrop-blur-xl`,children:[(0,Z.jsx)(`div`,{className:`p-8 border-b border-white/5`,children:(0,Z.jsx)(`h2`,{className:`text-sm font-black text-gray-400 uppercase tracking-[0.2em]`,children:`Public Relays`})}),(0,Z.jsx)(`div`,{className:`divide-y divide-white/5`,children:e.map(e=>(0,Z.jsxs)(`div`,{className:`p-6 flex items-center justify-between hover:bg-white/5 transition-colors`,children:[(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0 flex items-center gap-4`,children:[(0,Z.jsx)(`div`,{className:`relative shrink-0`,children:(0,Z.jsx)(`div`,{className:qp(`w-3 h-3 rounded-full`,e.status===`connected`?`bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]`:e.status===`connecting`?`bg-yellow-500 animate-pulse`:e.status===`error`?`bg-red-500`:`bg-gray-600`)})}),(0,Z.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Z.jsx)(`div`,{className:`font-bold text-white mb-1 truncate`,children:e.name}),(0,Z.jsx)(`div`,{className:`text-xs text-gray-500 font-mono truncate`,children:e.url})]})]}),(0,Z.jsxs)(`div`,{className:`flex items-center gap-4 md:gap-6 shrink-0 ml-2`,children:[(0,Z.jsx)(`div`,{className:`text-xs font-medium uppercase tracking-wider text-gray-600 hidden md:block w-24 text-right`,children:e.status}),(0,Z.jsx)(`button`,{onClick:()=>t(e.url),role:`switch`,"aria-checked":e.enabled,"aria-label":`Toggle ${e.name}`,className:qp(`w-14 h-8 rounded-full p-1 transition-colors duration-300 relative focus:outline-none focus:ring-2 focus:ring-vivid-cyan/50 shrink-0`,e.enabled?`bg-vivid-cyan/20`:`bg-white/5`),children:(0,Z.jsx)(ZN.div,{className:qp(`w-6 h-6 rounded-full shadow-lg`,e.enabled?`bg-vivid-cyan`:`bg-gray-500`),animate:{x:e.enabled?24:0},transition:{type:`spring`,stiffness:500,damping:30}})})]})]},e.url))})]})]})},jP=()=>{let[e,t]=(0,b.useState)(`user`);return(0,Z.jsxs)(`div`,{className:`max-w-4xl mx-auto pb-20`,children:[(0,Z.jsx)(`header`,{className:`mb-16`,children:(0,Z.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-8`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`h1`,{className:`text-4xl md:text-6xl font-black mb-6 tracking-tighter`,children:[`Using `,(0,Z.jsx)(`span`,{className:`text-transparent bg-clip-text bg-brand-gradient`,children:`Mirage`})]}),(0,Z.jsx)(`p`,{className:`text-gray-500 text-xl font-light max-w-xl`,children:`Understanding the core concepts of the decentralized web.`})]}),(0,Z.jsxs)(`div`,{className:`bg-surface border border-white/10 p-1 rounded-2xl flex items-center gap-1 self-start`,children:[(0,Z.jsxs)(`button`,{onClick:()=>t(`user`),className:qp(`flex items-center gap-2 px-6 py-3 rounded-xl transition-all font-bold text-sm`,e===`user`?`bg-white text-black shadow-lg`:`text-gray-500 hover:text-white hover:bg-white/5`),children:[(0,Z.jsx)(Un,{size:16}),`Simple`]}),(0,Z.jsxs)(`button`,{onClick:()=>t(`tech`),className:qp(`flex items-center gap-2 px-6 py-3 rounded-xl transition-all font-bold text-sm`,e===`tech`?`bg-vivid-cyan text-black shadow-lg shadow-vivid-cyan/20`:`text-gray-500 hover:text-white hover:bg-white/5`),children:[(0,Z.jsx)(tr,{size:16}),`Technical`]})]})]})}),(0,Z.jsxs)(`div`,{className:`grid gap-12`,children:[(0,Z.jsx)(MP,{title:`Apps`,icon:lr,color:`text-vivid-magenta`,mode:e,userContent:(0,Z.jsxs)(`div`,{className:`space-y-4`,children:[(0,Z.jsxs)(`p`,{children:[`An `,(0,Z.jsx)(`strong`,{children:`App`}),` in Mirage is just like any other website or tool you use, but with one key difference: it doesn't own your data.`]}),(0,Z.jsx)(`p`,{children:`When you use a Mirage app (like a notepad, a calendar, or a game), you bring your own data "backpack" (a Space). The app creates an interface for you to view and edit that data, but the data itself stays in your backpack.`}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:ar,text:`Accessed through your browser`}),(0,Z.jsx)(NP,{icon:Sr,text:`Cannot see data from your other spaces`})]})]}),techContent:(0,Z.jsxs)(`div`,{className:`space-y-4 font-mono text-sm leading-relaxed text-gray-400`,children:[(0,Z.jsxs)(`p`,{children:[`A Mirage `,(0,Z.jsx)(`strong`,{children:`App`}),` is a self-contained web application (HTML/JS/CSS) stored immutably on Nostr relays as a `,(0,Z.jsx)(`span`,{className:`text-vivid-cyan`,children:`Kind 30078`}),` event (or similar parameterized replaceable event).`]}),(0,Z.jsxs)(`p`,{children:[`Apps run inside a sandboxed iframe within the Mirage Host. They utilize the `,(0,Z.jsx)(`span`,{className:`text-vivid-cyan`,children:`Mirage Engine API`}),` (via window.postMessage) to request data. They are stateless by default and must request access to a storage context (Space) to persist information.`]}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:br,text:`Hosted on decentralized relays`}),(0,Z.jsx)(NP,{icon:tr,text:`Sandboxed execution environment`})]})]})}),(0,Z.jsx)(MP,{title:`Spaces`,icon:rr,color:`text-vivid-cyan`,mode:e,userContent:(0,Z.jsxs)(`div`,{className:`space-y-4`,children:[(0,Z.jsxs)(`p`,{children:[`A `,(0,Z.jsx)(`strong`,{children:`Space`}),` is a secure, private room for your data. Think of it like a folder on your computer, or a separate notebook.`]}),(0,Z.jsx)(`p`,{children:`You can create multiple Spaces for the same App. For example, if you have a "Project Manager" app, you might create one Space for "Work Projects" and another for "Personal Projects". Data in one space is completely invisible to the other.`}),(0,Z.jsxs)(`p`,{children:[`Spaces are using `,(0,Z.jsx)(`strong`,{children:`symmetric encryption`}),`, meaning everyone in the space shares the same key to read and write data. This key is securely shared with you when you are invited.`]}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:cr,text:`Encrypted and private by default`}),(0,Z.jsx)(NP,{icon:Dr,text:`Invite others to collaborate`})]})]}),techContent:(0,Z.jsxs)(`div`,{className:`space-y-4 font-mono text-sm leading-relaxed text-gray-400`,children:[(0,Z.jsxs)(`p`,{children:[`A `,(0,Z.jsx)(`strong`,{children:`Space`}),` relies on a shared `,(0,Z.jsx)(`strong`,{children:`symmetric encryption key`}),`. All events within the space are encrypted using this key.`]}),(0,Z.jsx)(`p`,{children:`When a space is created, a random symmetric key is generated. This key is never published in plaintext. Instead, it is stored in your private NIP-78 keychain encypted to your own public key.`}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:Sr,text:`Symmetric Encryption (Shared Key)`}),(0,Z.jsx)(NP,{icon:rr,text:`Scoped Query Validation`})]})]})}),(0,Z.jsx)(MP,{title:`Invites`,icon:yr,color:`text-vivid-yellow`,mode:e,userContent:(0,Z.jsxs)(`div`,{className:`space-y-4`,children:[(0,Z.jsxs)(`p`,{children:[`Sending an `,(0,Z.jsx)(`strong`,{children:`Invite`}),` is like creating a secure copy of the key to your Space and handing it to a friend.`]}),(0,Z.jsx)(`p`,{children:`When you invite someone, Mirage securely packages the Space's key and sends it to them. Their Mirage app automatically detects this package, unlocks it, and adds the Space to their library.`}),(0,Z.jsx)(`p`,{children:`This happens entirely in the background. You don't need to copy-paste distinct keys or passwords; the invitation system handles the handshake for you.`}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:yr,text:`Secure automated delivery`}),(0,Z.jsx)(NP,{icon:Dr,text:`Auto-discovery of invitations`})]})]}),techContent:(0,Z.jsxs)(`div`,{className:`space-y-4 font-mono text-sm leading-relaxed text-gray-400`,children:[(0,Z.jsxs)(`p`,{children:[(0,Z.jsx)(`strong`,{children:`Invites`}),` utilize `,(0,Z.jsx)(`strong`,{children:`NIP-17 Gift Wraps`}),` (Kind 1059) to securely distribute the Space's symmetric key.`]}),(0,Z.jsxs)(`p`,{children:[`1. `,(0,Z.jsx)(`strong`,{children:`Wrapping:`}),` The inviter encrypts the Space's symmetric key to the recipient's public key and wraps it in a sealed rumor event (Kind 13).`]}),(0,Z.jsxs)(`p`,{children:[`2. `,(0,Z.jsx)(`strong`,{children:`Delivery:`}),` This wrapped package is published as a Gift Wrap event to the connected relays.`]}),(0,Z.jsxs)(`p`,{children:[`3. `,(0,Z.jsx)(`strong`,{children:`Discovery:`}),` The recipient's Engine runs a background background process that scans for new Gift Wraps, decrypts them, and automatically merges the new keys into their local NIP-78 keychain.`]}),(0,Z.jsxs)(`ul`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-6`,children:[(0,Z.jsx)(NP,{icon:Sr,text:`NIP-17 Gift Wraps (Kind 1059)`}),(0,Z.jsx)(NP,{icon:br,text:`Background Sync & Decryption`})]})]})})]})]})};var MP=({title:e,icon:t,color:n,mode:r,userContent:i,techContent:a})=>(0,Z.jsx)(`div`,{className:`bg-surface border border-white/5 rounded-[40px] overflow-hidden`,children:(0,Z.jsxs)(`div`,{className:`p-8 md:p-10 border-b border-white/5 bg-white/[0.02]`,children:[(0,Z.jsxs)(`div`,{className:`flex items-center gap-6 mb-6`,children:[(0,Z.jsx)(`div`,{className:qp(`w-16 h-16 rounded-2xl flex items-center justify-center bg-background border border-white/5 shadow-inner`,n),children:(0,Z.jsx)(t,{size:32})}),(0,Z.jsx)(`h2`,{className:`text-3xl font-black`,children:e})]}),(0,Z.jsx)(`div`,{className:`min-h-[160px]`,children:(0,Z.jsx)(mw,{mode:`wait`,children:(0,Z.jsx)(ZN.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:r===`user`?i:a},r)})})]})}),NP=({icon:e,text:t})=>(0,Z.jsxs)(`li`,{className:`flex items-center gap-3 text-sm text-gray-500`,children:[(0,Z.jsx)(e,{size:16,className:`text-gray-400`}),t]});function PP(){return(0,Z.jsx)(rP,{children:(0,Z.jsx)(Zp,{children:(0,Z.jsx)(gn,{basename:`/mirage/`,children:(0,Z.jsx)(At,{children:(0,Z.jsxs)(Ot,{path:`/`,element:(0,Z.jsx)(pP,{}),children:[(0,Z.jsx)(Ot,{index:!0,element:(0,Z.jsx)(TP,{})}),(0,Z.jsx)(Ot,{path:`create`,element:(0,Z.jsx)(_P,{})}),(0,Z.jsx)(Ot,{path:`run/:naddr`,element:(0,Z.jsx)(yP,{})}),(0,Z.jsx)(Ot,{path:`preview`,element:(0,Z.jsx)(bP,{})}),(0,Z.jsx)(Ot,{path:`favorites`,element:(0,Z.jsx)(`div`,{children:`Favorites (Coming Soon)`})}),(0,Z.jsx)(Ot,{path:`settings`,element:(0,Z.jsx)(AP,{})}),(0,Z.jsx)(Ot,{path:`help`,element:(0,Z.jsx)(jP,{})})]})})})})})}var FP=PP;y.createRoot(document.getElementById(`root`)).render((0,Z.jsx)(b.StrictMode,{children:(0,Z.jsx)(FP,{})}));export{KC as _,JC as a,Jp as b,WC as c,UC as d,fy as f,MC as g,qC as h,YC as i,HC as l,BC as m,QC as n,PC as o,RC as p,AC as r,IC as s,NC as t,FC as u,LC as v,qp as y};